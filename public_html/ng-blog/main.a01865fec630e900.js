"use strict";(self.webpackChunkng_blog=self.webpackChunkng_blog||[]).push([[179],{1205:(xt,Ye,A)=>{A.d(Ye,{zQ:()=>Be,ww:()=>$e,rT:()=>Me,f7:()=>We,L6:()=>we,_Q:()=>Fe,lh:()=>He,Qv:()=>ze,nw:()=>at});var c=A(5e3),D=A(7579),W=A(9646),j=A(8306),Re=A(8996),Te=A(6451),Ve=A(6063);class me extends D.x{constructor(Nt=1/0,Zt=1/0,dt=Ve.l){super(),this._bufferSize=Nt,this._windowTime=Zt,this._timestampProvider=dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Zt===1/0,this._bufferSize=Math.max(1,Nt),this._windowTime=Math.max(1,Zt)}next(Nt){const{isStopped:Zt,_buffer:dt,_infiniteTimeWindow:rt,_timestampProvider:Ct,_windowTime:_t}=this;Zt||(dt.push(Nt),!rt&&dt.push(Ct.now()+_t)),this._trimBuffer(),super.next(Nt)}_subscribe(Nt){this._throwIfClosed(),this._trimBuffer();const Zt=this._innerSubscribe(Nt),{_infiniteTimeWindow:dt,_buffer:rt}=this,Ct=rt.slice();for(let _t=0;_t<Ct.length&&!Nt.closed;_t+=dt?1:2)Nt.next(Ct[_t]);return this._checkFinalizedStatuses(Nt),Zt}_trimBuffer(){const{_bufferSize:Nt,_timestampProvider:Zt,_buffer:dt,_infiniteTimeWindow:rt}=this,Ct=(rt?1:2)*Nt;if(Nt<1/0&&Ct<dt.length&&dt.splice(0,dt.length-Ct),!rt){const _t=Zt.now();let Ft=0;for(let Wt=1;Wt<dt.length&&dt[Wt]<=_t;Wt+=2)Ft=Wt;Ft&&dt.splice(0,Ft+1)}}}var Ae=A(3099);function de(Et,Nt,Zt){var dt,rt;let Ct,_t=!1;return Et&&"object"==typeof Et?(Ct=null!==(dt=Et.bufferSize)&&void 0!==dt?dt:1/0,Nt=null!==(rt=Et.windowTime)&&void 0!==rt?rt:1/0,_t=!!Et.refCount,Zt=Et.scheduler):Ct=null!=Et?Et:1/0,(0,Ae.B)({connector:()=>new me(Ct,Nt,Zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_t})}var ie=A(3900),be=A(576);function ot(Et,Nt){return(0,be.m)(Nt)?(0,ie.w)(()=>Et,Nt):(0,ie.w)(()=>Et)}var Ne=A(5363),Ge=A(4004),Ze=A(590),xe=A(9468),ut=A(9300),De=A(400),tt=A(2011),ke=A(9808),ye=A(127);const ze=new c.OlP("angularfire2.auth.use-emulator"),we=new c.OlP("angularfire2.auth.settings"),Fe=new c.OlP("angularfire2.auth.tenant-id"),Me=new c.OlP("angularfire2.auth.langugage-code"),He=new c.OlP("angularfire2.auth.use-device-language"),We=new c.OlP("angularfire.auth.persistence"),at=(Et,Nt,Zt,dt,rt,Ct,_t,Ft)=>(0,De.cc)(`${Et.name}.auth`,"AngularFireAuth",Et.name,()=>{const Wt=Nt.runOutsideAngular(()=>Et.auth());if(Zt&&Wt.useEmulator(...Zt),dt&&(Wt.tenantId=dt),Wt.languageCode=rt,Ct&&Wt.useDeviceLanguage(),_t)for(const[tn,on]of Object.entries(_t))Wt.settings[tn]=on;return Ft&&Wt.setPersistence(Ft),Wt},[Zt,dt,rt,Ct,_t,Ft]);let Be=(()=>{class Et{constructor(Zt,dt,rt,Ct,_t,Ft,Wt,tn,on,an,Zn){const Bn=new D.x,Pn=(0,W.of)(void 0).pipe((0,Ne.Q)(_t.outsideAngular),(0,ie.w)(()=>Ct.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,5881)))),(0,Ge.U)(()=>(0,tt.on)(Zt,Ct,dt)),(0,Ge.U)(On=>at(On,Ct,Ft,tn,on,an,Wt,Zn)),de({bufferSize:1,refCount:!1}));if((0,ke.PM)(rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Pn.pipe((0,Ze.P)()).subscribe();const Tn=Pn.pipe((0,ie.w)(wn=>wn.getRedirectResult().then(Ht=>Ht,()=>null)),De.iC,de({bufferSize:1,refCount:!1})),An=Pn.pipe((0,ie.w)(wn=>new j.y(Ht=>({unsubscribe:Ct.runOutsideAngular(()=>wn.onAuthStateChanged(zn=>Ht.next(zn),zn=>Ht.error(zn),()=>Ht.complete()))})))),_n=Pn.pipe((0,ie.w)(wn=>new j.y(Ht=>({unsubscribe:Ct.runOutsideAngular(()=>wn.onIdTokenChanged(zn=>Ht.next(zn),zn=>Ht.error(zn),()=>Ht.complete()))}))));this.authState=Tn.pipe(ot(An),(0,xe.R)(_t.outsideAngular),(0,Ne.Q)(_t.insideAngular)),this.user=Tn.pipe(ot(_n),(0,xe.R)(_t.outsideAngular),(0,Ne.Q)(_t.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(wn=>wn?(0,Re.D)(wn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(wn=>wn?(0,Re.D)(wn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,Te.T)(Tn,Bn,this.authState.pipe((0,ut.h)(wn=>!wn))).pipe((0,Ge.U)(wn=>(null==wn?void 0:wn.user)?wn:null),(0,xe.R)(_t.outsideAngular),(0,Ne.Q)(_t.insideAngular))}return(0,tt.pX)(this,Pn,Ct,{spy:{apply:(On,Tn,An)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&An.then(_n=>Bn.next(_n))}}})}}return Et.\u0275fac=function(Zt){return new(Zt||Et)(c.LFG(tt.Dh),c.LFG(tt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(De.HU),c.LFG(ze,8),c.LFG(we,8),c.LFG(Fe,8),c.LFG(Me,8),c.LFG(He,8),c.LFG(We,8))},Et.\u0275prov=c.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"any"}),Et})(),$e=(()=>{class Et{constructor(){ye.Z.registerVersion("angularfire",De.q4.full,"auth-compat")}}return Et.\u0275fac=function(Zt){return new(Zt||Et)},Et.\u0275mod=c.oAB({type:Et}),Et.\u0275inj=c.cJS({providers:[Be]}),Et})()},7407:(xt,Ye,A)=>{A.d(Ye,{ST:()=>bp,yb:()=>Fg});var c=A(5e3),D=A(4986),W=A(8306),j=A(8996),Re=A(9646),Te=A(400),Ve=A(4482),me=A(5403);function Ae(){return(0,Ve.e)((i,e)=>{let r,o=!1;i.subscribe((0,me.x)(e,l=>{const f=r;r=l,o&&e.next([f,l]),o=!0}))})}var Fe,de=A(8675),ie=A(4004),be=A(5026),ot=A(1884),Ne=A(9300),Ge=A(2011),Ze=A(9808),ut=(A(5881),A(3942)),De=A(5861),tt=A(9681),ke=A(4859),ye=A(1877),he=A(2090),ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},we={},Me=Me||{},He=ze||self;function We(){}function at(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Be(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Et="closure_uid_"+(1e9*Math.random()>>>0),Nt=0;function Zt(i,e,r){return i.call.apply(i.bind,arguments)}function dt(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function rt(i,e,r){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zt:dt).apply(null,arguments)}function Ct(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function _t(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,l,f){for(var v=Array(arguments.length-2),U=2;U<arguments.length;U++)v[U-2]=arguments[U];return e.prototype[l].apply(o,v)}}function Ft(){this.s=this.s,this.o=this.o}var tn={};Ft.prototype.s=!1,Ft.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function $e(i){return Object.prototype.hasOwnProperty.call(i,Et)&&i[Et]||(i[Et]=++Nt)}(this);delete tn[i]}},Ft.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},an=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,l="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in l&&e.call(r,l[f],f,i)};function Bn(i){return Array.prototype.concat.apply([],arguments)}function Pn(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function On(i){return/^[\s\xa0]*$/.test(i)}var wn,Tn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function An(i,e){return-1!=i.indexOf(e)}function _n(i,e){return i<e?-1:i>e?1:0}e:{var Ht=He.navigator;if(Ht){var zn=Ht.userAgent;if(zn){wn=zn;break e}}wn=""}function kn(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Mn(i){const e={};for(const r in i)e[r]=i[r];return e}var Fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(i,e){let r,o;for(let l=1;l<arguments.length;l++){for(r in o=arguments[l],o)i[r]=o[r];for(let f=0;f<Fn.length;f++)r=Fn[f],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Qt(i){return Qt[" "](i),i}Qt[" "]=We;var vn,i,qt=An(wn,"Opera"),vt=An(wn,"Trident")||An(wn,"MSIE"),At=An(wn,"Edge"),je=At||vt,it=An(wn,"Gecko")&&!(An(wn.toLowerCase(),"webkit")&&!An(wn,"Edge"))&&!(An(wn,"Trident")||An(wn,"MSIE"))&&!An(wn,"Edge"),ln=An(wn.toLowerCase(),"webkit")&&!An(wn,"Edge");function fn(){var i=He.document;return i?i.documentMode:void 0}e:{var Hn="",Un=(i=wn,it?/rv:([^\);]+)(\)|;)/.exec(i):At?/Edge\/([\d\.]+)/.exec(i):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ln?/WebKit\/(\S+)/.exec(i):qt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Un&&(Hn=Un?Un[1]:""),vt){var In=fn();if(null!=In&&In>parseFloat(Hn)){vn=String(In);break e}}vn=Hn}var Ce={};var M=He.document&&vt&&(fn()||parseInt(vn,10))||void 0,ee=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{He.addEventListener("test",We,e),He.removeEventListener("test",We,e)}catch(r){}return i}();function Ie(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function pt(i,e){if(Ie.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(it){e:{try{Qt(e.nodeName);var l=!0;break e}catch(f){}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Tt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&pt.Z.h.call(this)}}Ie.prototype.h=function(){this.defaultPrevented=!0},_t(pt,Ie);var Tt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),dn=0;function jt(i,e,r,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=l,this.key=++dn,this.ca=this.fa=!1}function rn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function lt(i){this.src=i,this.g={},this.h=0}function qe(i,e){var r=e.type;if(r in i.g){var f,o=i.g[r],l=on(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&(rn(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function K(i,e,r,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==e&&f.capture==!!r&&f.ia==o)return l}return-1}lt.prototype.add=function(i,e,r,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=K(i,e,o,l);return-1<v?(e=i[v],r||(e.fa=!1)):((e=new jt(e,this.src,f,!!o,l)).fa=r,i.push(e)),e};var ae="closure_lm_"+(1e6*Math.random()|0),oe={};function Le(i,e,r,o,l){if(o&&o.once)return Xe(i,e,r,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Le(i,e[f],r,o,l);return null}return r=yn(r),i&&i[Gt]?i.N(e,r,Be(o)?!!o.capture:!!o,l):mt(i,e,r,!1,o,l)}function mt(i,e,r,o,l,f){if(!e)throw Error("Invalid event type");var v=Be(l)?!!l.capture:!!l,U=wt(i);if(U||(i[ae]=U=new lt(i)),(r=U.add(e,r,o,v,f)).proxy)return r;if(o=function Ut(){var e=ft;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)ee||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Se(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Xe(i,e,r,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Xe(i,e[f],r,o,l);return null}return r=yn(r),i&&i[Gt]?i.O(e,r,Be(o)?!!o.capture:!!o,l):mt(i,e,r,!0,o,l)}function Ee(i,e,r,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)Ee(i,e[f],r,o,l);else o=Be(o)?!!o.capture:!!o,r=yn(r),i&&i[Gt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=K(f=i.g[e],r,o,l))&&(rn(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=wt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=K(e,r,o,l)),(r=-1<i?e[i]:null)&&se(r))}function se(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Gt])qe(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(Se(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=wt(e))?(qe(r,i),0==r.h&&(r.src=null,e[ae]=null)):rn(i)}}}function Se(i){return i in oe?oe[i]:oe[i]="on"+i}function ft(i,e){if(i.ca)i=!0;else{e=new pt(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&se(i),i=r.call(o,e)}return i}function wt(i){return(i=i[ae])instanceof lt?i:null}var Bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(i){return"function"==typeof i?i:(i[Bt]||(i[Bt]=function(e){return i.handleEvent(e)}),i[Bt])}function Lt(){Ft.call(this),this.i=new lt(this),this.P=this,this.I=null}function Dt(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ie(e,i);else if(e instanceof Ie)e.target=e.target||i;else{var l=e;Xt(e=new Ie(o,i),l)}if(l=!0,r)for(var f=r.length-1;0<=f;f--){var v=e.g=r[f];l=pn(v,o,!0,e)&&l}if(l=pn(v=e.g=i,o,!0,e)&&l,l=pn(v,o,!1,e)&&l,r)for(f=0;f<r.length;f++)l=pn(v=e.g=r[f],o,!1,e)&&l}function pn(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==r){var U=v.listener,J=v.ia||v.src;v.fa&&qe(i.i,v),l=!1!==U.call(J,o)&&l}}return l&&!o.defaultPrevented}_t(Lt,Ft),Lt.prototype[Gt]=!0,Lt.prototype.removeEventListener=function(i,e,r,o){Ee(this,i,e,r,o)},Lt.prototype.M=function(){if(Lt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)rn(r[o]);delete i.g[e],i.h--}}this.I=null},Lt.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Lt.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var $n=He.JSON.stringify;function wr(){var i=Sr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Pr,nr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new gr,i=>i.reset());class gr{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function rr(i){He.setTimeout(()=>{throw i},0)}function Or(i,e){Pr||function Rn(){var i=He.Promise.resolve(void 0);Pr=function(){i.then(vi)}}(),ai||(Pr(),ai=!0),Sr.add(i,e)}var ai=!1,Sr=new class lr{constructor(){this.h=this.g=null}add(e,r){const o=nr.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function vi(){for(var i;i=wr();){try{i.h.call(i.g)}catch(r){rr(r)}var e=nr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ai=!1}function yr(i,e){Lt.call(this),this.h=i||1,this.g=e||He,this.j=rt(this.kb,this),this.l=Date.now()}function Ln(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Gr(i,e,r){if("function"==typeof i)r&&(i=rt(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=rt(i.handleEvent,i)}return 2147483647<Number(e)?-1:He.setTimeout(i,e||0)}function Di(i){i.g=Gr(()=>{i.g=null,i.i&&(i.i=!1,Di(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}_t(yr,Lt),(Fe=yr.prototype).da=!1,Fe.S=null,Fe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dt(this,"tick"),this.da&&(Ln(this),this.start()))}},Fe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.M=function(){yr.Z.M.call(this),Ln(this),delete this.g};class Xn extends Ft{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Di(this)}M(){super.M(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(i){Ft.call(this),this.h=i,this.g={}}_t(xn,Ft);var zr=[];function Ii(i,e,r,o){Array.isArray(r)||(r&&(zr[0]=r.toString()),r=zr);for(var l=0;l<r.length;l++){var f=Le(e,r[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function ir(i){kn(i.g,function(e,r){this.g.hasOwnProperty(r)&&se(e)},i),i.g={}}function Ar(){this.g=!0}function Br(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ei(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<l.length;v++)l[v]=""}}}return $n(r)}catch(U){return e}}(i,r)+(o?" "+o:"")})}xn.prototype.M=function(){xn.Z.M.call(this),ir(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ar.prototype.Aa=function(){this.g=!1},Ar.prototype.info=function(){};var Nr={},fi=null;function Cr(){return fi=fi||new Lt}function ti(i){Ie.call(this,Nr.Ma,i)}function fr(i){const e=Cr();Dt(e,new ti(e,i))}function Ki(i,e){Ie.call(this,Nr.STAT_EVENT,i),this.stat=e}function Dr(i){const e=Cr();Dt(e,new Ki(e,i))}function Fi(i,e){Ie.call(this,Nr.Na,i),this.size=e}function Ti(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){i()},e)}Nr.Ma="serverreachability",_t(ti,Ie),Nr.STAT_EVENT="statevent",_t(Ki,Ie),Nr.Na="timingevent",_t(Fi,Ie);var Li={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ai={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fs(){}function wi(){}fs.prototype.h=null;var li,ni={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zi(){Ie.call(this,"d")}function ps(){Ie.call(this,"c")}function Ui(){}function Vi(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new xn(this),this.P=Bi,this.W=new yr(i=je?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}_t(Zi,Ie),_t(ps,Ie),_t(Ui,fs),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},li=new Ui;var Bi=45e3,Rr={},ji={};function Mi(i,e,r){i.K=1,i.v=Je(re(e)),i.s=r,i.U=!0,ui(i,null)}function ui(i,e){i.F=Date.now(),pi(i),i.A=re(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),dr(r.h,"t",o),i.C=0,r=i.l.H,i.h=new jr,i.g=yo(i.l,r?e:null,!i.s),0<i.O&&(i.L=new Xn(rt(i.Ia,i,i.g),i.O)),Ii(i.V,i.g,"readystatechange",i.gb),e=i.H?Mn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),fr(1),function bi(i,e,r,o,l,f){i.info(function(){if(i.g)if(f)for(var v="",U=f.split("&"),J=0;J<U.length;J++){var fe=U[J].split("=");if(1<fe.length){var Pe=fe[0];fe=fe[1];var et=Pe.split("_");v=2<=et.length&&"type"==et[1]?v+(Pe+"=")+fe+"&":v+(Pe+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+r+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function bs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ri(i,e,r){let l,o=!0;for(;!i.I&&i.C<r.length;){if(l=Es(i,r),l==ji){4==e&&(i.o=4,Dr(14),o=!1),Br(i.j,i.m,null,"[Incomplete Response]");break}if(l==Rr){i.o=4,Dr(15),Br(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Br(i.j,i.m,l,null),Si(i,l)}bs(i)&&l!=ji&&l!=Rr&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Dr(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),ci(e),e.L=!0,Dr(11))):(Br(i.j,i.m,r,"[Invalid Chunked Response]"),Wn(i),Yr(i))}function Es(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?ji:(r=Number(e.substring(r,o)),isNaN(r)?Rr:(o+=1)+r>e.length?ji:(e=e.substr(o,r),i.C=o+r,e))}function pi(i){i.Y=Date.now()+i.P,ws(i,i.P)}function ws(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ti(rt(i.eb,i),e)}function Zr(i){i.B&&(He.clearTimeout(i.B),i.B=null)}function Yr(i){0==i.l.G||i.I||go(i.l,i)}function Wn(i){Zr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ln(i.W),ir(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Si(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||bt(r.i,i)))if(r.I=i.N,!i.J&&bt(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(fe){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=Ti(rt(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Zs(r),xs(r)}Fo(r),Dr(18)}if(1>=gt(r.i)&&r.ka){try{r.ka()}catch(fe){}r.ka=void 0}}else Ri(r,11)}else if((i.J||r.g==i)&&Zs(r),!On(e))for(l=r.Ca.g.parse(e),e=0;e<l.length;e++){let fe=l[e];if(r.U=fe[0],fe=fe[1],2==r.G)if("c"==fe[0]){r.J=fe[1],r.la=fe[2];const Pe=fe[3];null!=Pe&&(r.ma=Pe,r.h.info("VER="+r.ma));const et=fe[4];null!=et&&(r.za=et,r.h.info("SVER="+r.za));const nt=fe[5];null!=nt&&"number"==typeof nt&&0<nt&&(r.K=o=1.5*nt,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const kt=i.g;if(kt){const zt=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var f=o.i;!f.g&&(An(zt,"spdy")||An(zt,"quic")||An(zt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Mt(f,f.h),f.h=null))}if(o.D){const Sn=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(o.sa=Sn,pe(o.F,o.D,Sn))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var v=i;if((o=r).oa=El(o,o.H?o.la:null,o.W),v.J){gn(o.i,v);var U=v,J=o.K;J&&U.setTimeout(J),U.B&&(Zr(U),pi(U)),o.g=v}else mo(o);0<r.l.length&&bl(r)}else"stop"!=fe[0]&&"close"!=fe[0]||Ri(r,7);else 3==r.G&&("stop"==fe[0]||"close"==fe[0]?"stop"==fe[0]?Ri(r,7):xi(r):"noop"!=fe[0]&&r.j&&r.j.wa(fe),r.A=0)}fr(4)}catch(fe){}}function Hi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(at(i)||"string"==typeof i)an(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(at(i)||"string"==typeof i){r=[];for(var o=i.length,l=0;l<o;l++)r.push(l)}else for(l in r=[],o=0,i)r[o++]=l;o=function is(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(at(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),l=o.length;for(var f=0;f<l;f++)e.call(void 0,o[f],r&&r[f],i)}}function $i(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof $i)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function ne(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];y(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=e=0;e<i.g.length;)y(l,o=i.g[e])||(i.g[r++]=o,l[o]=1),e++;i.g.length=r}}function y(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Fe=Vi.prototype).setTimeout=function(i){this.P=i},Fe.gb=function(i){i=i.target;const e=this.L;e&&3==Cs(i)?e.l():this.Ia(i)},Fe.Ia=function(i){try{if(i==this.g)e:{const Pe=Cs(this.g);var e=this.g.Da();const et=this.g.ba();if(!(3>Pe)&&(3!=Pe||je||this.g&&(this.h.h||this.g.ga()||_l(this.g)))){this.I||4!=Pe||7==e||fr(8==e||0>=et?3:2),Zr(this);var r=this.g.ba();this.N=r;t:if(bs(this)){var o=_l(this.g);i="";var l=o.length,f=4==Cs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wn(this),Yr(this);var v="";break t}this.h.i=new He.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==r,function hs(i,e,r,o,l,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,Pe,r),this.i){if(this.$&&!this.J){t:{if(this.g){var U,J=this.g;if((U=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(U)){var fe=U;break t}}fe=null}if(!(r=fe)){this.i=!1,this.o=3,Dr(12),Wn(this),Yr(this);break e}Br(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Si(this,r)}this.U?(ri(this,Pe,v),je&&this.i&&3==Pe&&(Ii(this.V,this.W,"tick",this.fb),this.W.start())):(Br(this.j,this.m,v,null),Si(this,v)),4==Pe&&Wn(this),this.i&&!this.I&&(4==Pe?go(this.l,this):(this.i=!1,pi(this)))}else 400==r&&0<v.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),Wn(this),Yr(this)}}}catch(Pe){}},Fe.fb=function(){if(this.g){var i=Cs(this.g),e=this.g.ga();this.C<e.length&&(Zr(this),ri(this,i,e),this.i&&4!=i&&pi(this))}},Fe.cancel=function(){this.I=!0,Wn(this)},Fe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function xr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fr(3),Dr(17)),Wn(this),this.o=2,Yr(this)):ws(this,this.Y-i)},(Fe=$i.prototype).R=function(){ne(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Fe.T=function(){return ne(this),this.g.concat()},Fe.get=function(i,e){return y(this.h,i)?this.h[i]:e},Fe.set=function(i,e){y(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Fe.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var l=r[o],f=this.get(l);i.call(e,f,l,this)}};var _=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Z(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Z){this.g=void 0!==e?e:i.g,E(this,i.j),this.s=i.s,F(this,i.i),I(this,i.m),this.l=i.l,e=i.h;var r=new te;r.i=e.i,e.g&&(r.g=new $i(e.g),r.h=e.h),$(this,r),this.o=i.o}else i&&(r=String(i).match(_))?(this.g=!!e,E(this,r[1]||"",!0),this.s=$t(r[2]||""),F(this,r[3]||"",!0),I(this,r[4]),this.l=$t(r[5]||"",!0),$(this,r[6]||"",!0),this.o=$t(r[7]||"")):(this.g=!!e,this.h=new te(null,this.g))}function re(i){return new Z(i)}function E(i,e,r){i.j=r?$t(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function F(i,e,r){i.i=r?$t(e,!0):e}function I(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function $(i,e,r){e instanceof te?(i.h=e,function B(i,e){e&&!i.j&&(Qe(i),i.i=null,i.g.forEach(function(r,o){var l=o.toLowerCase();o!=l&&(Jt(this,o),dr(this,l,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Yt(e,k)),i.h=new te(e,i.g))}function pe(i,e,r){i.h.set(e,r)}function Je(i){return pe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $t(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yt(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,sn),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function sn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Z.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yt(e,mn,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yt(e,mn,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Yt(r,"/"==r.charAt(0)?V:Vn,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Yt(r,N)),i.join("")};var mn=/[#\/\?@]/g,Vn=/[#\?:]/g,V=/[#\?]/g,k=/[#\?@]/g,N=/#/g;function te(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qe(i){i.g||(i.g=new $i,i.h=0,i.i&&function L(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),l=null;if(0<=o){var f=i[r].substring(0,o);l=i[r].substring(o+1)}else f=i[r];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Jt(i,e){Qe(i),e=G(i,e),y(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,y((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&ne(i)))}function ur(i,e){return Qe(i),e=G(i,e),y(i.g.h,e)}function dr(i,e,r){Jt(i,e),0<r.length&&(i.i=null,i.g.set(G(i,e),Pn(r)),i.h+=r.length)}function G(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Oe(i){this.l=i||ge,i=He.PerformanceNavigationTiming?0<(i=He.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(He.g&&He.g.Ea&&He.g.Ea()&&He.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=te.prototype).add=function(i,e){Qe(this),this.i=null,i=G(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},Fe.forEach=function(i,e){Qe(this),this.g.forEach(function(r,o){an(r,function(l){i.call(e,l,o,this)},this)},this)},Fe.T=function(){Qe(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var l=i[o],f=0;f<l.length;f++)r.push(e[o]);return r},Fe.R=function(i){Qe(this);var e=[];if("string"==typeof i)ur(this,i)&&(e=Bn(e,this.g.get(G(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=Bn(e,i[r])}return e},Fe.set=function(i,e){return Qe(this),this.i=null,ur(this,i=G(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Fe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],l=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=l;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var ge=10;function Ue(i){return!!i.h||!!i.g&&i.g.size>=i.j}function gt(i){return i.h?1:i.g?i.g.size:0}function bt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Mt(i,e){i.g?i.g.add(e):i.h=e}function gn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bn(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Pn(i.i)}function Gn(){}function er(){this.g=new Gn}function qn(i,e,r){const o=r||"";try{Hi(i,function(l,f){let v=l;Be(l)&&(v=$n(l)),e.push(o+f+"="+encodeURIComponent(v))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function kr(i,e,r,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(f){}}function jn(i){this.l=i.$b||null,this.j=i.ib||!1}function sr(i,e){Lt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=pr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Gn.prototype.stringify=function(i){return He.JSON.stringify(i,void 0)},Gn.prototype.parse=function(i){return He.JSON.parse(i,void 0)},_t(jn,fs),jn.prototype.g=function(){return new sr(this.l,this.j)},jn.prototype.i=function(i){return function(){return i}}({}),_t(sr,Lt);var pr=0;function mr(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function cr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wr(i)}function Wr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Fe=sr.prototype).open=function(i,e){if(this.readyState!=pr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Wr(this)},Fe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||He).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cr(this)),this.readyState=pr},Fe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==He.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mr(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Fe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?cr(this):Wr(this),3==this.readyState&&mr(this)}},Fe.Ua=function(i){this.g&&(this.response=this.responseText=i,cr(this))},Fe.Ta=function(i){this.g&&(this.response=i,cr(this))},Fe.ha=function(){this.g&&cr(this)},Fe.setRequestHeader=function(i,e){this.v.append(i,e)},Fe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ws=He.JSON.parse;function Ir(i){Lt.call(this),this.headers=new $i,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qs,this.K=this.L=!1}_t(Ir,Lt);var qs="",co=/^https?$/i,Sa=["POST","PUT"];function yl(i){return"content-type"==i.toLowerCase()}function Qo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ra(i),ho(i)}function Ra(i){i.D||(i.D=!0,Dt(i,"complete"),Dt(i,"error"))}function No(i){if(i.h&&void 0!==Me&&(!i.C[1]||4!=Cs(i)||2!=i.ba()))if(i.v&&4==Cs(i))Gr(i.Fa,0,i);else if(Dt(i,"readystatechange"),4==Cs(i)){i.h=!1;try{const U=i.ba();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===U){var l=String(i.H).match(_)[1]||null;if(!l&&He.self&&He.self.location){var f=He.self.location.protocol;l=f.substr(0,f.length-1)}o=!co.test(l?l.toLowerCase():"")}r=o}if(r)Dt(i,"complete"),Dt(i,"success");else{i.m=6;try{var v=2<Cs(i)?i.g.statusText:""}catch(J){v=""}i.j=v+" ["+i.ba()+"]",Ra(i)}}finally{ho(i)}}}function ho(i,e){if(i.g){Ks(i);const r=i.g,o=i.C[0]?We:null;i.g=null,i.C=null,e||Dt(i,"ready");try{r.onreadystatechange=o}catch(l){}}}function Ks(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(He.clearTimeout(i.A),i.A=null)}function Cs(i){return i.g?i.g.readyState:0}function _l(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case qs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ko(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function vl(i){let e="";return kn(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):pe(i,e,r))}function fo(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function pu(i){this.za=0,this.l=[],this.h=new Ar,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fo("baseRetryDelayMs",5e3,i),this.$a=fo("retryDelaySeedMs",1e4,i),this.Ya=fo("forwardChannelMaxRetries",2,i),this.ra=fo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Oe(i&&i.concurrentRequestLimit),this.Ca=new er,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function xi(i){if(Fr(i),3==i.G){var e=i.V++,r=re(i.F);pe(r,"SID",i.J),pe(r,"RID",e),pe(r,"TYPE","terminate"),po(i,r),(e=new Vi(i,i.h,e,void 0)).K=2,e.v=Je(re(r)),r=!1,He.navigator&&He.navigator.sendBeacon&&(r=He.navigator.sendBeacon(e.v.toString(),"")),!r&&He.Image&&((new Image).src=e.v,r=!0),r||(e.g=yo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),pi(e)}Jo(i)}function xs(i){i.g&&(ci(i),i.g.cancel(),i.g=null)}function Fr(i){xs(i),i.u&&(He.clearTimeout(i.u),i.u=null),Zs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&He.clearTimeout(i.m),i.m=null)}function Oa(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&bl(i)}function bl(i){Ue(i.i)||i.m||(i.m=!0,Or(i.Ha,i),i.C=0)}function tc(i,e){var r;r=e?e.m:i.V++;const o=re(i.F);pe(o,"SID",i.J),pe(o,"RID",r),pe(o,"AID",i.U),po(i,o),i.o&&i.s&&ko(o,i.o,i.s),r=new Vi(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Vs(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Mt(i.i,r),Mi(r,o,e)}function po(i,e){i.j&&Hi({},function(r,o){pe(e,o,r)})}function Vs(i,e,r){r=Math.min(i.l.length,r);var o=i.j?rt(i.j.Oa,i.j,i):null;e:{var l=i.l;let f=-1;for(;;){const v=["count="+r];-1==f?0<r?(f=l[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let U=!0;for(let J=0;J<r;J++){let fe=l[J].h;const Pe=l[J].g;if(fe-=f,0>fe)f=Math.max(0,l[J].h-100),U=!1;else try{qn(Pe,v,"req"+fe+"_")}catch(et){o&&o(Pe)}}if(U){o=v.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function mo(i){i.g||i.u||(i.Y=1,Or(i.Ga,i),i.A=0)}function Fo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ti(rt(i.Ga,i),ss(i,i.A)),i.A++,0))}function ci(i){null!=i.B&&(He.clearTimeout(i.B),i.B=null)}function Pa(i){i.g=new Vi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=re(i.oa);pe(e,"RID","rpc"),pe(e,"SID",i.J),pe(e,"CI",i.N?"0":"1"),pe(e,"AID",i.U),po(i,e),pe(e,"TYPE","xmlhttp"),i.o&&i.s&&ko(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Je(re(e)),r.s=null,r.U=!0,ui(r,i)}function Zs(i){null!=i.v&&(He.clearTimeout(i.v),i.v=null)}function go(i,e){var r=null;if(i.g==e){Zs(i),ci(i),i.g=null;var o=2}else{if(!bt(i.i,e))return;r=e.D,gn(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Dt(o=Cr(),new Fi(o,r,e,l)),bl(i)}else mo(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function mu(i,e){return!(gt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ti(rt(i.Ha,i,e),ss(i,i.C)),i.C++,0)))}(i,e)||2==o&&Fo(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:Ri(i,5);break;case 4:Ri(i,10);break;case 3:Ri(i,6);break;default:Ri(i,2)}}function ss(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function Ri(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=rt(i.jb,i);r||(r=new Z("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||E(r,"https"),Je(r)),function Qr(i,e){const r=new Ar;if(He.Image){const o=new Image;o.onload=Ct(kr,r,o,"TestLoadImage: loaded",!0,e),o.onerror=Ct(kr,r,o,"TestLoadImage: error",!1,e),o.onabort=Ct(kr,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ct(kr,r,o,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Dr(2);i.G=0,i.j&&i.j.va(e),Jo(i),Fr(i)}function Jo(i){i.G=0,i.I=-1,i.j&&((0!=bn(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Pn(i.l),i.l.length=0),i.j.ua())}function El(i,e,r){let o=function ht(i){return i instanceof Z?re(i):new Z(i,void 0)}(r);if(""!=o.i)e&&F(o,e+"."+o.i),I(o,o.m);else{const l=He.location;o=function Ot(i,e,r,o){var l=new Z(null,void 0);return i&&E(l,i),e&&F(l,e),r&&I(l,r),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&kn(i.aa,function(l,f){pe(o,f,l)}),r=i.sa,(e=i.D)&&r&&pe(o,e,r),pe(o,"VER",i.ma),po(i,o),o}function yo(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(r&&i.Ba&&!i.qa?new jn({ib:!0}):i.qa)).L=i.H,e}function Na(){}function Xo(){if(vt&&!(10<=Number(M)))throw Error("Environmental error: no available transport.")}function os(i,e){Lt.call(this),this.g=new pu(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!On(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!On(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ci(this)}function ka(i){Zi.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ph(){ps.call(this),this.status=1}function Ci(i){this.g=i}(Fe=Ir.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():li.g(),this.C=function Us(i){return i.h||(i.h=i.i())}(this.u?this.u:li),this.g.onreadystatechange=rt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void Qo(this,f)}i=r||"";const l=new $i(this.headers);o&&Hi(o,function(f,v){l.set(v,f)}),o=function Zn(i){e:{var e=yl;const r=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),r=He.FormData&&i instanceof He.FormData,!(0<=on(Sa,e))||o||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ks(this),0<this.B&&((this.K=function xa(i){return vt&&function le(){return function Dn(i){var e=Ce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Tn(String(vn)).split("."),r=Tn("9").split("."),o=Math.max(e.length,r.length);for(let v=0;0==i&&v<o;v++){var l=e[v]||"",f=r[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=_n(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||_n(0==l[2].length,0==f[2].length)||_n(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.pa,this)):this.A=Gr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){Qo(this,f)}},Fe.pa=function(){void 0!==Me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},Fe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Dt(this,"complete"),Dt(this,"abort"),ho(this))},Fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ho(this,!0)),Ir.Z.M.call(this)},Fe.Fa=function(){this.s||(this.F||this.v||this.l?No(this):this.cb())},Fe.cb=function(){No(this)},Fe.ba=function(){try{return 2<Cs(this)?this.g.status:-1}catch(i){return-1}},Fe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Fe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ws(e)}},Fe.Da=function(){return this.m},Fe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=pu.prototype).ma=8,Fe.G=1,Fe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Fe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Vi(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=Mn(f),Xt(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Vs(this,l,e),pe(r=re(this.F),"RID",i),pe(r,"CVER",22),this.D&&pe(r,"X-HTTP-Session-Id",this.D),po(this,r),this.o&&f&&ko(r,this.o,f),Mt(this.i,l),this.Ra&&pe(r,"TYPE","init"),this.ja?(pe(r,"$req",e),pe(r,"SID","null"),l.$=!0,Mi(l,r,null)):Mi(l,r,e),this.G=2}}else 3==this.G&&(i?tc(this,i):0==this.l.length||Ue(this.i)||tc(this))},Fe.Ga=function(){if(this.u=null,Pa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ti(rt(this.bb,this),i)}},Fe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dr(10),xs(this),Pa(this))},Fe.ab=function(){null!=this.v&&(this.v=null,xs(this),Fo(this),Dr(19))},Fe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Dr(2)):(this.h.info("Failed to ping google.com"),Dr(1))},(Fe=Na.prototype).xa=function(){},Fe.wa=function(){},Fe.va=function(){},Fe.ua=function(){},Fe.Oa=function(){},Xo.prototype.g=function(i,e){return new os(i,e)},_t(os,Lt),os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Or(rt(i.hb,i,e))),Dr(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=El(i,null,i.W),bl(i)},os.prototype.close=function(){xi(this.g)},os.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Oa(this.g,e)}else this.v?((e={}).__data__=$n(i),Oa(this.g,e)):Oa(this.g,i)},os.prototype.M=function(){this.g.j=null,delete this.j,xi(this.g),delete this.g,os.Z.M.call(this)},_t(ka,Zi),_t(ph,ps),_t(Ci,Na),Ci.prototype.xa=function(){Dt(this.g,"a")},Ci.prototype.wa=function(i){Dt(this.g,new ka(i))},Ci.prototype.va=function(i){Dt(this.g,new ph(i))},Ci.prototype.ua=function(){Dt(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Ai.COMPLETE="complete",wi.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Lt.prototype.listen=Lt.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var wl=we.createWebChannelTransport=function(){return new Xo},Cl=we.getStatEventTarget=function(){return Cr()},Rs=we.ErrorCode=Li,gu=we.EventType=Ai,ii=we.Event=Nr,_o=we.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dl=we.FetchXmlHttpFactory=jn,Os=we.WebChannel=wi,ea=we.XhrIo=Ir;const ta="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Ps="9.6.5";const Bs=new ye.Yd("@firebase/firestore");function Lo(){return Bs.logLevel}function Vt(i,...e){if(Bs.logLevel<=ye.in.DEBUG){const r=e.map(w);Bs.debug(`Firestore (${Ps}): ${i}`,...r)}}function Lr(i,...e){if(Bs.logLevel<=ye.in.ERROR){const r=e.map(w);Bs.error(`Firestore (${Ps}): ${i}`,...r)}}function S(i,...e){if(Bs.logLevel<=ye.in.WARN){const r=e.map(w);Bs.warn(`Firestore (${Ps}): ${i}`,...r)}}function w(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function g(i="Unexpected state"){const e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+i;throw Lr(e),new Error(e)}function P(i,e){i||g()}function q(i,e){return i}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends he.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class hn{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Oi.UNAUTHENTICATED))}shutdown(){}}class Cn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class _r{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let l=this.i;const f=fe=>this.i!==l?(l=this.i,r(fe)):Promise.resolve();let v=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new yt,e.enqueueRetryable(()=>f(this.currentUser))};const U=()=>{const fe=v;e.enqueueRetryable((0,De.Z)(function*(){yield fe.promise,yield f(o.currentUser)}))},J=fe=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=fe,this.auth.addAuthTokenListener(this.o),U()};this.t.onInit(fe=>J(fe)),setTimeout(()=>{if(!this.auth){const fe=this.t.getImmediate({optional:!0});fe?J(fe):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new yt)}},0),U()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(P("string"==typeof o.accessToken),new hn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new Oi(e)}}class vr{constructor(e,r,o){this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ys{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new vr(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ds{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=l=>{e.enqueueRetryable(()=>{return null!=(f=l).error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`),r(f.token);var f})};const o=l=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(P("string"==typeof r.token),new Gi(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class mi{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Yi(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}mi.I=-1;class zi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Yi(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<r&&(o+=e.charAt(l[f]%e.length))}return o}}function Qn(i,e){return i<e?-1:i>e?1:0}function na(i,e,r){return i.length===e.length&&i.every((o,l)=>r(o,e[l]))}function yu(i){return i+"\0"}class Hr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Hr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jn(e)}static min(){return new Jn(new Hr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Zc(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Mr(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Yc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _u{constructor(e,r,o){void 0===r?r=0:r>e.length&&g(),void 0===o?o=e.length-r:o>e.length-r&&g(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===_u.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _u?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const f=e.get(l),v=r.get(l);if(f<v)return-1;if(f>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class br extends _u{construct(e,r,o){return new br(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new br(r)}static emptyPath(){return new br([])}}const Pp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends _u{construct(e,r,o){return new Qi(e,r,o)}static isValidIdentifier(e){return Pp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const f=()=>{if(0===o.length)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let v=!1;for(;l<e.length;){const U=e[l];if("\\"===U){if(l+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const J=e[l+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=J,l+=2}else"`"===U?(v=!v,l++):"."!==U||v?(o+=U,l++):(f(),l++)}if(f(),v)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(r)}static emptyPath(){return new Qi([])}}class Tl{constructor(e){this.fields=e,e.sort(Qi.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Jr(r)}static fromUint8Array(e){const r=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new Jr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const Jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(i){if(P(!!i),"string"==typeof i){let e=0;const r=Jc.exec(i);if(P(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qr(i.seconds),nanos:qr(i.nanos)}}function qr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qs(i){return"string"==typeof i?Jr.fromBase64String(i):Jr.fromUint8Array(i)}function vu(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Al(i){const e=i.mapValue.fields.__previous_value__;return vu(e)?Al(e):e}function Pi(i){const e=Ur(i.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}function Ji(i){return null==i}function ra(i){return 0===i&&1/i==-1/0}function Ml(i){return"number"==typeof i&&Number.isInteger(i)&&!ra(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class cn{constructor(e){this.path=e}static fromPath(e){return new cn(br.fromString(e))}static fromName(e){return new cn(br.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cn(new br(e.slice()))}}function Js(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vu(i)?4:10:g()}function Xs(i,e){if(i===e)return!0;const r=Js(i);if(r!==Js(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pi(i).isEqual(Pi(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=Ur(o.timestampValue),v=Ur(l.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Qs(i.bytesValue).isEqual(Qs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return qr(o.geoPointValue.latitude)===qr(l.geoPointValue.latitude)&&qr(o.geoPointValue.longitude)===qr(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return qr(o.integerValue)===qr(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=qr(o.doubleValue),v=qr(l.doubleValue);return f===v?ra(f)===ra(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return na(i.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(o,l){const f=o.mapValue.fields||{},v=l.mapValue.fields||{};if(Zc(f)!==Zc(v))return!1;for(const U in f)if(f.hasOwnProperty(U)&&(void 0===v[U]||!Xs(f[U],v[U])))return!1;return!0}(i,e);default:return g()}var l}function Sl(i,e){return void 0!==(i.values||[]).find(r=>Xs(r,e))}function xl(i,e){if(i===e)return 0;const r=Js(i),o=Js(e);if(r!==o)return Qn(r,o);switch(r){case 0:return 0;case 1:return Qn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const v=qr(l.integerValue||l.doubleValue),U=qr(f.integerValue||f.doubleValue);return v<U?-1:v>U?1:v===U?0:isNaN(v)?isNaN(U)?0:-1:1}(i,e);case 3:return nc(i.timestampValue,e.timestampValue);case 4:return nc(Pi(i),Pi(e));case 5:return Qn(i.stringValue,e.stringValue);case 6:return function(l,f){const v=Qs(l),U=Qs(f);return v.compareTo(U)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const v=l.split("/"),U=f.split("/");for(let J=0;J<v.length&&J<U.length;J++){const fe=Qn(v[J],U[J]);if(0!==fe)return fe}return Qn(v.length,U.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const v=Qn(qr(l.latitude),qr(f.latitude));return 0!==v?v:Qn(qr(l.longitude),qr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const v=l.values||[],U=f.values||[];for(let J=0;J<v.length&&J<U.length;++J){const fe=xl(v[J],U[J]);if(fe)return fe}return Qn(v.length,U.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){const v=l.fields||{},U=Object.keys(v),J=f.fields||{},fe=Object.keys(J);U.sort(),fe.sort();for(let Pe=0;Pe<U.length&&Pe<fe.length;++Pe){const et=Qn(U[Pe],fe[Pe]);if(0!==et)return et;const nt=xl(v[U[Pe]],J[fe[Pe]]);if(0!==nt)return nt}return Qn(U.length,fe.length)}(i.mapValue,e.mapValue);default:throw g()}}function nc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qn(i,e);const r=Ur(i),o=Ur(e),l=Qn(r.seconds,o.seconds);return 0!==l?l:Qn(r.nanos,o.nanos)}function Rl(i){return as(i)}function as(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Ur(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qs(i.bytesValue).toBase64():"referenceValue"in i?cn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const v of o.values||[])f?f=!1:l+=",",l+=as(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const U of l)v?v=!1:f+=",",f+=`${U}:${as(o.fields[U])}`;return f+"}"}(i.mapValue):g();var e}function Fa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function eo(i){return!!i&&"integerValue"in i}function Xc(i){return!!i&&"arrayValue"in i}function Ol(i){return!!i&&"nullValue"in i}function ed(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function La(i){return!!i&&"mapValue"in i}function ia(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Mr(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ia(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ia(i.arrayValue.values[r]);return e}return Object.assign({},i)}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!La(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(r)}setAll(e){let r=Qi.emptyPath(),o={},l=[];e.forEach((v,U)=>{if(!r.isImmediateParentOf(U)){const J=this.getFieldsMap(r);this.applyChanges(J,o,l),o={},l=[],r=U.popLast()}v?o[U.lastSegment()]=ia(v):l.push(U.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,l)}delete(e){const r=this.field(e.popLast());La(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];La(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Mr(r,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new Xi(ia(this.value))}}function Pl(i){const e=[];return Mr(i.fields,(r,o)=>{const l=new Qi([r]);if(La(o)){const f=Pl(o.mapValue).fields;if(0===f.length)e.push(l);else for(const v of f)e.push(l.child(v))}else e.push(l)}),new Tl(e)}class $r{constructor(e,r,o,l,f){this.key=e,this.documentType=r,this.version=o,this.data=l,this.documentState=f}static newInvalidDocument(e){return new $r(e,0,Jn.min(),Xi.empty(),0)}static newFoundDocument(e,r,o){return new $r(e,1,r,o,0)}static newNoDocument(e,r){return new $r(e,2,r,Xi.empty(),0)}static newUnknownDocument(e,r){return new $r(e,3,r,Xi.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rc{constructor(e,r=null,o=[],l=[],f=null,v=null,U=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=v,this.endAt=U,this.R=null}}function sa(i,e=null,r=[],o=[],l=null,f=null,v=null){return new rc(i,e,r,o,l,f,v)}function Ua(i){const e=q(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function mh(i){return i.field.canonicalString()+i.op.toString()+Rl(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Ji(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Vo(e.startAt)),e.endAt&&(r+="|ub:",r+=Vo(e.endAt)),e.R=r}return e.R}function Va(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!ic(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(o=e.filters[l]).op||!r.field.isEqual(o.field)||!Xs(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Cu(i.startAt,e.startAt)&&Cu(i.endAt,e.endAt)}function Uo(i){return cn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class es extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new gh(e,r,o):"array-contains"===r?new Eu(e,o):"in"===r?new _h(e,o):"not-in"===r?new Ni(e,o):"array-contains-any"===r?new wu(e,o):new es(e,r,o)}static P(e,r,o){return"in"===r?new bu(e,o):new yh(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(xl(r,this.value)):null!==r&&Js(this.value)===Js(r)&&this.v(xl(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gh extends es{constructor(e,r,o){super(e,r,o),this.key=cn.fromName(o.referenceValue)}matches(e){const r=cn.comparator(e.key,this.key);return this.v(r)}}class bu extends es{constructor(e,r){super(e,"in",r),this.keys=Ba(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class yh extends es{constructor(e,r){super(e,"not-in",r),this.keys=Ba(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ba(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>cn.fromName(o.referenceValue))}class Eu extends es{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xc(r)&&Sl(r.arrayValue,this.value)}}class _h extends es{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Sl(this.value.arrayValue,r)}}class Ni extends es{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Sl(this.value.arrayValue,r)}}class wu extends es{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Sl(this.value.arrayValue,o))}}class Nl{constructor(e,r){this.position=e,this.before=r}}function Vo(i){return`${i.before?"b":"a"}:${i.position.map(e=>Rl(e)).join(",")}`}class ks{constructor(e,r="asc"){this.field=e,this.dir=r}}function ic(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function sc(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],v=i.position[l];if(o=f.field.isKeyField()?cn.comparator(cn.fromName(v.referenceValue),r.key):xl(v,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function Cu(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Xs(i.position[r],e.position[r]))return!1;return!0}class Is{constructor(e,r=null,o=[],l=[],f=null,v="F",U=null,J=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=v,this.startAt=U,this.endAt=J,this.S=null,this.D=null}}function vo(i,e,r,o,l,f,v,U){return new Is(i,e,r,o,l,f,v,U)}function Bo(i){return new Is(i)}function to(i){return!Ji(i.limit)&&"F"===i.limitType}function Du(i){return!Ji(i.limit)&&"L"===i.limitType}function kl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function aa(i){for(const e of i.filters)if(e.V())return e.field;return null}function ja(i){return null!==i.collectionGroup}function la(i){const e=q(i);if(null===e.S){e.S=[];const r=aa(e),o=kl(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new ks(r)),e.S.push(new ks(Qi.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.S.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ks(Qi.keyField(),f))}}}return e.S}function Fs(i){const e=q(i);if(!e.D)if("F"===e.limitType)e.D=sa(e.path,e.collectionGroup,la(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const f of la(e))r.push(new ks(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Nl(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Nl(e.startAt.position,!e.startAt.before):null;e.D=sa(e.path,e.collectionGroup,r,e.filters,e.limit,o,l)}return e.D}function Iu(i,e,r){return new Is(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function no(i,e){return Va(Fs(i),Fs(e))&&i.limitType===e.limitType}function Ha(i){return`${Ua(Fs(i))}|lt:${i.limitType}`}function Tu(i){return`Query(target=${function oa(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${Rl(o.value)}`;var o}).join(", ")}]`),Ji(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Vo(i.startAt)),i.endAt&&(e+=", endAt: "+Vo(i.endAt)),`Target(${e})`}(Fs(i))}; limitType=${i.limitType})`}function Au(i,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):cn.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,o){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!sc(r.startAt,la(r),o)||r.endAt&&sc(r.endAt,la(r),o)));var r,o}function $a(i){return(e,r)=>{let o=!1;for(const l of la(i)){const f=vh(l,e,r);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function vh(i,e,r){const o=i.field.isKeyField()?cn.comparator(e.key,r.key):function(l,f,v){const U=f.data.field(l),J=v.data.field(l);return null!==U&&null!==J?xl(U,J):g()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return g()}}function bh(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ra(e)?"-0":e}}function td(i){return{integerValue:""+i}}function nd(i,e){return Ml(e)?td(e):bh(i,e)}class Mu{constructor(){this._=void 0}}function Su(i,e,r){return i instanceof jo?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(r,e):i instanceof ca?Eh(i,e):i instanceof ro?xu(i,e):function(o,l){const f=ua(o,l),v=Ru(f)+Ru(o.N);return eo(f)&&eo(o.N)?td(v):bh(o.k,v)}(i,e)}function oc(i,e,r){return i instanceof ca?Eh(i,e):i instanceof ro?xu(i,e):r}function ua(i,e){return i instanceof da?eo(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class jo extends Mu{}class ca extends Mu{constructor(e){super(),this.elements=e}}function Eh(i,e){const r=ac(e);for(const o of i.elements)r.some(l=>Xs(l,o))||r.push(o);return{arrayValue:{values:r}}}class ro extends Mu{constructor(e){super(),this.elements=e}}function xu(i,e){let r=ac(e);for(const o of i.elements)r=r.filter(l=>!Xs(l,o));return{arrayValue:{values:r}}}class da extends Mu{constructor(e,r){super(),this.k=e,this.N=r}}function Ru(i){return qr(i.integerValue||i.doubleValue)}function ac(i){return Xc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class js{constructor(e,r){this.field=e,this.transform=r}}class Ch{constructor(e,r){this.version=e,this.transformResults=r}}class si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ga{}function bo(i,e,r){i instanceof za?function(o,l,f){const v=o.value.clone(),U=lc(o.fieldTransforms,l,f.transformResults);v.setAll(U),l.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,r):i instanceof wo?function(o,l,f){if(!Ou(o.precondition,l))return void l.convertToUnknownDocument(f.version);const v=lc(o.fieldTransforms,l,f.transformResults),U=l.data;U.setAll(sd(o)),U.setAll(v),l.convertToFoundDocument(f.version,U).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Eo(i,e,r){var l;i instanceof za?function(o,l,f){if(!Ou(o.precondition,l))return;const v=o.value.clone(),U=od(o.fieldTransforms,f,l);v.setAll(U),l.convertToFoundDocument(id(l),v).setHasLocalMutations()}(i,e,r):i instanceof wo?function(o,l,f){if(!Ou(o.precondition,l))return;const v=od(o.fieldTransforms,f,l),U=l.data;U.setAll(sd(o)),U.setAll(v),l.convertToFoundDocument(id(l),U).setHasLocalMutations()}(i,e,r):Ou(i.precondition,l=e)&&l.convertToNoDocument(Jn.min())}function rd(i,e){let r=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=ua(o.transform,l||null);null!=f&&(null==r&&(r=Xi.empty()),r.set(o.field,f))}return r||null}function Pu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&na(r,o,(l,f)=>function wh(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof ca&&o instanceof ca||r instanceof ro&&o instanceof ro?na(r.elements,o.elements,Xs):r instanceof da&&o instanceof da?Xs(r.N,o.N):r instanceof jo&&o instanceof jo);var r,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function id(i){return i.isFoundDocument()?i.version:Jn.min()}class za extends Ga{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}}class wo extends Ga{constructor(e,r,o,l,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}}function sd(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function lc(i,e,r){const o=new Map;P(i.length===r.length);for(let l=0;l<r.length;l++){const f=i[l],v=f.transform,U=e.data.field(f.field);o.set(f.field,oc(v,U,r[l]))}return o}function od(i,e,r){const o=new Map;for(const l of i){const f=l.transform,v=r.data.field(l.field);o.set(l.field,Su(f,v,e))}return o}class Fl extends Ga{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class b extends Ga{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class h{constructor(e){this.count=e}}var p,T;function Q(i){switch(i){default:return g();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function _e(i){if(void 0===i)return Lr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case p.OK:return Y.OK;case p.CANCELLED:return Y.CANCELLED;case p.UNKNOWN:return Y.UNKNOWN;case p.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case p.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case p.INTERNAL:return Y.INTERNAL;case p.UNAVAILABLE:return Y.UNAVAILABLE;case p.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case p.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case p.NOT_FOUND:return Y.NOT_FOUND;case p.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case p.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case p.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case p.ABORTED:return Y.ABORTED;case p.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case p.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case p.DATA_LOSS:return Y.DATA_LOSS;default:return g()}}(T=p||(p={}))[T.OK=0]="OK",T[T.CANCELLED=1]="CANCELLED",T[T.UNKNOWN=2]="UNKNOWN",T[T.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",T[T.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",T[T.NOT_FOUND=5]="NOT_FOUND",T[T.ALREADY_EXISTS=6]="ALREADY_EXISTS",T[T.PERMISSION_DENIED=7]="PERMISSION_DENIED",T[T.UNAUTHENTICATED=16]="UNAUTHENTICATED",T[T.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",T[T.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",T[T.ABORTED=10]="ABORTED",T[T.OUT_OF_RANGE=11]="OUT_OF_RANGE",T[T.UNIMPLEMENTED=12]="UNIMPLEMENTED",T[T.INTERNAL=13]="INTERNAL",T[T.UNAVAILABLE=14]="UNAVAILABLE",T[T.DATA_LOSS=15]="DATA_LOSS";class st{constructor(e,r){this.comparator=e,this.root=r||en.EMPTY}insert(e,r){return new st(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new St(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new St(this.root,e,this.comparator,!1)}getReverseIterator(){return new St(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new St(this.root,e,this.comparator,!0)}}class St{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,r,o,l,f){this.key=e,this.value=r,this.color=null!=o?o:en.RED,this.left=null!=l?l:en.EMPTY,this.right=null!=f?f:en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,f){return new en(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,r,o),null):0===f?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return en.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw g();const e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1,en.EMPTY=new class{constructor(){this.size=0}get key(){throw g()}get value(){throw g()}get color(){throw g()}get left(){throw g()}get right(){throw g()}copy(i,e,r,o,l){return this}insert(i,e,r){return new en(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new or(this.data.getIterator())}getIteratorFrom(e){return new or(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new un(this.comparator);return r.data=e,r}}class or{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xr=new st(cn.comparator);function gi(){return Xr}const ha=new st(cn.comparator);function Ho(){return ha}const Nu=new st(cn.comparator);function Wa(){return Nu}const Dh=new un(cn.comparator);function Tr(...i){let e=Dh;for(const r of i)e=e.add(r);return e}const ku=new un(Qn);function Ll(){return ku}class qa{constructor(e,r,o,l,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,r)),new qa(Jn.min(),o,Ll(),gi(),Tr())}}class fa{constructor(e,r,o,l,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r){return new fa(Jr.EMPTY_BYTE_STRING,r,Tr(),Tr(),Tr())}}class Ul{constructor(e,r,o,l){this.$=e,this.removedTargetIds=r,this.key=o,this.O=l}}class uc{constructor(e,r){this.targetId=e,this.M=r}}class pa{constructor(e,r,o=Jr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class cc{constructor(){this.F=0,this.L=yi(),this.B=Jr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Tr(),r=Tr(),o=Tr();return this.L.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:g()}}),new fa(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=yi()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Ih{constructor(e){this.et=e,this.nt=new Map,this.st=gi(),this.it=Np(),this.rt=new un(Qn)}ot(e){for(const r of e.$)e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O);for(const r of e.removedTargetIds)this.at(r,e.key,e.O)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:g()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,l)=>{this.lt(l)&&r(l)})}dt(e){const r=e.targetId,o=e.M.count,l=this.wt(r);if(l){const f=l.target;if(Uo(f))if(0===o){const v=new cn(f.path);this.at(r,v,$r.newNoDocument(v,Jn.min()))}else P(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((f,v)=>{const U=this.wt(v);if(U){if(f.current&&Uo(U.target)){const J=new cn(U.target.path);null!==this.st.get(J)||this.yt(v,J)||this.at(v,J,$r.newNoDocument(J,e))}f.j&&(r.set(v,f.G()),f.H())}});let o=Tr();this.it.forEach((f,v)=>{let U=!0;v.forEachWhile(J=>{const fe=this.wt(J);return!fe||2===fe.purpose||(U=!1,!1)}),U&&(o=o.add(f))});const l=new qa(e,r,this.rt,this.st,o);return this.st=gi(),this.it=Np(),this.rt=new un(Qn),l}ct(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}at(e,r,o){if(!this.lt(e))return;const l=this.ht(e);this.yt(e,r)?l.J(r,1):l.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new cc,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new un(Qn),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||Vt("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new cc),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function Np(){return new st(cn.comparator)}function yi(){return new st(cn.comparator)}const Jg={asc:"ASCENDING",desc:"DESCENDING"},Xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Th{constructor(e,r){this.databaseId=e,this.C=r}}function Fu(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kp(i,e){return i.C?e.toBase64():e.toUint8Array()}function ey(i,e){return Fu(i,e.toTimestamp())}function ts(i){return P(!!i),Jn.fromTimestamp(function(e){const r=Ur(e);return new Hr(r.seconds,r.nanos)}(i))}function Ah(i,e){return(r=i,new br(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Fp(i){const e=br.fromString(i);return P(Gp(e)),e}function ad(i,e){return Ah(i.databaseId,e.path)}function ma(i,e){const r=Fp(e);if(r.get(1)!==i.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new cn(Mh(r))}function Vl(i,e){return Ah(i.databaseId,e)}function ms(i){const e=Fp(i);return 4===e.length?br.emptyPath():Mh(e)}function Bl(i){return new br(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mh(i){return P(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Sh(i,e,r){return{name:ad(i,e),fields:r.value.mapValue.fields}}function ls(i,e,r){const o=ma(i,e.name),l=ts(e.updateTime),f=new Xi({mapValue:{fields:e.fields}}),v=$r.newFoundDocument(o,l,f);return r&&v.setHasCommittedMutations(),r?v.setHasCommittedMutations():v}function ld(i,e){let r;if(e instanceof za)r={update:Sh(i,e.key,e.value)};else if(e instanceof Fl)r={delete:ad(i,e.key)};else if(e instanceof wo)r={update:Sh(i,e.key,e.data),updateMask:iy(e.fieldMask)};else{if(!(e instanceof b))return g();r={verify:ad(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const v=f.transform;if(v instanceof jo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof ca)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ro)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof da)return{fieldPath:f.field.canonicalString(),increment:v.N};throw g()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:ey(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:g()),r;var l}function Lp(i,e){const r=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?si.updateTime(ts(l.updateTime)):void 0!==l.exists?si.exists(l.exists):si.none():si.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,v){let U=null;"setToServerValue"in v?(P("REQUEST_TIME"===v.setToServerValue),U=new jo):"appendMissingElements"in v?U=new ca(v.appendMissingElements.values||[]):"removeAllFromArray"in v?U=new ro(v.removeAllFromArray.values||[]):"increment"in v?U=new da(f,v.increment):g();const J=Qi.fromServerFormat(v.fieldPath);return new js(J,U)}(i,l)):[];var l;if(e.update){const l=ma(i,e.update.name),f=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Tl((e.updateMask.fieldPaths||[]).map(fe=>Qi.fromServerFormat(fe)));return new wo(l,f,v,r,o)}return new za(l,f,r,o)}if(e.delete){const l=ma(i,e.delete);return new Fl(l,r)}if(e.verify){const l=ma(i,e.verify);return new b(l,r)}return g()}function Vp(i,e){return{documents:[Vl(i,e.path)]}}function Rh(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Vl(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Vl(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(U){if(0===U.length)return;const J=U.map(fe=>function(Pe){if("=="===Pe.op){if(ed(Pe.value))return{unaryFilter:{field:Ka(Pe.field),op:"IS_NAN"}};if(Ol(Pe.value))return{unaryFilter:{field:Ka(Pe.field),op:"IS_NULL"}}}else if("!="===Pe.op){if(ed(Pe.value))return{unaryFilter:{field:Ka(Pe.field),op:"IS_NOT_NAN"}};if(Ol(Pe.value))return{unaryFilter:{field:Ka(Pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(Pe.field),op:ny(Pe.op),value:Pe.value}}}(fe));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(e.filters);l&&(r.structuredQuery.where=l);const f=function(U){if(0!==U.length)return U.map(J=>{return{field:Ka((fe=J).field),direction:ty(fe.dir)};var fe})}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const v=(J=e.limit,i.C||Ji(J)?J:{value:J});var J;return null!==v&&(r.structuredQuery.limit=v),e.startAt&&(r.structuredQuery.startAt=$p(e.startAt)),e.endAt&&(r.structuredQuery.endAt=$p(e.endAt)),r}function Bp(i){let e=ms(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){P(1===o);const Pe=r.from[0];Pe.allDescendants?l=Pe.collectionId:e=e.child(Pe.collectionId)}let f=[];r.where&&(f=Hp(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(Pe=>{return new ks(Lu((et=Pe).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction));var et}));let U=null;r.limit&&(U=function(Pe){let et;return et="object"==typeof Pe?Pe.value:Pe,Ji(et)?null:et}(r.limit));let J=null;r.startAt&&(J=ud(r.startAt));let fe=null;return r.endAt&&(fe=ud(r.endAt)),vo(e,l,v,f,U,"F",J,fe)}function Hp(i){return i?void 0!==i.unaryFilter?[hc(i)]:void 0!==i.fieldFilter?[ry(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Hp(e)).reduce((e,r)=>e.concat(r)):g():[]}function $p(i){return{before:i.before,values:i.position}}function ud(i){return new Nl(i.values||[],!!i.before)}function ty(i){return Jg[i]}function ny(i){return Xg[i]}function Ka(i){return{fieldPath:i.canonicalString()}}function Lu(i){return Qi.fromServerFormat(i.fieldPath)}function ry(i){return es.create(Lu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return g()}}(i.fieldFilter.op),i.fieldFilter.value)}function hc(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Lu(i.unaryFilter.field);return es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Lu(i.unaryFilter.field);return es.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lu(i.unaryFilter.field);return es.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lu(i.unaryFilter.field);return es.create(l,"!=",{nullValue:"NULL_VALUE"});default:return g()}}function iy(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Gp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Co(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=zp(e)),e=sy(i.get(r),e);return zp(e)}function sy(i,e){let r=e;const o=i.length;for(let l=0;l<o;l++){const f=i.charAt(l);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function zp(i){return i+"\x01\x01"}function $o(i){const e=i.length;if(P(e>=2),2===e)return P("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),br.emptyPath();const r=e-2,o=[];let l="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>r)&&g(),i.charAt(v+1)){case"\x01":const U=i.substring(f,v);let J;0===l.length?J=U:(l+=U,J=l,l=""),o.push(J);break;case"\x10":l+=i.substring(f,v),l+="\0";break;case"\x11":l+=i.substring(f,v+1);break;default:g()}f=v+2}return new br(o)}class oy{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class Hs{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}Hs.store="owner",Hs.key="owner";class Za{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}Za.store="mutationQueues",Za.keyPath="userId";class ei{constructor(e,r,o,l,f){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=l,this.mutations=f}}ei.store="mutations",ei.keyPath="batchId",ei.userMutationsIndex="userMutationsIndex",ei.userMutationsKeyPath=["userId","batchId"];class us{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,Co(r)]}static key(e,r,o){return[e,Co(r),o]}}us.store="documentMutations",us.PLACEHOLDER=new us;class ay{constructor(e,r){this.path=e,this.readTime=r}}class ly{constructor(e,r){this.path=e,this.version=r}}class _i{constructor(e,r,o,l,f,v){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=l,this.readTime=f,this.parentPath=v}}_i.store="remoteDocuments",_i.readTimeIndex="readTimeIndex",_i.readTimeIndexPath="readTime",_i.collectionReadTimeIndex="collectionReadTimeIndex",_i.collectionReadTimeIndexPath=["parentPath","readTime"];class Ts{constructor(e){this.byteSize=e}}Ts.store="remoteDocumentGlobal",Ts.key="remoteDocumentGlobalKey";class di{constructor(e,r,o,l,f,v,U){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=l,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=v,this.query=U}}di.store="targets",di.keyPath="targetId",di.queryTargetsIndexName="queryTargetsIndex",di.queryTargetsKeyPath=["canonicalId","targetId"];class gs{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}gs.store="targetDocuments",gs.keyPath=["targetId","path"],gs.documentTargetsIndex="documentTargetsIndex",gs.documentTargetsKeyPath=["path","targetId"];class io{constructor(e,r,o,l){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=l}}io.key="targetGlobalKey",io.store="targetGlobal";class Ya{constructor(e,r){this.collectionId=e,this.parent=r}}Ya.store="collectionParents",Ya.keyPath=["collectionId","parent"];class Qa{constructor(e,r,o,l){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=l}}Qa.store="clientMetadata",Qa.keyPath="clientId";class As{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}As.store="bundles",As.keyPath="bundleId";class Ja{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Ja.store="namedQueries",Ja.keyPath="name";const Oh=[Za.store,ei.store,us.store,_i.store,di.store,Hs.store,io.store,gs.store,Qa.store,Ts.store,Ya.store,As.store,Ja.store],Wp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ph{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Pt((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Pt?r:Pt.resolve(r)}catch(r){return Pt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Pt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Pt.reject(r)}static resolve(e){return new Pt((r,o)=>{r(e)})}static reject(e){return new Pt((r,o)=>{o(e)})}static waitFor(e){return new Pt((r,o)=>{let l=0,f=0,v=!1;e.forEach(U=>{++l,U.next(()=>{++f,v&&f===l&&r()},J=>o(J))}),v=!0,f===l&&r()})}static or(e){let r=Pt.resolve(!1);for(const o of e)r=r.next(l=>l?Pt.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,f)=>{o.push(r.call(this,l,f))}),this.waitFor(o)}}class fc{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new yt,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new jl(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const l=dd(o.target.error);this.It.reject(new jl(e,l))}}static open(e,r,o,l){try{return new fc(r,e.transaction(l,o))}catch(f){throw new jl(r,f)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new nv(r)}}class so{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===so.bt((0,he.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),oo(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,he.hl)())return!1;if(so.vt())return!0;const e=(0,he.z$)(),r=so.bt(e),o=0<r&&r<10,l=so.Vt(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static bt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,De.Z)(function*(){return r.db||(Vt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,l)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{l(new jl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const U=v.target.error;l("VersionError"===U.name?new ce(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===U.name?new ce(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+U):new jl(e,U))},f.onupgradeneeded=v=>{Vt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.Rt.Nt(v.target.result,f.transaction,v.oldVersion,r.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,l){var f=this;return(0,De.Z)(function*(){const v="readonly"===r;let U=0;for(;;){++U;try{f.db=yield f.Ct(e);const J=fc.open(f.db,e,v?"readonly":"readwrite",o),fe=l(J).catch(Pe=>(J.abort(Pe),Pt.reject(Pe))).toPromise();return fe.catch(()=>{}),yield J.At,fe}catch(J){const fe="FirebaseError"!==J.name&&U<3;if(Vt("SimpleDb","Transaction failed with error:",J.message,"Retrying:",fe),f.close(),!fe)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Nh{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return oo(this.$t.delete())}}class jl extends ce{constructor(e,r){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Xa(i){return"IndexedDbTransactionError"===i.name}class nv{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Vt("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),oo(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),oo(this.store.add(e))}get(e){return oo(this.store.get(e)).next(r=>(void 0===r&&(r=null),Vt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),oo(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),oo(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),l=[];return this.Ut(o,(f,v)=>{l.push(v)}).next(()=>l)}qt(e,r){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const l=this.cursor(o);return this.Ut(l,(f,v,U)=>U.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const l=this.cursor(o);return this.Ut(l,r)}Qt(e){const r=this.cursor({});return new Pt((o,l)=>{r.onerror=f=>{const v=dd(f.target.error);l(v)},r.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(U=>{U?v.continue():o()}):o()}})}Ut(e,r){const o=[];return new Pt((l,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const U=v.target.result;if(!U)return void l();const J=new Nh(U),fe=r(U.primaryKey,U.value,J);if(fe instanceof Pt){const Pe=fe.catch(et=>(J.done(),Pt.reject(et)));o.push(Pe)}J.isDone?l():null===J.Ft?U.continue():U.continue(J.Ft)}}).next(()=>Pt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function oo(i){return new Pt((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=dd(o.target.error);r(l)}})}let cd=!1;function dd(i){const e=so.bt((0,he.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cd||(cd=!0,setTimeout(()=>{throw o},0)),o}}return i}class qp extends Ph{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function ys(i,e){const r=q(i);return so.Dt(r.Wt,e)}class kh{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&bo(f,e,o[l])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&Eo(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&Eo(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Jn.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Tr())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(r,o)=>Pu(r,o))&&na(this.baseMutations,e.baseMutations,(r,o)=>Pu(r,o))}}class Fh{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){P(e.mutations.length===o.length);let l=Wa();const f=e.mutations;for(let v=0;v<f.length;v++)l=l.insert(f[v].key,o[v].version);return new Fh(e,r,o,l)}}class el{constructor(e,r,o,l,f=Jn.min(),v=Jn.min(),U=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=U}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Kp{constructor(e){this.Gt=e}}function Lh(i,e){if(e.document)return ls(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=cn.fromSegments(e.noDocument.path),o=tl(e.noDocument.readTime),l=$r.newNoDocument(r,o);return e.hasCommittedMutations?l.setHasCommittedMutations():l}if(e.unknownDocument){const r=cn.fromSegments(e.unknownDocument.path),o=tl(e.unknownDocument.version);return $r.newUnknownDocument(r,o)}return g()}function Zp(i,e,r){const o=hd(r),l=e.key.path.popLast().toArray();if(e.isFoundDocument()){const f={name:ad(U=i.Gt,(J=e).key),fields:J.data.value.mapValue.fields,updateTime:Fu(U,J.version.toTimestamp())};return new _i(null,null,f,e.hasCommittedMutations,o,l)}var U,J;if(e.isNoDocument()){const f=e.key.path.toArray(),v=Hl(e.version),U=e.hasCommittedMutations;return new _i(null,new ay(f,v),null,U,o,l)}if(e.isUnknownDocument()){const f=e.key.path.toArray(),v=Hl(e.version);return new _i(new ly(f,v),null,null,!0,o,l)}return g()}function hd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fd(i){const e=new Hr(i[0],i[1]);return Jn.fromTimestamp(e)}function Hl(i){const e=i.toTimestamp();return new oy(e.seconds,e.nanoseconds)}function tl(i){const e=new Hr(i.seconds,i.nanoseconds);return Jn.fromTimestamp(e)}function Uu(i,e){const r=(e.baseMutations||[]).map(f=>Lp(i.Gt,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>Lp(i.Gt,f)),l=Hr.fromMillis(e.localWriteTimeMs);return new kh(e.batchId,l,r,o)}function pc(i){const e=tl(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?tl(i.lastLimboFreeSnapshotVersion):Jn.min();let o;var l;return void 0!==i.query.documents?(P(1===(l=i.query).documents.length),o=Fs(Bo(ms(l.documents[0])))):o=Fs(Bp(i.query)),new el(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Jr.fromBase64String(i.resumeToken))}function Uh(i,e){const r=Hl(e.snapshotVersion),o=Hl(e.lastLimboFreeSnapshotVersion);let l;l=Uo(e.target)?Vp(i.Gt,e.target):Rh(i.Gt,e.target);const f=e.resumeToken.toBase64();return new di(e.targetId,Ua(e.target),r,f,e.sequenceNumber,o,l)}function pd(i){const e=Bp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Iu(e,e.limit,"L"):e}class $l{getBundleMetadata(e,r){return Vh(e).get(r).next(o=>{if(o)return{id:(l=o).bundleId,createTime:tl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,r){return Vh(e).put({bundleId:(o=r).id,createTime:Hl(ts(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Bh(e).get(r).next(o=>{if(o)return{name:(l=o).name,query:pd(l.bundledQuery),readTime:tl(l.readTime)};var l})}saveNamedQuery(e,r){return Bh(e).put({name:(o=r).name,readTime:Hl(ts(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Vh(i){return ys(i,As.store)}function Bh(i){return ys(i,Ja.store)}class uy{constructor(){this.zt=new Vu}addToCollectionParentIndex(e,r){return this.zt.add(r),Pt.resolve()}getCollectionParents(e,r){return Pt.resolve(this.zt.getEntries(r))}}class Vu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new un(br.comparator),f=!l.has(o);return this.index[r]=l.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new un(br.comparator)).toArray()}}class cy{constructor(){this.Ht=new Vu}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const f={collectionId:o,parent:Co(l)};return jh(e).put(f)}return Pt.resolve()}getCollectionParents(e,r){const o=[],l=IDBKeyRange.bound([r,""],[yu(r),""],!1,!0);return jh(e).Bt(l).next(f=>{for(const v of f){if(v.collectionId!==r)break;o.push($o(v.parent))}return o})}}function jh(i){return ys(i,Ya.store)}const Hh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function md(i,e,r){const o=i.store(ei.store),l=i.store(us.store),f=[],v=IDBKeyRange.only(r.batchId);let U=0;const J=o.jt({range:v},(Pe,et,nt)=>(U++,nt.delete()));f.push(J.next(()=>{P(1===U)}));const fe=[];for(const Pe of r.mutations){const et=us.key(e,Pe.key.path,r.batchId);f.push(l.delete(et)),fe.push(Pe.key)}return Pt.waitFor(f).next(()=>fe)}function mc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw g();e=i.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class Bu{constructor(e,r,o,l){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=l,this.Yt={}}static Xt(e,r,o,l){P(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Bu(f,r,o,l)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).jt({index:ei.userMutationsIndex,range:o},(l,f,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,o,l){const f=nl(e),v=ga(e);return v.add({}).next(U=>{P("number"==typeof U);const J=new kh(U,r,o,l),fe=function(nt,kt,zt){const Sn=zt.baseMutations.map(qi=>ld(nt.Gt,qi)),tr=zt.mutations.map(qi=>ld(nt.Gt,qi));return new ei(kt,zt.batchId,zt.localWriteTime.toMillis(),Sn,tr)}(this.k,this.userId,J),Pe=[];let et=new un((nt,kt)=>Qn(nt.canonicalString(),kt.canonicalString()));for(const nt of l){const kt=us.key(this.userId,nt.key.path,U);et=et.add(nt.key.path.popLast()),Pe.push(v.put(fe)),Pe.push(f.put(kt,us.PLACEHOLDER))}return et.forEach(nt=>{Pe.push(this.Jt.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.Yt[U]=J.keys()}),Pt.waitFor(Pe).next(()=>J)})}lookupMutationBatch(e,r){return ga(e).get(r).next(o=>o?(P(o.userId===this.userId),Uu(this.k,o)):null)}Zt(e,r){return this.Yt[r]?Pt.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const l=o.keys();return this.Yt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return ga(e).jt({index:ei.userMutationsIndex,range:l},(v,U,J)=>{U.userId===this.userId&&(P(U.batchId>=o),f=Uu(this.k,U)),J.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ga(e).jt({index:ei.userMutationsIndex,range:r,reverse:!0},(l,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ga(e).Bt(ei.userMutationsIndex,r).next(o=>o.map(l=>Uu(this.k,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=us.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(o),f=[];return nl(e).jt({range:l},(v,U,J)=>{const[fe,Pe,et]=v,nt=$o(Pe);if(fe===this.userId&&r.path.isEqual(nt))return ga(e).get(et).next(kt=>{if(!kt)throw g();P(kt.userId===this.userId),f.push(Uu(this.k,kt))});J.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new un(Qn);const l=[];return r.forEach(f=>{const v=us.prefixForPath(this.userId,f.path),U=IDBKeyRange.lowerBound(v),J=nl(e).jt({range:U},(fe,Pe,et)=>{const[nt,kt,zt]=fe,Sn=$o(kt);nt===this.userId&&f.path.isEqual(Sn)?o=o.add(zt):et.done()});l.push(J)}),Pt.waitFor(l).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1,f=us.prefixForPath(this.userId,o),v=IDBKeyRange.lowerBound(f);let U=new un(Qn);return nl(e).jt({range:v},(J,fe,Pe)=>{const[et,nt,kt]=J,zt=$o(nt);et===this.userId&&o.isPrefixOf(zt)?zt.length===l&&(U=U.add(kt)):Pe.done()}).next(()=>this.te(e,U))}te(e,r){const o=[],l=[];return r.forEach(f=>{l.push(ga(e).get(f).next(v=>{if(null===v)throw g();P(v.userId===this.userId),o.push(Uu(this.k,v))}))}),Pt.waitFor(l).next(()=>o)}removeMutationBatch(e,r){return md(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),Pt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Pt.resolve();const o=IDBKeyRange.lowerBound(us.prefixForUser(this.userId)),l=[];return nl(e).jt({range:o},(f,v,U)=>{if(f[0]===this.userId){const J=$o(f[1]);l.push(J)}else U.done()}).next(()=>{P(0===l.length)})})}containsKey(e,r){return gc(e,this.userId,r)}ne(e){return $h(e).get(this.userId).next(r=>r||new Za(this.userId,-1,""))}}function gc(i,e,r){const o=us.prefixForPath(e,r.path),l=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return nl(i).jt({range:f,Kt:!0},(U,J,fe)=>{const[Pe,et,nt]=U;Pe===e&&et===l&&(v=!0),fe.done()}).next(()=>v)}function ga(i){return ys(i,ei.store)}function nl(i){return ys(i,us.store)}function $h(i){return ys(i,Za.store)}class ya{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ya(0)}static re(){return new ya(-1)}}class yc{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new ya(r.highestTargetId);return r.highestTargetId=o.next(),this.ce(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>Jn.fromTimestamp(new Hr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(l=>(l.highestListenSequenceNumber=r,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.ce(e,l)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ce(e,o))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ju(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(P(o.targetCount>0),o.targetCount-=1,this.ce(e,o)))}removeTargets(e,r,o){let l=0;const f=[];return ju(e).jt((v,U)=>{const J=pc(U);J.sequenceNumber<=r&&null===o.get(J.targetId)&&(l++,f.push(this.removeTargetData(e,J)))}).next(()=>Pt.waitFor(f)).next(()=>l)}forEachTarget(e,r){return ju(e).jt((o,l)=>{const f=pc(l);r(f)})}oe(e){return Gh(e).get(io.key).next(r=>(P(null!==r),r))}ce(e,r){return Gh(e).put(io.key,r)}ae(e,r){return ju(e).put(Uh(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Ua(r),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return ju(e).jt({range:l,index:di.queryTargetsIndexName},(v,U,J)=>{const fe=pc(U);Va(r,fe.target)&&(f=fe,J.done())}).next(()=>f)}addMatchingKeys(e,r,o){const l=[],f=rl(e);return r.forEach(v=>{const U=Co(v.path);l.push(f.put(new gs(o,U))),l.push(this.referenceDelegate.addReference(e,o,v))}),Pt.waitFor(l)}removeMatchingKeys(e,r,o){const l=rl(e);return Pt.forEach(r,f=>{const v=Co(f.path);return Pt.waitFor([l.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=rl(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),l=rl(e);let f=Tr();return l.jt({range:o,Kt:!0},(v,U,J)=>{const fe=$o(v[1]),Pe=new cn(fe);f=f.add(Pe)}).next(()=>f)}containsKey(e,r){const o=Co(r.path),l=IDBKeyRange.bound([o],[yu(o)],!1,!0);let f=0;return rl(e).jt({index:gs.documentTargetsIndex,Kt:!0,range:l},([v,U],J,fe)=>{0!==v&&(f++,fe.done())}).next(()=>f>0)}Et(e,r){return ju(e).get(r).next(o=>o?pc(o):null)}}function ju(i){return ys(i,di.store)}function Gh(i){return ys(i,io.store)}function rl(i){return ys(i,gs.store)}function Gl(i){return gd.apply(this,arguments)}function gd(){return gd=(0,De.Z)(function*(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==Wp)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),gd.apply(this,arguments)}function yd([i,e],[r,o]){const l=Qn(i,r);return 0===l?Qn(e,o):l}class Yp{constructor(e){this.he=e,this.buffer=new un(yd),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();yd(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rv{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;Vt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,De.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(l){Xa(l)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Gl(l)}yield r.me(e)}))}}class Qp{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Pt.resolve(mi.I);const o=new Yp(r);return this.ge.forEachTarget(e,l=>o.de(l.sequenceNumber)).next(()=>this.ge.pe(e,l=>o.de(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(Hh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hh):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,l,f,v,U,J,fe;const Pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(et=>(et>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${et}`),l=this.params.maximumSequenceNumbersToCollect):l=et,v=Date.now(),this.nthSequenceNumber(e,l))).next(et=>(o=et,U=Date.now(),this.removeTargets(e,o,r))).next(et=>(f=et,J=Date.now(),this.removeOrphanedDocuments(e,o))).next(et=>(fe=Date.now(),Lo()<=ye.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-Pe}ms\n\tDetermined least recently used ${l} in `+(U-v)+`ms\n\tRemoved ${f} targets in `+(J-U)+`ms\n\tRemoved ${et} documents in `+(fe-J)+`ms\nTotal Duration: ${fe-Pe}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:et})))}}class dy{constructor(e,r){this.db=e,this.garbageCollector=new Qp(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,l)=>r(l))}addReference(e,r,o){return _c(e,o)}removeReference(e,r,o){return _c(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return _c(e,r)}Ae(e,r){return function(o,l){let f=!1;return $h(o).Qt(v=>gc(o,v,l).next(U=>(U&&(f=!0),Pt.resolve(!U)))).next(()=>f)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Ie(e,(v,U)=>{if(U<=r){const J=this.Ae(e,v).next(fe=>{if(!fe)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v),rl(e).delete([0,Co(v.path)])))});l.push(J)}}).next(()=>Pt.waitFor(l)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return _c(e,r)}Ie(e,r){const o=rl(e);let l,f=mi.I;return o.jt({index:gs.documentTargetsIndex},([v,U],{path:J,sequenceNumber:fe})=>{0===v?(f!==mi.I&&r(new cn($o(l)),f),f=fe,l=J):f=mi.I}).next(()=>{f!==mi.I&&r(new cn($o(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _c(i,e){return rl(i).put((o=i.currentSequenceNumber,new gs(0,Co(e.path),o)));var o}class Hu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0!==l){for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,r]);l.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[r]:o.splice(l,1),!0;return!1}forEach(e){Mr(this.inner,(r,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return Yc(this.inner)}}class Jp{constructor(){this.changes=new Hu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:Jn.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:$r.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Pt.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Do{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return il(e).put(_d(r),o)}removeEntry(e,r){const o=il(e),l=_d(r);return o.delete(l)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return il(e).get(_d(r)).next(o=>this.be(r,o))}Pe(e,r){return il(e).get(_d(r)).next(o=>({document:this.be(r,o),size:mc(o)}))}getEntries(e,r){let o=gi();return this.ve(e,r,(l,f)=>{const v=this.be(l,f);o=o.insert(l,v)}).next(()=>o)}Ve(e,r){let o=gi(),l=new st(cn.comparator);return this.ve(e,r,(f,v)=>{const U=this.be(f,v);o=o.insert(f,U),l=l.insert(f,mc(v))}).next(()=>({documents:o,Se:l}))}ve(e,r,o){if(r.isEmpty())return Pt.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let v=f.getNext();return il(e).jt({range:l},(U,J,fe)=>{const Pe=cn.fromSegments(U);for(;v&&cn.comparator(v,Pe)<0;)o(v,null),v=f.getNext();v&&v.isEqual(Pe)&&(o(v,J),v=f.hasNext()?f.getNext():null),v?fe.Lt(v.path.toArray()):fe.done()}).next(()=>{for(;v;)o(v,null),v=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,r,o){let l=gi();const f=r.path.length+1,v={};if(o.isEqual(Jn.min())){const U=r.path.toArray();v.range=IDBKeyRange.lowerBound(U)}else{const U=r.path.toArray(),J=hd(o);v.range=IDBKeyRange.lowerBound([U,J],!0),v.index=_i.collectionReadTimeIndex}return il(e).jt(v,(U,J,fe)=>{if(U.length!==f)return;const Pe=Lh(this.k,J);r.path.isPrefixOf(Pe.key.path)?Au(r,Pe)&&(l=l.insert(Pe.key,Pe)):fe.done()}).next(()=>l)}newChangeBuffer(e){return new hy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return zh(e).get(Ts.key).next(r=>(P(!!r),r))}Re(e,r){return zh(e).put(Ts.key,r)}be(e,r){if(r){const o=Lh(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(Jn.min()))return o}return $r.newInvalidDocument(e)}}class hy extends Jp{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new Hu(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const r=[];let o=0,l=new un((f,v)=>Qn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const U=this.Ce.get(f);if(v.document.isValidDocument()){const J=Zp(this.De.k,v.document,this.getReadTime(f));l=l.add(f.path.popLast()),o+=mc(J)-U,r.push(this.De.addEntry(e,f,J))}else if(o-=U,this.trackRemovals){const J=Zp(this.De.k,$r.newNoDocument(f,Jn.min()),this.getReadTime(f));r.push(this.De.addEntry(e,f,J))}else r.push(this.De.removeEntry(e,f))}),l.forEach(f=>{r.push(this.De.Jt.addToCollectionParentIndex(e,f))}),r.push(this.De.updateMetadata(e,o)),Pt.waitFor(r)}getFromCache(e,r){return this.De.Pe(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:l})=>(l.forEach((f,v)=>{this.Ce.set(f,v)}),o))}}function zh(i){return ys(i,Ts.store)}function il(i){return ys(i,_i.store)}function _d(i){return i.path.toArray()}class fy{constructor(e){this.k=e}Nt(e,r,o,l){P(o<l&&o>=0&&l<=11);const f=new fc("createOrUpgrade",r);var U;o<1&&l>=1&&(e.createObjectStore(Hs.store),(U=e).createObjectStore(Za.store,{keyPath:Za.keyPath}),U.createObjectStore(ei.store,{keyPath:ei.keyPath,autoIncrement:!0}).createIndex(ei.userMutationsIndex,ei.userMutationsKeyPath,{unique:!0}),U.createObjectStore(us.store),Xp(e),function(U){U.createObjectStore(_i.store)}(e));let v=Pt.resolve();return o<3&&l>=3&&(0!==o&&(function(U){U.deleteObjectStore(gs.store),U.deleteObjectStore(di.store),U.deleteObjectStore(io.store)}(e),Xp(e)),v=v.next(()=>function(U){const J=U.store(io.store),fe=new io(0,0,Jn.min().toTimestamp(),0);return J.put(io.key,fe)}(f))),o<4&&l>=4&&(0!==o&&(v=v.next(()=>function(U,J){return J.store(ei.store).Bt().next(fe=>{U.deleteObjectStore(ei.store),U.createObjectStore(ei.store,{keyPath:ei.keyPath,autoIncrement:!0}).createIndex(ei.userMutationsIndex,ei.userMutationsKeyPath,{unique:!0});const Pe=J.store(ei.store),et=fe.map(nt=>Pe.put(nt));return Pt.waitFor(et)})}(e,f))),v=v.next(()=>{!function(U){U.createObjectStore(Qa.store,{keyPath:Qa.keyPath})}(e)})),o<5&&l>=5&&(v=v.next(()=>this.Ne(f))),o<6&&l>=6&&(v=v.next(()=>(function(U){U.createObjectStore(Ts.store)}(e),this.ke(f)))),o<7&&l>=7&&(v=v.next(()=>this.xe(f))),o<8&&l>=8&&(v=v.next(()=>this.$e(e,f))),o<9&&l>=9&&(v=v.next(()=>{(function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")})(e),function(U){const J=U.objectStore(_i.store);J.createIndex(_i.readTimeIndex,_i.readTimeIndexPath,{unique:!1}),J.createIndex(_i.collectionReadTimeIndex,_i.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&l>=10&&(v=v.next(()=>this.Oe(f))),o<11&&l>=11&&(v=v.next(()=>{(function(U){U.createObjectStore(As.store,{keyPath:As.keyPath})})(e),function(U){U.createObjectStore(Ja.store,{keyPath:Ja.keyPath})}(e)})),v}ke(e){let r=0;return e.store(_i.store).jt((o,l)=>{r+=mc(l)}).next(()=>{const o=new Ts(r);return e.store(Ts.store).put(Ts.key,o)})}Ne(e){const r=e.store(Za.store),o=e.store(ei.store);return r.Bt().next(l=>Pt.forEach(l,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Bt(ei.userMutationsIndex,v).next(U=>Pt.forEach(U,J=>{P(J.userId===f.userId);const fe=Uu(this.k,J);return md(e,f.userId,fe).next(()=>{})}))}))}xe(e){const r=e.store(gs.store),o=e.store(_i.store);return e.store(io.store).get(io.key).next(l=>{const f=[];return o.jt((v,U)=>{const J=new br(v),fe=[0,Co(J)];f.push(r.get(fe).next(Pe=>Pe?Pt.resolve():r.put(new gs(0,Co(J),l.highestListenSequenceNumber))))}).next(()=>Pt.waitFor(f))})}$e(e,r){e.createObjectStore(Ya.store,{keyPath:Ya.keyPath});const o=r.store(Ya.store),l=new Vu,f=v=>{if(l.add(v)){const U=v.lastSegment(),J=v.popLast();return o.put({collectionId:U,parent:Co(J)})}};return r.store(_i.store).jt({Kt:!0},(v,U)=>{const J=new br(v);return f(J.popLast())}).next(()=>r.store(us.store).jt({Kt:!0},([v,U,J],fe)=>{const Pe=$o(U);return f(Pe.popLast())}))}Oe(e){const r=e.store(di.store);return r.jt((o,l)=>{const f=pc(l),v=Uh(this.k,f);return r.put(v)})}}function Xp(i){i.createObjectStore(gs.store,{keyPath:gs.keyPath}).createIndex(gs.documentTargetsIndex,gs.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(di.store,{keyPath:di.keyPath}).createIndex(di.queryTargetsIndexName,di.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(io.store)}const vd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wh{constructor(e,r,o,l,f,v,U,J,fe,Pe){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Me=f,this.window=v,this.document=U,this.Fe=fe,this.Le=Pe,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=et=>Promise.resolve(),!Wh.Pt())throw new ce(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dy(this,l),this.Ge=r+"main",this.k=new Kp(J),this.ze=new so(this.Ge,11,new fy(this.k)),this.He=new yc(this.referenceDelegate,this.k),this.Jt=new cy,this.Je=new Do(this.k,this.Jt),this.Ye=new $l,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===Pe&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(Y.FAILED_PRECONDITION,vd);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new mi(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,De.Z)(function*(l){if(r.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,De.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,De.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bd(e).put(new Qa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.cn(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(Xa(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return vc(e).get(Hs.key).next(r=>Pt.resolve(this.un(r)))}hn(e){return bd(e).delete(this.clientId)}ln(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=ys(o,Qa.store);return l.Bt().next(f=>{const v=e.dn(f,18e5),U=f.filter(J=>-1===v.indexOf(J));return Pt.forEach(U,J=>l.delete(J.clientId)).next(()=>U)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Pt.resolve(!0):vc(e).get(Hs.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new ce(Y.FAILED_PRECONDITION,vd);return!1}}return!(!this.networkEnabled||!this.inForeground)||bd(e).Bt().next(o=>void 0===this.dn(o,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,U=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&U)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Vt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,De.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Hs.store,Qa.store],r=>{const o=new qp(r,mi.I);return e.cn(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>bd(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Bu.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let f;return Vt("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",Oh,v=>(f=new qp(v,this.Be?this.Be.next():mi.I),"readwrite-primary"===r?this.rn(f).next(U=>!!U||this.on(f)).next(U=>{if(!U)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ce(Y.FAILED_PRECONDITION,Wp);return o(f)}).next(U=>this.an(f).next(()=>U)):this.En(f).next(()=>o(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}En(e){return vc(e).get(Hs.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ce(Y.FAILED_PRECONDITION,vd)})}an(e){const r=new Hs(this.clientId,this.allowTabSynchronization,Date.now());return vc(e).put(Hs.key,r)}static Pt(){return so.Pt()}cn(e){const r=vc(e);return r.get(Hs.key).next(o=>this.un(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),r.delete(Hs.key)):Pt.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(Lr(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,he.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Lr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vc(i){return ys(i,Hs.store)}function bd(i){return ys(i,Qa.store)}function Kn(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class em{constructor(e,r){this.progress=e,this.In=r}}class qh{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.bn(e,r,o))}bn(e,r,o){return this.Je.getEntry(e,r).next(l=>{for(const f of o)f.applyToLocalView(l);return l})}Pn(e,r){e.forEach((o,l)=>{for(const f of r)f.applyToLocalView(l)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(e,r,o){return cn.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Sn(e,r.path):ja(r)?this.Dn(e,r,o):this.Cn(e,r,o);var l}Sn(e,r){return this.Rn(e,new cn(r)).next(o=>{let l=Ho();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Dn(e,r,o){const l=r.collectionGroup;let f=Ho();return this.Jt.getCollectionParents(e,l).next(v=>Pt.forEach(v,U=>{const J=(fe=r,Pe=U.child(l),new Is(Pe,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Pe;return this.Cn(e,J,o).next(fe=>{fe.forEach((Pe,et)=>{f=f.insert(Pe,et)})})}).next(()=>f))}Cn(e,r,o){let l,f;return this.Je.getDocumentsMatchingQuery(e,r,o).next(v=>(l=v,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(v=>(f=v,this.Nn(e,f,l).next(U=>{l=U;for(const J of f)for(const fe of J.mutations){const Pe=fe.key;let et=l.get(Pe);null==et&&(et=$r.newInvalidDocument(Pe),l=l.insert(Pe,et)),Eo(fe,et,J.localWriteTime),et.isFoundDocument()||(l=l.remove(Pe))}}))).next(()=>(l.forEach((v,U)=>{Au(r,U)||(l=l.remove(v))}),l))}Nn(e,r,o){let l=Tr();for(const v of r)for(const U of v.mutations)U instanceof wo&&null===o.get(U.key)&&(l=l.add(U.key));let f=o;return this.Je.getEntries(e,l).next(v=>(v.forEach((U,J)=>{J.isFoundDocument()&&(f=f.insert(U,J))}),f))}}class Ed{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=l}static $n(e,r){let o=Tr(),l=Tr();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Ed(e,r.fromCache,o,l)}}class bc{On(e){this.Mn=e}getDocumentsMatchingQuery(e,r,o,l){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(Jn.min())?this.Fn(e,r):this.Mn.vn(e,l).next(f=>{const v=this.Ln(r,f);return(to(r)||Du(r))&&this.Bn(r.limitType,v,l,o)?this.Fn(e,r):(Lo()<=ye.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tu(r)),this.Mn.getDocumentsMatchingQuery(e,r,o).next(U=>(v.forEach(J=>{U=U.insert(J.key,J)}),U)))});var f}Ln(e,r){let o=new un($a(e));return r.forEach((l,f)=>{Au(e,f)&&(o=o.add(f))}),o}Bn(e,r,o,l){if(o.size!==r.size)return!0;const f="F"===e?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Fn(e,r){return Lo()<=ye.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Tu(r)),this.Mn.getDocumentsMatchingQuery(e,r,Jn.min())}}class Io{constructor(e,r,o,l){this.persistence=e,this.Un=r,this.k=l,this.qn=new st(Qn),this.Kn=new Hu(f=>Ua(f),Va),this.jn=Jn.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new qh(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function Kh(i,e,r,o){return new Io(i,e,r,o)}function tm(i,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,De.Z)(function*(i,e){const r=q(i);let o=r.An,l=r.Wn;const f=yield r.persistence.runTransaction("Handle user change","readonly",v=>{let U;return r.An.getAllMutationBatches(v).next(J=>(U=J,o=r.persistence.getMutationQueue(e),l=new qh(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(v))).next(J=>{const fe=[],Pe=[];let et=Tr();for(const nt of U){fe.push(nt.batchId);for(const kt of nt.mutations)et=et.add(kt.key)}for(const nt of J){Pe.push(nt.batchId);for(const kt of nt.mutations)et=et.add(kt.key)}return l.vn(v,et).next(nt=>({Gn:nt,removedBatchIds:fe,addedBatchIds:Pe}))})});return r.An=o,r.Wn=l,r.Un.On(r.Wn),f}),Ec.apply(this,arguments)}function _a(i,e){const r=q(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=r.Qn.newChangeBuffer({trackRemovals:!0});return function(v,U,J,fe){const Pe=J.batch,et=Pe.keys();let nt=Pt.resolve();return et.forEach(kt=>{nt=nt.next(()=>fe.getEntry(U,kt)).next(zt=>{const Sn=J.docVersions.get(kt);P(null!==Sn),zt.version.compareTo(Sn)<0&&(Pe.applyToRemoteDocument(zt,J),zt.isValidDocument()&&fe.addEntry(zt,J.commitVersion))})}),nt.next(()=>v.An.removeMutationBatch(U,Pe))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,l))})}function wd(i){const e=q(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function nm(i,e){const r=q(i),o=e.snapshotVersion;let l=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=r.Qn.newChangeBuffer({trackRemovals:!0});l=r.qn;const U=[];e.targetChanges.forEach((fe,Pe)=>{const et=l.get(Pe);if(!et)return;U.push(r.He.removeMatchingKeys(f,fe.removedDocuments,Pe).next(()=>r.He.addMatchingKeys(f,fe.addedDocuments,Pe)));let nt=et.withSequenceNumber(f.currentSequenceNumber);var kt,zt,Sn;e.targetMismatches.has(Pe)?nt=nt.withResumeToken(Jr.EMPTY_BYTE_STRING,Jn.min()).withLastLimboFreeSnapshotVersion(Jn.min()):fe.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(fe.resumeToken,o)),l=l.insert(Pe,nt),zt=nt,Sn=fe,(0===(kt=et).resumeToken.approximateByteSize()||zt.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||Sn.addedDocuments.size+Sn.modifiedDocuments.size+Sn.removedDocuments.size>0)&&U.push(r.He.updateTargetData(f,nt))});let J=gi();if(e.documentUpdates.forEach((fe,Pe)=>{e.resolvedLimboDocuments.has(fe)&&U.push(r.persistence.referenceDelegate.updateLimboDocument(f,fe))}),U.push(Cd(f,v,e.documentUpdates,o,void 0).next(fe=>{J=fe})),!o.isEqual(Jn.min())){const fe=r.He.getLastRemoteSnapshotVersion(f).next(Pe=>r.He.setTargetsMetadata(f,f.currentSequenceNumber,o));U.push(fe)}return Pt.waitFor(U).next(()=>v.apply(f)).next(()=>r.Wn.Vn(f,J)).next(()=>J)}).then(f=>(r.qn=l,f))}function Cd(i,e,r,o,l){let f=Tr();return r.forEach(v=>f=f.add(v)),e.getEntries(i,f).next(v=>{let U=gi();return r.forEach((J,fe)=>{const Pe=v.get(J),et=(null==l?void 0:l.get(J))||o;fe.isNoDocument()&&fe.version.isEqual(Jn.min())?(e.removeEntry(J,et),U=U.insert(J,fe)):!Pe.isValidDocument()||fe.version.compareTo(Pe.version)>0||0===fe.version.compareTo(Pe.version)&&Pe.hasPendingWrites?(e.addEntry(fe,et),U=U.insert(J,fe)):Vt("LocalStore","Ignoring outdated watch update for ",J,". Current version:",Pe.version," Watch version:",fe.version)}),U})}function iv(i,e){const r=q(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function zl(i,e){const r=q(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.He.getTargetData(o,e).next(f=>f?(l=f,Pt.resolve(l)):r.He.allocateTargetId(o).next(v=>(l=new el(e,v,0,o.currentSequenceNumber),r.He.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.qn.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function wc(i,e,r){return $u.apply(this,arguments)}function $u(){return $u=(0,De.Z)(function*(i,e,r){const o=q(i),l=o.qn.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!Xa(v))throw v;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.qn=o.qn.remove(e),o.Kn.delete(l.target)}),$u.apply(this,arguments)}function Wl(i,e,r){const o=q(i);let l=Jn.min(),f=Tr();return o.persistence.runTransaction("Execute query","readonly",v=>function(U,J,fe){const Pe=q(U),et=Pe.Kn.get(fe);return void 0!==et?Pt.resolve(Pe.qn.get(et)):Pe.He.getTargetData(J,fe)}(o,v,Fs(e)).next(U=>{if(U)return l=U.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(v,U.targetId).next(J=>{f=J})}).next(()=>o.Un.getDocumentsMatchingQuery(v,e,r?l:Jn.min(),r?f:Tr())).next(U=>({documents:U,zn:f})))}function Dd(i,e){const r=q(i),o=q(r.He),l=r.qn.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,e).next(v=>v?v.target:null))}function Id(i){const e=q(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,l,f){const v=q(o);let U=gi(),J=hd(f);const fe=il(l),Pe=IDBKeyRange.lowerBound(J,!0);return fe.jt({index:_i.readTimeIndex,range:Pe},(et,nt)=>{const kt=Lh(v.k,nt);U=U.insert(kt.key,kt),J=nt.readTime}).next(()=>({In:U,readTime:fd(J)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function rm(){return rm=(0,De.Z)(function*(i){const e=q(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const l=il(o);let f=Jn.min();return l.jt({index:_i.readTimeIndex,reverse:!0},(v,U,J)=>{U.readTime&&(f=fd(U.readTime)),J.done()}).next(()=>f)}(r)).then(r=>{e.jn=r})}),rm.apply(this,arguments)}function Yh(){return Yh=(0,De.Z)(function*(i,e,r,o){const l=q(i);let f=Tr(),v=gi(),U=Wa();for(const Pe of r){const et=e.Hn(Pe.metadata.name);Pe.document&&(f=f.add(et)),v=v.insert(et,e.Jn(Pe)),U=U.insert(et,e.Yn(Pe.metadata.readTime))}const J=l.Qn.newChangeBuffer({trackRemovals:!0}),fe=yield zl(l,(Pe=o,Fs(Bo(br.fromString(`__bundle__/docs/${Pe}`)))));var Pe;return l.persistence.runTransaction("Apply bundle documents","readwrite",Pe=>Cd(Pe,J,v,Jn.min(),U).next(et=>(J.apply(Pe),et)).next(et=>l.He.removeMatchingKeysForTargetId(Pe,fe.targetId).next(()=>l.He.addMatchingKeys(Pe,f,fe.targetId)).next(()=>l.Wn.Vn(Pe,et)).next(()=>et)))}),Yh.apply(this,arguments)}function my(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,De.Z)(function*(i,e,r=Tr()){const o=yield zl(i,Fs(pd(e.bundledQuery))),l=q(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const v=ts(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return l.Ye.saveNamedQuery(f,e);const U=o.withResumeToken(Jr.EMPTY_BYTE_STRING,v);return l.qn=l.qn.insert(U.targetId,U),l.He.updateTargetData(f,U).next(()=>l.He.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>l.He.addMatchingKeys(f,r,o.targetId)).next(()=>l.Ye.saveNamedQuery(f,e))})}),Qh.apply(this,arguments)}class im{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return Pt.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:ts(o.createTime)}),Pt.resolve()}getNamedQuery(e,r){return Pt.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:pd(o.bundledQuery),readTime:ts(o.readTime)}),Pt.resolve();var o}}class sm{constructor(){this.ts=new un(ns.es),this.ns=new un(ns.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new ns(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new ns(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new cn(new br([])),o=new ns(r,e),l=new ns(r,e+1),f=[];return this.ns.forEachInRange([o,l],v=>{this.os(v),f.push(v.key)}),f}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new cn(new br([])),o=new ns(r,e),l=new ns(r,e+1);let f=Tr();return this.ns.forEachInRange([o,l],v=>{f=f.add(v.key)}),f}containsKey(e){const r=new ns(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ns{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return cn.comparator(e.key,r.key)||Qn(e.fs,r.fs)}static ss(e,r){return Qn(e.fs,r.fs)||cn.comparator(e.key,r.key)}}class sv{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new un(ns.es)}checkEmpty(e){return Pt.resolve(0===this.An.length)}addMutationBatch(e,r,o,l){const f=this.ds;this.ds++;const v=new kh(f,r,o,l);this.An.push(v);for(const U of l)this.ws=this.ws.add(new ns(U.key,f)),this.Jt.addToCollectionParentIndex(e,U.key.path.popLast());return Pt.resolve(v)}lookupMutationBatch(e,r){return Pt.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.gs(r+1),f=l<0?0:l;return Pt.resolve(this.An.length>f?this.An[f]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Pt.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ns(r,0),l=new ns(r,Number.POSITIVE_INFINITY),f=[];return this.ws.forEachInRange([o,l],v=>{const U=this._s(v.fs);f.push(U)}),Pt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new un(Qn);return r.forEach(l=>{const f=new ns(l,0),v=new ns(l,Number.POSITIVE_INFINITY);this.ws.forEachInRange([f,v],U=>{o=o.add(U.fs)})}),Pt.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let f=o;cn.isDocumentKey(f)||(f=f.child(""));const v=new ns(new cn(f),0);let U=new un(Qn);return this.ws.forEachWhile(J=>{const fe=J.key.path;return!!o.isPrefixOf(fe)&&(fe.length===l&&(U=U.add(J.fs)),!0)},v),Pt.resolve(this.ys(U))}ys(e){const r=[];return e.forEach(o=>{const l=this._s(o);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){P(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return Pt.forEach(r.mutations,l=>{const f=new ns(l.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new ns(r,0),l=this.ws.firstAfterOrEqual(o);return Pt.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return Pt.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class om{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new st(cn.comparator),this.size=0}addEntry(e,r,o){const l=r.key,f=this.docs.get(l),v=f?f.size:0,U=this.Ts(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:U,readTime:o}),this.size+=U-v,this.Jt.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Pt.resolve(o?o.document.mutableCopy():$r.newInvalidDocument(r))}getEntries(e,r){let o=gi();return r.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():$r.newInvalidDocument(l))}),Pt.resolve(o)}getDocumentsMatchingQuery(e,r,o){let l=gi();const f=new cn(r.path.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:U,value:{document:J,readTime:fe}}=v.getNext();if(!r.path.isPrefixOf(U.path))break;fe.compareTo(o)<=0||Au(r,J)&&(l=l.insert(J.key,J.mutableCopy()))}return Pt.resolve(l)}Es(e,r){return Pt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new am(this)}getSize(e){return Pt.resolve(this.size)}}class am extends Jp{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.document.isValidDocument()?r.push(this.De.addEntry(e,l.document,this.getReadTime(o))):this.De.removeEntry(o)}),Pt.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class gy{constructor(e){this.persistence=e,this.Is=new Hu(r=>Ua(r),Va),this.lastRemoteSnapshotVersion=Jn.min(),this.highestTargetId=0,this.As=0,this.Rs=new sm,this.targetCount=0,this.bs=ya.ie()}forEachTarget(e,r){return this.Is.forEach((o,l)=>r(l)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),Pt.resolve()}ae(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.bs=new ya(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,Pt.resolve()}updateTargetData(e,r){return this.ae(r),Pt.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,r,o){let l=0;const f=[];return this.Is.forEach((v,U)=>{U.sequenceNumber<=r&&null===o.get(U.targetId)&&(this.Is.delete(v),f.push(this.removeMatchingKeysForTargetId(e,U.targetId)),l++)}),Pt.waitFor(f).next(()=>l)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return Pt.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),Pt.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(v=>{f.push(l.markPotentiallyOrphaned(e,v))}),Pt.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),Pt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return Pt.resolve(o)}containsKey(e,r){return Pt.resolve(this.Rs.containsKey(r))}}class Jh{constructor(e,r){this.Ps={},this.Be=new mi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new gy(this),this.Jt=new uy,this.Je=new om(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new Kp(r),this.Ye=new im(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new sv(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){Vt("MemoryPersistence","Starting transaction:",e);const l=new ov(this.Be.next());return this.referenceDelegate.Vs(),o(l).next(f=>this.referenceDelegate.Ss(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ds(e,r){return Pt.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,r)))}}class ov extends Ph{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Cs=new sm,this.Ns=null}static ks(e){return new lm(e)}get xs(){if(this.Ns)return this.Ns;throw g()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),Pt.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),Pt.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),Pt.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(l=>this.xs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(f=>this.xs.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.xs,o=>{const l=cn.fromPath(o);return this.$s(e,l).next(f=>{f||r.removeEntry(l)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return Pt.or([()=>Pt.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function yy(i,e){return`firestore_clients_${i}_${e}`}function _y(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function um(i,e){return`firestore_targets_${i}_${e}`}class Xh{constructor(e,r,o,l){this.user=e,this.batchId=r,this.state=o,this.error=l}static Os(e,r,o){const l=JSON.parse(o);let f,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(f=new ce(l.error.code,l.error.message))),v?new Xh(e,r,l.state,f):(Lr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Td{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Os(e,r){const o=JSON.parse(r);let l,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(l=new ce(o.error.code,o.error.message))),f?new Td(e,o.state,l):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ef{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Os(e,r){const o=JSON.parse(r);let l="object"==typeof o&&o.activeTargetIds instanceof Array,f=Ll();for(let v=0;l&&v<o.activeTargetIds.length;++v)l=Ml(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return l?new ef(e,f):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class cm{constructor(e,r){this.clientId=e,this.onlineState=r}static Os(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new cm(r.clientId,r.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=Ll()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Go{constructor(e,r,o,l,f){this.window=e,this.Me=r,this.persistenceKey=o,this.Bs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new st(Qn),this.started=!1,this.js=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Qs=yy(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new dm),this.Gs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(U){return`firestore_bundle_loaded_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const r=yield e.syncEngine.Tn();for(const l of r){if(l===e.Bs)continue;const f=e.getItem(yy(e.persistenceKey,l));if(f){const v=ef.Os(l,f);v&&(e.Ks=e.Ks.insert(v.clientId,v))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const l=e.Zs(o);l&&e.ti(l)}for(const l of e.js)e.qs(l);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(um(this.persistenceKey,e));if(o){const l=Td.Os(e,o);l&&(r=l.state)}}return this.ii.Fs(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(um(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(l=>{this.si(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Vt("SharedClientState","READ",e,r),r}setItem(e,r){Vt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,De.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const l=r.ai(o.key);return r.ui(l,null)}{const l=r.hi(o.key,o.newValue);if(l)return r.ui(l.clientId,l)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const l=r.li(o.key,o.newValue);if(l)return r.fi(l)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const l=r.di(o.key,o.newValue);if(l)return r.wi(l)}}else if(o.key===r.Js){if(null!==o.newValue){const l=r.Zs(o.newValue);if(l)return r.ti(l)}}else if(o.key===r.Ws){const l=function(f){let v=mi.I;if(null!=f)try{const U=JSON.parse(f);P("number"==typeof U),v=U}catch(U){Lr("SharedClientState","Failed to read sequence number from WebStorage",U)}return v}(o.newValue);l!==mi.I&&r.sequenceNumberHandler(l)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,r,o){const l=new Xh(this.currentUser,e,r,o),f=_y(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Ms())}si(e){const r=_y(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const l=um(this.persistenceKey,e),f=new Td(e,r,o);this.setItem(l,f.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ai(e);return ef.Os(o,r)}li(e,r){const o=this.zs.exec(e),l=Number(o[1]);return Xh.Os(new Oi(void 0!==o[2]?o[2]:null),l,r)}di(e,r){const o=this.Hs.exec(e),l=Number(o[1]);return Td.Os(l,r)}Zs(e){return cm.Os(e)}fi(e){var r=this;return(0,De.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),l=this.ei(this.Ks),f=this.ei(o),v=[],U=[];return f.forEach(J=>{l.has(J)||v.push(J)}),l.forEach(J=>{f.has(J)||U.push(J)}),this.syncEngine.yi(v,U).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=Ll();return e.forEach((o,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class Ad{constructor(){this.pi=new dm,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new dm,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class vy{Ei(e){}shutdown(){}}class tf{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hm{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class rf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,l,f){const v=this.Ui(e,r);Vt("RestConnection","Sending: ",v,o);const U={};return this.qi(U,l,f),this.Ki(e,v,U,o).then(J=>(Vt("RestConnection","Received: ",J),J),J=>{throw S("RestConnection",`${e} failed with error: `,J,"url: ",v,"request:",o),J})}ji(e,r,o,l,f){return this.Bi(e,r,o,l,f)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ps,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}Ui(e,r){return`${this.Fi}/v1/${r}:${nf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,l){return new Promise((f,v)=>{const U=new ea;U.listenOnce(gu.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Rs.NO_ERROR:const fe=U.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(fe)),f(fe);break;case Rs.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),v(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Rs.HTTP_ERROR:const Pe=U.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',Pe,"response text:",U.getResponseText()),Pe>0){const et=U.getResponseJson().error;if(et&&et.status&&et.message){const nt=function(kt){const zt=kt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(zt)>=0?zt:Y.UNKNOWN}(et.status);v(new ce(nt,et.message))}else v(new ce(Y.UNKNOWN,"Server responded with status "+U.getStatus()))}else v(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const J=JSON.stringify(l);U.send(r,"POST",J,o,15)})}Qi(e,r,o){const l=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=wl(),v=Cl(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(U.xmlHttpFactory=new Dl({})),this.qi(U.initMessageHeaders,r,o),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(U.httpHeadersOverwriteParam="$httpHeaders");const J=l.join("");Vt("Connection","Creating WebChannel: "+J,U);const fe=f.createWebChannel(J,U);let Pe=!1,et=!1;const nt=new hm({Vi:zt=>{et?Vt("Connection","Not sending because WebChannel is closed:",zt):(Pe||(Vt("Connection","Opening WebChannel transport."),fe.open(),Pe=!0),Vt("Connection","WebChannel sending:",zt),fe.send(zt))},Si:()=>fe.close()}),kt=(zt,Sn,tr)=>{zt.listen(Sn,qi=>{try{tr(qi)}catch(hi){setTimeout(()=>{throw hi},0)}})};return kt(fe,Os.EventType.OPEN,()=>{et||Vt("Connection","WebChannel transport opened.")}),kt(fe,Os.EventType.CLOSE,()=>{et||(et=!0,Vt("Connection","WebChannel transport closed"),nt.Oi())}),kt(fe,Os.EventType.ERROR,zt=>{et||(et=!0,S("Connection","WebChannel transport errored:",zt),nt.Oi(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),kt(fe,Os.EventType.MESSAGE,zt=>{var Sn;if(!et){const tr=zt.data[0];P(!!tr);const qi=tr,hi=qi.error||(null===(Sn=qi[0])||void 0===Sn?void 0:Sn.error);if(hi){Vt("Connection","WebChannel received error:",hi);const Ro=hi.status;let Er=function(ah){const Lg=p[ah];if(void 0!==Lg)return _e(Lg)}(Ro),Wc=hi.message;void 0===Er&&(Er=Y.INTERNAL,Wc="Unknown error status: "+Ro+" with message "+hi.message),et=!0,nt.Oi(new ce(Er,Wc)),fe.close()}else Vt("Connection","WebChannel received:",tr),nt.Mi(tr)}}),kt(v,ii.STAT_EVENT,zt=>{zt.stat===_o.PROXY?Vt("Connection","Detected buffering proxy"):zt.stat===_o.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.$i()},0),nt}}function fm(){return"undefined"!=typeof window?window:null}function To(){return"undefined"!=typeof document?document:null}function Gu(i){return new Th(i,!0)}class sf{constructor(e,r,o=1e3,l=1.5,f=6e4){this.Me=e,this.timerId=r,this.Wi=o,this.Gi=l,this.zi=f,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),l=Math.max(0,r-o);l>0&&Vt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,l,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Md{constructor(e,r,o,l,f,v,U,J){this.Me=e,this.nr=o,this.sr=l,this.ir=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=U,this.listener=J,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new sf(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,De.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,De.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,r){var o=this;return(0,De.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Lr(r.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===Y.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.rr===r&&this.Ir(o,l)},o=>{e(()=>{const l=new ce(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(l)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(l=>{o(()=>this.Ar(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}dr(){var e=this;this.state=5,this.ur.Zi((0,De.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Me.enqueueAndForget(()=>this.rr===e?r():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class by extends Md{constructor(e,r,o,l,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,v),this.k=f}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function xh(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:g(),l=e.targetChange.targetIds||[],f=function(J,fe){return J.C?(P(void 0===fe||"string"==typeof fe),Jr.fromBase64String(fe||"")):(P(void 0===fe||fe instanceof Uint8Array),Jr.fromUint8Array(fe||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,U=v&&function(J){const fe=void 0===J.code?Y.UNKNOWN:_e(J.code);return new ce(fe,J.message||"")}(v);r=new pa(o,l,f,U||null)}else if("documentChange"in e){const o=e.documentChange,l=ma(i,o.document.name),f=ts(o.document.updateTime),v=new Xi({mapValue:{fields:o.document.fields}}),U=$r.newFoundDocument(l,f,v);r=new Ul(o.targetIds||[],o.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const o=e.documentDelete,l=ma(i,o.document),f=o.readTime?ts(o.readTime):Jn.min(),v=$r.newNoDocument(l,f);r=new Ul([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,l=ma(i,o.document);r=new Ul([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return g();{const o=e.filter,f=new h(o.count||0);r=new uc(o.targetId,f)}}var J;return r}(this.k,e),o=function(l){if(!("targetChange"in l))return Jn.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Jn.min():f.readTime?ts(f.readTime):Jn.min()}(e);return this.listener.br(r,o)}Pr(e){const r={};r.database=Bl(this.k),r.addTarget=function(l,f){let v;const U=f.target;return v=Uo(U)?{documents:Vp(l,U)}:{query:Rh(l,U)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=kp(l,f.resumeToken):f.snapshotVersion.compareTo(Jn.min())>0&&(v.readTime=Fu(l,f.snapshotVersion.toTimestamp())),v}(this.k,e);const o=function jp(i,e){const r=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=Bl(this.k),r.removeTarget=e,this.gr(r)}}class pm extends Md{constructor(e,r,o,l,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,v),this.k=f,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function Up(i,e){return i&&i.length>0?(P(void 0!==e),i.map(r=>function(o,l){let f=ts(o.updateTime?o.updateTime:l);return f.isEqual(Jn.min())&&(f=ts(l)),new Ch(f,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=ts(e.commitTime);return this.listener.Cr(o,r)}return P(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Bl(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>ld(this.k,o))};this.gr(r)}}class Ey extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=l,this.$r=!1}Or(){if(this.$r)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.ir.Bi(e,r,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Y.UNKNOWN,l.toString())})}ji(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.ir.ji(e,r,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Y.UNKNOWN,l.toString())})}terminate(){this.$r=!0}}class wy{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Lr(r),this.Lr=!1):Vt("OnlineStateTracker",r)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Cc{constructor(e,r,o,l,f){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=f,this.Hr.Ei(U=>{o.enqueueAndForget((0,De.Z)(function*(){var J;ba(v)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,De.Z)(function*(fe){const Pe=q(fe);Pe.Gr.add(4),yield Ao(Pe),Pe.Jr.set("Unknown"),Pe.Gr.delete(4),yield zo(Pe)}),function(fe){return J.apply(this,arguments)})(v))}))}),this.Jr=new wy(o,l)}}function zo(i){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,De.Z)(function*(i){if(ba(i))for(const e of i.zr)yield e(!0)}),Dc.apply(this,arguments)}function Ao(i){return ql.apply(this,arguments)}function ql(){return ql=(0,De.Z)(function*(i){for(const e of i.zr)yield e(!1)}),ql.apply(this,arguments)}function va(i,e){const r=q(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),Ac(r)?Tc(r):Kl(r).lr()&&Sd(r,e))}function Ic(i,e){const r=q(i),o=Kl(r);r.Wr.delete(e),o.lr()&&af(r,e),0===r.Wr.size&&(o.lr()?o._r():ba(r)&&r.Jr.set("Unknown"))}function Sd(i,e){i.Yr.X(e.targetId),Kl(i).Pr(e)}function af(i,e){i.Yr.X(e),Kl(i).vr(e)}function Tc(i){i.Yr=new Ih({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Kl(i).start(),i.Jr.Br()}function Ac(i){return ba(i)&&!Kl(i).hr()&&i.Wr.size>0}function ba(i){return 0===q(i).Gr.size}function Mc(i){i.Yr=void 0}function Cy(i){return xd.apply(this,arguments)}function xd(){return xd=(0,De.Z)(function*(i){i.Wr.forEach((e,r)=>{Sd(i,e)})}),xd.apply(this,arguments)}function av(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,De.Z)(function*(i,e){Mc(i),Ac(i)?(i.Jr.Kr(e),Tc(i)):i.Jr.set("Unknown")}),Rd.apply(this,arguments)}function mm(i,e,r){return lf.apply(this,arguments)}function lf(){return lf=(0,De.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof pa&&2===e.state&&e.cause)try{yield(o=(0,De.Z)(function*(l,f){const v=f.cause;for(const U of f.targetIds)l.Wr.has(U)&&(yield l.remoteSyncer.rejectListen(U,v),l.Wr.delete(U),l.Yr.removeTarget(U))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Sc(i,o)}else if(e instanceof Ul?i.Yr.ot(e):e instanceof uc?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(Jn.min()))try{const o=yield wd(i.localStore);r.compareTo(o)>=0&&(yield function(l,f){const v=l.Yr.gt(f);return v.targetChanges.forEach((U,J)=>{if(U.resumeToken.approximateByteSize()>0){const fe=l.Wr.get(J);fe&&l.Wr.set(J,fe.withResumeToken(U.resumeToken,f))}}),v.targetMismatches.forEach(U=>{const J=l.Wr.get(U);if(!J)return;l.Wr.set(U,J.withResumeToken(Jr.EMPTY_BYTE_STRING,J.snapshotVersion)),af(l,U);const fe=new el(J.target,U,1,J.sequenceNumber);Sd(l,fe)}),l.remoteSyncer.applyRemoteEvent(v)}(i,r))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield Sc(i,o)}var o}),lf.apply(this,arguments)}function Sc(i,e,r){return uf.apply(this,arguments)}function uf(){return uf=(0,De.Z)(function*(i,e,r){if(!Xa(e))throw e;i.Gr.add(1),yield Ao(i),i.Jr.set("Offline"),r||(r=()=>wd(i.localStore)),i.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield zo(i)}))}),uf.apply(this,arguments)}function gm(i,e){return e().catch(r=>Sc(i,r,e))}function rs(i){return cf.apply(this,arguments)}function cf(){return cf=(0,De.Z)(function*(i){const e=q(i),r=Ea(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Dy(e);)try{const l=yield iv(e.localStore,o);if(null===l){0===e.Qr.length&&r._r();break}o=l.batchId,lv(e,l)}catch(l){yield Sc(e,l)}Iy(e)&&df(e)}),cf.apply(this,arguments)}function Dy(i){return ba(i)&&i.Qr.length<10}function lv(i,e){i.Qr.push(e);const r=Ea(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function Iy(i){return ba(i)&&!Ea(i).hr()&&i.Qr.length>0}function df(i){Ea(i).start()}function uv(i){return hf.apply(this,arguments)}function hf(){return hf=(0,De.Z)(function*(i){Ea(i).kr()}),hf.apply(this,arguments)}function ff(i){return Od.apply(this,arguments)}function Od(){return Od=(0,De.Z)(function*(i){const e=Ea(i);for(const r of i.Qr)e.Dr(r.mutations)}),Od.apply(this,arguments)}function Ty(i,e,r){return pf.apply(this,arguments)}function pf(){return pf=(0,De.Z)(function*(i,e,r){const o=i.Qr.shift(),l=Fh.from(o,e,r);yield gm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield rs(i)}),pf.apply(this,arguments)}function Ay(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,De.Z)(function*(i,e){var r;e&&Ea(i).Sr&&(yield(r=(0,De.Z)(function*(o,l){if(Q(f=l.code)&&f!==Y.ABORTED){const v=o.Qr.shift();Ea(o).wr(),yield gm(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield rs(o)}var f}),function(o,l){return r.apply(this,arguments)})(i,e)),Iy(i)&&df(i)}),Pd.apply(this,arguments)}function ym(i,e){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,De.Z)(function*(i,e){const r=q(i);r.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=ba(r);r.Gr.add(3),yield Ao(r),o&&r.Jr.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Gr.delete(3),yield zo(r)}),Nd.apply(this,arguments)}function mf(i,e){return gf.apply(this,arguments)}function gf(){return gf=(0,De.Z)(function*(i,e){const r=q(i);e?(r.Gr.delete(2),yield zo(r)):e||(r.Gr.add(2),yield Ao(r),r.Jr.set("Unknown"))}),gf.apply(this,arguments)}function Kl(i){return i.Xr||(i.Xr=function(e,r,o){const l=q(e);return l.Or(),new by(r,l.ir,l.authCredentials,l.appCheckCredentials,l.k,o)}(i.datastore,i.asyncQueue,{Di:Cy.bind(null,i),Ni:av.bind(null,i),br:mm.bind(null,i)}),i.zr.push(function(){var e=(0,De.Z)(function*(r){r?(i.Xr.wr(),Ac(i)?Tc(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),Mc(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function Ea(i){return i.Zr||(i.Zr=function(e,r,o){const l=q(e);return l.Or(),new pm(r,l.ir,l.authCredentials,l.appCheckCredentials,l.k,o)}(i.datastore,i.asyncQueue,{Di:uv.bind(null,i),Ni:Ay.bind(null,i),Nr:ff.bind(null,i),Cr:Ty.bind(null,i)}),i.zr.push(function(){var e=(0,De.Z)(function*(r){r?(i.Zr.wr(),yield rs(i)):(yield i.Zr.stop(),i.Qr.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class yf{constructor(e,r,o,l,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,r,o,l,f){const v=Date.now()+o,U=new yf(e,r,v,l,f);return U.start(o),U}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ss(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),Xa(i))return new ce(Y.UNAVAILABLE,`${e}: ${i}`);throw i}class sl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||cn.comparator(r.key,o.key):(r,o)=>cn.comparator(r.key,o.key),this.keyedMap=Ho(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new sl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new sl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class _m{constructor(){this.eo=new st(cn.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):g():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class zu{constructor(e,r,o,l,f,v,U,J){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=U,this.excludesMetadataChanges=J}static fromInitialDocuments(e,r,o,l){const f=[];return r.forEach(v=>{f.push({type:0,doc:v})}),new zu(e,r,sl.emptySet(r),f,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&no(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}class cv{constructor(){this.so=void 0,this.listeners=[]}}class vm{constructor(){this.queries=new Hu(e=>Ha(e),no),this.onlineState="Unknown",this.io=new Set}}function _f(i,e){return vf.apply(this,arguments)}function vf(){return vf=(0,De.Z)(function*(i,e){const r=q(i),o=e.query;let l=!1,f=r.queries.get(o);if(f||(l=!0,f=new cv),l)try{f.so=yield r.onListen(o)}catch(v){const U=Ss(v,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(U)}r.queries.set(o,f),f.listeners.push(e),e.ro(r.onlineState),f.so&&e.oo(f.so)&&Wu(r)}),vf.apply(this,arguments)}function bf(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,De.Z)(function*(i,e){const r=q(i),o=e.query;let l=!1;const f=r.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),l=0===f.listeners.length)}if(l)return r.queries.delete(o),r.onUnlisten(o)}),xc.apply(this,arguments)}function My(i,e){const r=q(i);let o=!1;for(const l of e){const v=r.queries.get(l.query);if(v){for(const U of v.listeners)U.oo(l)&&(o=!0);v.so=l}}o&&Wu(r)}function Sy(i,e,r){const o=q(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(r);o.queries.delete(e)}function Wu(i){i.io.forEach(e=>{e.next()})}class Rc{constructor(e,r,o){this.query=e,this.co=r,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new zu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.ao?this.ho(e)&&(this.co.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class xy{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class kd{constructor(e){this.k=e}Hn(e){return ma(this.k,e)}Jn(e){return e.metadata.exists?ls(this.k,e.document,!1):$r.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ts(e)}}class Ef{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=wf(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new kd(this.k);for(const l of e)if(l.metadata.queries){const f=o.Hn(l.metadata.name);for(const v of l.metadata.queries){const U=(r.get(v)||Tr()).add(f);r.set(v,U)}}return r}complete(){var e=this;return(0,De.Z)(function*(){const r=yield function py(i,e,r,o){return Yh.apply(this,arguments)}(e.localStore,new kd(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const l of e.queries)yield my(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",new em(Object.assign({},e.progress),r)})()}}function wf(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class bm{constructor(e){this.key=e}}class Em{constructor(e){this.key=e}}class Fd{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=Tr(),this.mutatedKeys=Tr(),this.Ao=$a(e),this.Ro=new sl(this.Ao)}get bo(){return this.To}Po(e,r){const o=r?r.vo:new _m,l=r?r.Ro:this.Ro;let f=r?r.mutatedKeys:this.mutatedKeys,v=l,U=!1;const J=to(this.query)&&l.size===this.query.limit?l.last():null,fe=Du(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Pe,et)=>{const nt=l.get(Pe),kt=Au(this.query,et)?et:null,zt=!!nt&&this.mutatedKeys.has(nt.key),Sn=!!kt&&(kt.hasLocalMutations||this.mutatedKeys.has(kt.key)&&kt.hasCommittedMutations);let tr=!1;nt&&kt?nt.data.isEqual(kt.data)?zt!==Sn&&(o.track({type:3,doc:kt}),tr=!0):this.Vo(nt,kt)||(o.track({type:2,doc:kt}),tr=!0,(J&&this.Ao(kt,J)>0||fe&&this.Ao(kt,fe)<0)&&(U=!0)):!nt&&kt?(o.track({type:0,doc:kt}),tr=!0):nt&&!kt&&(o.track({type:1,doc:nt}),tr=!0,(J||fe)&&(U=!0)),tr&&(kt?(v=v.add(kt),f=Sn?f.add(Pe):f.delete(Pe)):(v=v.delete(Pe),f=f.delete(Pe)))}),to(this.query)||Du(this.query))for(;v.size>this.query.limit;){const Pe=to(this.query)?v.last():v.first();v=v.delete(Pe.key),f=f.delete(Pe.key),o.track({type:1,doc:Pe})}return{Ro:v,vo:o,Bn:U,mutatedKeys:f}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const l=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const f=e.vo.no();f.sort((fe,Pe)=>function(et,nt){const kt=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return kt(et)-kt(nt)}(fe.type,Pe.type)||this.Ao(fe.doc,Pe.doc)),this.So(o);const v=r?this.Do():[],U=0===this.Io.size&&this.current?1:0,J=U!==this.Eo;return this.Eo=U,0!==f.length||J?{snapshot:new zu(this.query,e.Ro,l,f,e.mutatedKeys,0===U,J,!1),Co:v}:{Co:v}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new _m,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Tr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new Em(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new bm(o))}),r}ko(e){this.To=e.zn,this.Io=Tr();const r=this.Po(e.documents);return this.applyChanges(r,!0)}xo(){return zu.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class dv{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Ry{constructor(e){this.key=e,this.$o=!1}}class wm{constructor(e,r,o,l,f,v){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Oo={},this.Mo=new Hu(U=>Ha(U),no),this.Fo=new Map,this.Lo=new Set,this.Bo=new st(cn.comparator),this.Uo=new Map,this.qo=new sm,this.Ko={},this.jo=new Map,this.Qo=ya.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Cm(i,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,De.Z)(function*(i,e){const r=Om(i);let o,l;const f=r.Mo.get(e);if(f)o=f.targetId,r.sharedClientState.addLocalQueryTarget(o),l=f.view.xo();else{const v=yield zl(r.localStore,Fs(e)),U=r.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,l=yield Ud(r,e,o,"current"===U),r.isPrimaryClient&&va(r.remoteStore,v)}return l}),Ld.apply(this,arguments)}function Ud(i,e,r,o){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,De.Z)(function*(i,e,r,o){i.Go=(Pe,et,nt)=>{return(kt=(0,De.Z)(function*(zt,Sn,tr,qi){let hi=Sn.view.Po(tr);hi.Bn&&(hi=yield Wl(zt.localStore,Sn.query,!1).then(({documents:Wc})=>Sn.view.Po(Wc,hi)));const Ro=qi&&qi.targetChanges.get(Sn.targetId),Er=Sn.view.applyChanges(hi,zt.isPrimaryClient,Ro);return ol(zt,Sn.targetId,Er.Co),Er.snapshot}),function(zt,Sn,tr,qi){return kt.apply(this,arguments)})(i,Pe,et,nt);var kt};const l=yield Wl(i.localStore,e,!0),f=new Fd(e,l.zn),v=f.Po(l.documents),U=fa.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),J=f.applyChanges(v,i.isPrimaryClient,U);ol(i,r,J.Co);const fe=new dv(e,r,f);return i.Mo.set(e,fe),i.Fo.has(r)?i.Fo.get(r).push(e):i.Fo.set(r,[e]),J.snapshot}),Vd.apply(this,arguments)}function wa(i,e){return qu.apply(this,arguments)}function qu(){return qu=(0,De.Z)(function*(i,e){const r=q(i),o=r.Mo.get(e),l=r.Fo.get(o.targetId);if(l.length>1)return r.Fo.set(o.targetId,l.filter(f=>!no(f,e))),void r.Mo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield wc(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Ic(r.remoteStore,o.targetId),Ku(r,o.targetId)}).catch(Gl))):(Ku(r,o.targetId),yield wc(r.localStore,o.targetId,!0))}),qu.apply(this,arguments)}function Cf(){return Cf=(0,De.Z)(function*(i,e,r){const o=Pm(i);try{const l=yield function(f,v){const U=q(f),J=Hr.now(),fe=v.reduce((et,nt)=>et.add(nt.key),Tr());let Pe;return U.persistence.runTransaction("Locally write mutations","readwrite",et=>U.Wn.vn(et,fe).next(nt=>{Pe=nt;const kt=[];for(const zt of v){const Sn=rd(zt,Pe.get(zt.key));null!=Sn&&kt.push(new wo(zt.key,Sn,Pl(Sn.value.mapValue),si.exists(!0)))}return U.An.addMutationBatch(et,J,kt,v)})).then(et=>(et.applyToLocalDocumentSet(Pe),{batchId:et.batchId,changes:Pe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,v,U){let J=f.Ko[f.currentUser.toKey()];J||(J=new st(Qn)),J=J.insert(v,U),f.Ko[f.currentUser.toKey()]=J}(o,l.batchId,r),yield Ca(o,l.changes),yield rs(o.remoteStore)}catch(l){const f=Ss(l,"Failed to persist write");r.reject(f)}}),Cf.apply(this,arguments)}function Py(i,e){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,De.Z)(function*(i,e){const r=q(i);try{const o=yield nm(r.localStore,e);e.targetChanges.forEach((l,f)=>{const v=r.Uo.get(f);v&&(P(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.$o=!0:l.modifiedDocuments.size>0?P(v.$o):l.removedDocuments.size>0&&(P(v.$o),v.$o=!1))}),yield Ca(r,o,e)}catch(o){yield Gl(o)}}),Oc.apply(this,arguments)}function Df(i,e,r){const o=q(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const l=[];o.Mo.forEach((f,v)=>{const U=v.view.ro(e);U.snapshot&&l.push(U.snapshot)}),function(f,v){const U=q(f);U.onlineState=v;let J=!1;U.queries.forEach((fe,Pe)=>{for(const et of Pe.listeners)et.ro(v)&&(J=!0)}),J&&Wu(U)}(o.eventManager,e),l.length&&o.Oo.br(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function If(i,e,r){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,De.Z)(function*(i,e,r){const o=q(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Uo.get(e),f=l&&l.key;if(f){let v=new st(cn.comparator);v=v.insert(f,$r.newNoDocument(f,Jn.min()));const U=Tr().add(f),J=new qa(Jn.min(),new Map,new un(Qn),v,U);yield Py(o,J),o.Bo=o.Bo.remove(f),o.Uo.delete(e),Sf(o)}else yield wc(o.localStore,e,!1).then(()=>Ku(o,e,r)).catch(Gl)}),Zl.apply(this,arguments)}function Ny(i,e){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,De.Z)(function*(i,e){const r=q(i),o=e.batch.batchId;try{const l=yield _a(r.localStore,e);Af(r,o,null),Nc(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Ca(r,l)}catch(l){yield Gl(l)}}),Pc.apply(this,arguments)}function Dm(i,e,r){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,De.Z)(function*(i,e,r){const o=q(i);try{const l=yield function(f,v){const U=q(f);return U.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let fe;return U.An.lookupMutationBatch(J,v).next(Pe=>(P(null!==Pe),fe=Pe.keys(),U.An.removeMutationBatch(J,Pe))).next(()=>U.An.performConsistencyCheck(J)).next(()=>U.Wn.vn(J,fe))})}(o.localStore,e);Af(o,e,r),Nc(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Ca(o,l)}catch(l){yield Gl(l)}}),Bd.apply(this,arguments)}function Tf(){return Tf=(0,De.Z)(function*(i,e){const r=q(i);ba(r.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=q(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>v.An.getHighestUnacknowledgedBatchId(U))}(r.localStore);if(-1===o)return void e.resolve();const l=r.jo.get(o)||[];l.push(e),r.jo.set(o,l)}catch(o){const l=Ss(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Tf.apply(this,arguments)}function Nc(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function Af(i,e,r){const o=q(i);let l=o.Ko[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(r?f.reject(r):f.resolve(),l=l.remove(e)),o.Ko[o.currentUser.toKey()]=l}}function Ku(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Fo.get(e))i.Mo.delete(o),r&&i.Oo.zo(o,r);i.Fo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||Mf(i,o)})}function Mf(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(Ic(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),Sf(i))}function ol(i,e,r){for(const o of r)o instanceof bm?(i.qo.addReference(o.key,e),Tm(i,o)):o instanceof Em?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||Mf(i,o.key)):g()}function Tm(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(Vt("SyncEngine","New document in limbo: "+r),i.Lo.add(o),Sf(i))}function Sf(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new cn(br.fromString(e)),o=i.Qo.next();i.Uo.set(o,new Ry(r)),i.Bo=i.Bo.insert(r,o),va(i.remoteStore,new el(Fs(Bo(r.path)),o,2,mi.I))}}function Ca(i,e,r){return al.apply(this,arguments)}function al(){return al=(0,De.Z)(function*(i,e,r){const o=q(i),l=[],f=[],v=[];var U;o.Mo.isEmpty()||(o.Mo.forEach((U,J)=>{v.push(o.Go(J,e,r).then(fe=>{if(fe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(J.targetId,fe.fromCache?"not-current":"current"),l.push(fe);const Pe=Ed.$n(J.targetId,fe);f.push(Pe)}}))}),yield Promise.all(v),o.Oo.br(l),yield(U=(0,De.Z)(function*(J,fe){const Pe=q(J);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>Pt.forEach(fe,nt=>Pt.forEach(nt.kn,kt=>Pe.persistence.referenceDelegate.addReference(et,nt.targetId,kt)).next(()=>Pt.forEach(nt.xn,kt=>Pe.persistence.referenceDelegate.removeReference(et,nt.targetId,kt)))))}catch(et){if(!Xa(et))throw et;Vt("LocalStore","Failed to update sequence numbers: "+et)}for(const et of fe){const nt=et.targetId;if(!et.fromCache){const kt=Pe.qn.get(nt),Sn=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);Pe.qn=Pe.qn.insert(nt,Sn)}}}),function(J,fe){return U.apply(this,arguments)})(o.localStore,f))}),al.apply(this,arguments)}function ky(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,De.Z)(function*(i,e){const r=q(i);if(!r.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield tm(r.localStore,e);r.currentUser=e,(l=r).jo.forEach(v=>{v.forEach(U=>{U.reject(new ce(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ca(r,o.Gn)}var l}),xf.apply(this,arguments)}function Fy(i,e){const r=q(i),o=r.Uo.get(e);if(o&&o.$o)return Tr().add(o.key);{let l=Tr();const f=r.Fo.get(e);if(!f)return l;for(const v of f){const U=r.Mo.get(v);l=l.unionWith(U.view.bo)}return l}}function Ly(i,e){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,De.Z)(function*(i,e){const r=q(i),o=yield Wl(r.localStore,e.query,!0),l=e.view.ko(o);return r.isPrimaryClient&&ol(r,e.targetId,l.Co),l}),Ls.apply(this,arguments)}function Rf(i){return jd.apply(this,arguments)}function jd(){return jd=(0,De.Z)(function*(i){const e=q(i);return Id(e.localStore).then(r=>Ca(e,r))}),jd.apply(this,arguments)}function Am(i,e,r,o){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,De.Z)(function*(i,e,r,o){const l=q(i),f=yield function(v,U){const J=q(v),fe=q(J.An);return J.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>fe.Zt(Pe,U).next(et=>et?J.Wn.vn(Pe,et):Pt.resolve(null)))}(l.localStore,e);var U;null!==f?("pending"===r?yield rs(l.remoteStore):"acknowledged"===r||"rejected"===r?(Af(l,e,o||null),Nc(l,e),U=e,q(q(l.localStore).An).ee(U)):g(),yield Ca(l,f)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Hd.apply(this,arguments)}function Of(){return Of=(0,De.Z)(function*(i,e){const r=q(i);if(Om(r),Pm(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),l=yield Sm(r,o.toArray());r.Wo=!0,yield mf(r.remoteStore,!0);for(const f of l)va(r.remoteStore,f)}else if(!1===e&&!1!==r.Wo){const o=[];let l=Promise.resolve();r.Fo.forEach((f,v)=>{r.sharedClientState.isLocalQueryTarget(v)?o.push(v):l=l.then(()=>(Ku(r,v),wc(r.localStore,v,!0))),Ic(r.remoteStore,v)}),yield l,yield Sm(r,o),function(f){const v=q(f);v.Uo.forEach((U,J)=>{Ic(v.remoteStore,J)}),v.qo.hs(),v.Uo=new Map,v.Bo=new st(cn.comparator)}(r),r.Wo=!1,yield mf(r.remoteStore,!1)}}),Of.apply(this,arguments)}function Sm(i,e,r){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,De.Z)(function*(i,e,r){const o=q(i),l=[],f=[];for(const v of e){let U;const J=o.Fo.get(v);if(J&&0!==J.length){U=yield zl(o.localStore,Fs(J[0]));for(const fe of J){const Pe=o.Mo.get(fe),et=yield Ly(o,Pe);et.snapshot&&f.push(et.snapshot)}}else{const fe=yield Dd(o.localStore,v);U=yield zl(o.localStore,fe),yield Ud(o,xm(fe),v,!1)}l.push(U)}return o.Oo.br(f),l}),Pf.apply(this,arguments)}function xm(i){return vo(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Rm(i){const e=q(i);return q(q(e.localStore).persistence).Tn()}function hv(i,e,r,o){return $d.apply(this,arguments)}function $d(){return $d=(0,De.Z)(function*(i,e,r,o){const l=q(i);if(l.Wo)Vt("SyncEngine","Ignoring unexpected query state notification.");else if(l.Fo.has(e))switch(r){case"current":case"not-current":{const f=yield Id(l.localStore),v=qa.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Ca(l,f,v);break}case"rejected":yield wc(l.localStore,e,!0),Ku(l,e,o);break;default:g()}}),$d.apply(this,arguments)}function Uy(i,e,r){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,De.Z)(function*(i,e,r){const o=Om(i);if(o.Wo){for(const l of e){if(o.Fo.has(l)){Vt("SyncEngine","Adding an already active target "+l);continue}const f=yield Dd(o.localStore,l),v=yield zl(o.localStore,f);yield Ud(o,xm(f),v.targetId,!1),va(o.remoteStore,v)}for(const l of r)o.Fo.has(l)&&(yield wc(o.localStore,l,!1).then(()=>{Ic(o.remoteStore,l),Ku(o,l)}).catch(Gl))}}),Nf.apply(this,arguments)}function Om(i){const e=q(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=If.bind(null,e),e.Oo.br=My.bind(null,e.eventManager),e.Oo.zo=Sy.bind(null,e.eventManager),e}function Pm(i){const e=q(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ny.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dm.bind(null,e),e}class Nm{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,De.Z)(function*(){r.k=Gu(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return Kh(this.persistence,new bc,e.initialUser,this.k)}Yo(e){return new Jh(lm.ks,this.k)}Jo(e){return new Ad}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ff extends Nm{constructor(e,r,o){super(),this.tc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e),yield function Zh(i){return rm.apply(this,arguments)}(o.localStore),yield o.tc.initialize(o,e),yield Pm(o.tc.syncEngine),yield rs(o.tc.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return Kh(this.persistence,new bc,e.initialUser,this.k)}Xo(e){return new rv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=Kn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new Wh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,fm(),To(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Ad}}class km extends Ff{constructor(e,r){super(e,r,!1),this.tc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e);const l=o.tc.syncEngine;o.sharedClientState instanceof Go&&(o.sharedClientState.syncEngine={mi:Am.bind(null,l),gi:hv.bind(null,l),yi:Uy.bind(null,l),Tn:Rm.bind(null,l),_i:Rf.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var f=(0,De.Z)(function*(v){yield function Mm(i,e){return Of.apply(this,arguments)}(o.tc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Jo(e){const r=fm();if(!Go.Pt(r))throw new ce(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Kn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Go(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Fm{initialize(e,r){var o=this;return(0,De.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Df(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=ky.bind(null,o.syncEngine),yield mf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vm}createDatastore(e){const r=Gu(e.databaseInfo.databaseId),o=new rf(e.databaseInfo);return new Ey(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,l=e.asyncQueue,f=U=>Df(this.syncEngine,U,0),v=tf.Pt()?new tf:new vy,new Cc(r,o,l,f,v);var r,o,l,f,v}createSyncEngine(e,r){return function(o,l,f,v,U,J,fe){const Pe=new wm(o,l,f,v,U,J);return fe&&(Pe.Wo=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,De.Z)(function*(r){const o=q(r);Vt("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield Ao(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function ao(i,e=10240){let r=0;return{read:()=>(0,De.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class fv{constructor(e,r){this.sc=e,this.k=r,this.metadata=new yt,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,De.Z)(function*(){const r=yield e.oc();if(null===r)return null;const o=e.ic.decode(r),l=Number(o);isNaN(l)&&e.cc(`length string (${o}) is not valid number`);const f=yield e.ac(l);return new xy(JSON.parse(f),r.length+l)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,De.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const r=e.uc();r<0&&e.cc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ac(e){var r=this;return(0,De.Z)(function*(){for(;r.buffer.length<e;)(yield r.hc())&&r.cc("Reached the end of bundle when more is expected.");const o=r.ic.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,De.Z)(function*(){const r=yield e.sc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class Lm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,De.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new ce(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,De.Z)(function*(f,v){const U=q(f),J=Bl(U.k)+"/documents",fe={documents:v.map(kt=>ad(U.k,kt))},Pe=yield U.ji("BatchGetDocuments",J,fe),et=new Map;Pe.forEach(kt=>{const zt=function dc(i,e){return"found"in e?function(r,o){P(!!o.found);const l=ma(r,o.found.name),f=ts(o.found.updateTime),v=new Xi({mapValue:{fields:o.found.fields}});return $r.newFoundDocument(l,f,v)}(i,e):"missing"in e?function(r,o){P(!!o.missing),P(!!o.readTime);const l=ma(r,o.missing),f=ts(o.readTime);return $r.newNoDocument(l,f)}(i,e):g()}(U.k,kt);et.set(zt.key.toString(),zt)});const nt=[];return v.forEach(kt=>{const zt=et.get(kt.toString());P(!!zt),nt.push(zt)}),nt}),function(f,v){return l.apply(this,arguments)})(r.datastore,e);var l;return o.forEach(l=>r.recordVersion(l)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,l)=>{const f=cn.fromPath(l);e.mutations.push(new b(f,e.precondition(f)))}),yield(o=(0,De.Z)(function*(l,f){const v=q(l),U=Bl(v.k)+"/documents",J={writes:f.map(fe=>ld(v.k,fe))};yield v.Bi("Commit",U,J)}),function(l,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw g();r=Jn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new ce(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?si.updateTime(r):si.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Jn.min()))throw new ce(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(r)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Um{constructor(e,r,o,l){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=l,this.lc=5,this.ur=new sf(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,De.Z)(function*(){const r=new Lm(e.datastore),o=e.dc(r);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.wc(f)}))}).catch(l=>{e.wc(l)})}))}dc(e){try{const r=this.updateFunction(e);return!Ji(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!Q(r)}return!1}}class Vm{constructor(e,r,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Oi.UNAUTHENTICATED,this.clientId=zi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,De.Z)(function*(U){Vt("FirestoreClient","Received user=",U.uid),yield f.authCredentialListener(U),f.user=U});return function(U){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Vt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const l=Ss(o,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Bm(i,e){return jm.apply(this,arguments)}function jm(){return jm=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,De.Z)(function*(f){o.isEqual(f)||(yield tm(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),jm.apply(this,arguments)}function Uf(i,e){return kc.apply(this,arguments)}function kc(){return kc=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Vf(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(l=>ym(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>ym(e.remoteStore,f)),i.onlineComponents=e}),kc.apply(this,arguments)}function Vf(i){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,De.Z)(function*(i){return i.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield Bm(i,new Nm)),i.offlineComponents}),Fc.apply(this,arguments)}function Gd(i){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,De.Z)(function*(i){return i.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Uf(i,new Fm)),i.onlineComponents}),Bf.apply(this,arguments)}function Hm(i){return Vf(i).then(e=>e.persistence)}function jf(i){return Vf(i).then(e=>e.localStore)}function $m(i){return Gd(i).then(e=>e.remoteStore)}function Hf(i){return Gd(i).then(e=>e.syncEngine)}function Da(i){return ll.apply(this,arguments)}function ll(){return ll=(0,De.Z)(function*(i){const e=yield Gd(i),r=e.eventManager;return r.onListen=Cm.bind(null,e.syncEngine),r.onUnlisten=wa.bind(null,e.syncEngine),r}),ll.apply(this,arguments)}function Gm(i,e,r={}){const o=new yt;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(l,f,v,U,J){const fe=new Lf({next:et=>{f.enqueueAndForget(()=>bf(l,Pe));const nt=et.docs.has(v);!nt&&et.fromCache?J.reject(new ce(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&et.fromCache&&U&&"server"===U.source?J.reject(new ce(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(et)},error:et=>J.reject(et)}),Pe=new Rc(Bo(v.path),fe,{includeMetadataChanges:!0,wo:!0});return _f(l,Pe)}(yield Da(i),i.asyncQueue,e,r,o)})),o.promise}function Mo(i,e,r={}){const o=new yt;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(l,f,v,U,J){const fe=new Lf({next:et=>{f.enqueueAndForget(()=>bf(l,Pe)),et.fromCache&&"server"===U.source?J.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(et)},error:et=>J.reject(et)}),Pe=new Rc(v,fe,{includeMetadataChanges:!0,wo:!0});return _f(l,Pe)}(yield Da(i),i.asyncQueue,e,r,o)})),o.promise}class lo{constructor(e,r,o,l,f,v,U,J){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=U,this.useFetchStreams=J}}class ul{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}const Ql=new Map;function cl(i,e,r){if(!r)throw new ce(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jl(i,e,r,o){if(!0===e&&!0===o)throw new ce(Y.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Xl(i){if(!cn.isDocumentKey(i))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eu(i){if(cn.isDocumentKey(i))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ia(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":g()}function ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ia(i);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function tu(i,e){if(e<=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class nu{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Jl("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zu{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nu({}),this._settingsFrozen=!1,e instanceof ul?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(l.options.projectId)}(e))}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nu(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Yn;switch(r.type){case"gapi":const o=r.client;return P(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ys(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Ql.get(e);r&&(Vt("ComponentProvider","Removing Datastore"),Ql.delete(e),r.terminate())}(this),Promise.resolve()}}class Kr{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class cs{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class So extends cs{constructor(e,r,o){super(e,r,Bo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new cn(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Gf(i,e,...r){if(i=(0,he.m9)(i),cl("collection","path",e),i instanceof Zu){const o=br.fromString(e,...r);return eu(o),new So(i,null,o)}{if(!(i instanceof Kr||i instanceof So))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(br.fromString(e,...r));return eu(o),new So(i.firestore,null,o)}}function Vc(i,e,...r){if(i=(0,he.m9)(i),1===arguments.length&&(e=zi.A()),cl("doc","path",e),i instanceof Zu){const o=br.fromString(e,...r);return Xl(o),new Kr(i,null,new cn(o))}{if(!(i instanceof Kr||i instanceof So))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(br.fromString(e,...r));return Xl(o),new Kr(i.firestore,i instanceof So?i.converter:null,new cn(o))}}function zf(i,e){return i=(0,he.m9)(i),e=(0,he.m9)(e),(i instanceof Kr||i instanceof So)&&(e instanceof Kr||e instanceof So)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function qm(i,e){return i=(0,he.m9)(i),e=(0,he.m9)(e),i instanceof cs&&e instanceof cs&&i.firestore===e.firestore&&no(i._query,e._query)&&i.converter===e.converter}class Km{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new sf(this,"async_queue_retry"),this.bc=()=>{const r=To();r&&Vt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=To();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const r=To();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const r=new yt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,De.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(r){if(!Xa(r))throw r;Vt("AsyncQueue","Operation failed with retryable error: "+r)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const r=this.mc.then(()=>(this.Ic=!0,e().catch(o=>{throw this.Ec=o,this.Ic=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Ic=!1,o))));return this.mc=r,r}enqueueAfterDelay(e,r,o){this.Pc(),this.Rc.indexOf(e)>-1&&(r=0);const l=yf.createAndSchedule(this,e,r,o,f=>this.Sc(f));return this.Tc.push(l),l}Pc(){this.Ec&&g()}verifyOperationInProgress(){}Dc(){var e=this;return(0,De.Z)(function*(){let r;do{r=e.mc,yield r}while(r!==e.mc)})()}Cc(e){for(const r of this.Tc)if(r.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const r=this.Tc.indexOf(e);this.Tc.splice(r,1)}}function Wf(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Zm{constructor(){this._progressObserver={},this._taskCompletionResolver=new yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class oi extends Zu{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Km,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qf(this),this._firestoreClient.terminate()}}function ki(i){return i._firestoreClient||qf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function qf(i){var e;const r=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new lo(i._databaseId,f,i._persistenceKey,(U=r).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,U.useFetchStreams));var f,U;i._firestoreClient=new Vm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Gy(i,e,r){const o=new yt;return i.asyncQueue.enqueue((0,De.Z)(function*(){try{yield Bm(i,r),yield Uf(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(f=l).name?f.code===Y.FAILED_PRECONDITION||f.code===Y.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var f})).then(()=>o.promise)}function Qm(i){if(i._initialized||i._terminated)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wo{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Jr.fromBase64String(e))}catch(r){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new qo(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class uo{constructor(e){this._methodName=e}}class Wd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const Jm=/^__.*__$/;class qy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new wo(e,this.data,this.fieldMask,r,this.fieldTransforms):new za(e,this.data,r,this.fieldTransforms)}}class Yf{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new wo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Bc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}class qd{constructor(e,r,o,l,f,v){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=l,void 0===f&&this.xc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Oc({path:o,Fc:!1});return l.Lc(e),l}Bc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Oc({path:o,Fc:!1});return l.xc(),l}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Qd(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Bc(this.$c)&&Jm.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Xm{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||Gu(e)}Qc(e,r,o,l=!1){return new qd({$c:e,methodName:r,jc:o,path:Qi.emptyPath(),Fc:!1,Kc:l},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ru(i){const e=i._freezeSettings(),r=Gu(i._databaseId);return new Xm(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Kd(i,e,r,o,l,f={}){const v=i.Qc(f.merge||f.mergeFields?2:0,e,r,l);iu("Data must be an object, but it was:",v,o);const U=rg(o,v);let J,fe;if(f.merge)J=new Tl(v.fieldMask),fe=v.fieldTransforms;else if(f.mergeFields){const Pe=[];for(const et of f.mergeFields){const nt=Yd(e,et,r);if(!v.contains(nt))throw new ce(Y.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Jd(Pe,nt)||Pe.push(nt)}J=new Tl(Pe),fe=v.fieldTransforms.filter(et=>J.covers(et.field))}else J=null,fe=v.fieldTransforms;return new qy(new Xi(U),J,fe)}class jc extends uo{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function eg(i,e,r){return new qd({$c:3,jc:e.settings.jc,methodName:i._methodName,Fc:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Qf extends uo{_toFieldTransform(e){return new js(e.path,new jo)}isEqual(e){return e instanceof Qf}}class tg extends uo{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=eg(this,e,!0),o=this.Wc.map(f=>Ta(f,r)),l=new ca(o);return new js(e.path,l)}isEqual(e){return this===e}}class Ky extends uo{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=eg(this,e,!0),o=this.Wc.map(f=>Ta(f,r)),l=new ro(o);return new js(e.path,l)}isEqual(e){return this===e}}class ng extends uo{constructor(e,r){super(e),this.Gc=r}_toFieldTransform(e){const r=new da(e.k,nd(e.k,this.Gc));return new js(e.path,r)}isEqual(e){return this===e}}function Zd(i,e,r,o){const l=i.Qc(1,e,r);iu("Data must be an object, but it was:",l,o);const f=[],v=Xi.empty();Mr(o,(J,fe)=>{const Pe=Yu(e,J,r);fe=(0,he.m9)(fe);const et=l.Bc(Pe);if(fe instanceof jc)f.push(Pe);else{const nt=Ta(fe,et);null!=nt&&(f.push(Pe),v.set(Pe,nt))}});const U=new Tl(f);return new Yf(v,U,l.fieldTransforms)}function Hc(i,e,r,o,l,f){const v=i.Qc(1,e,r),U=[Yd(e,o,r)],J=[l];if(f.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<f.length;nt+=2)U.push(Yd(e,f[nt])),J.push(f[nt+1]);const fe=[],Pe=Xi.empty();for(let nt=U.length-1;nt>=0;--nt)if(!Jd(fe,U[nt])){const kt=U[nt];let zt=J[nt];zt=(0,he.m9)(zt);const Sn=v.Bc(kt);if(zt instanceof jc)fe.push(kt);else{const tr=Ta(zt,Sn);null!=tr&&(fe.push(kt),Pe.set(kt,tr))}}const et=new Tl(fe);return new Yf(Pe,et,v.fieldTransforms)}function Zy(i,e,r,o=!1){return Ta(r,i.Qc(o?4:3,e))}function Ta(i,e){if(Yy(i=(0,he.m9)(i)))return iu("Unsupported field value:",e,i),rg(i,e);if(i instanceof uo)return function(r,o){if(!Bc(o.$c))throw o.qc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(r,o){const l=[];let f=0;for(const v of r){let U=Ta(v,o.Uc(f));null==U&&(U={nullValue:"NULL_VALUE"}),l.push(U),f++}return{arrayValue:{values:l}}}(i,e)}return function(r,o){if(null===(r=(0,he.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return nd(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=Hr.fromDate(r);return{timestampValue:Fu(o.k,l)}}if(r instanceof Hr){const l=new Hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(o.k,l)}}if(r instanceof Wd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:kp(o.k,r._byteString)};if(r instanceof Kr){const l=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw o.qc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ah(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.qc(`Unsupported field value: ${Ia(r)}`)}(i,e)}function rg(i,e){const r={};return Yc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(i,(o,l)=>{const f=Ta(l,e.Mc(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Yy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hr||i instanceof Wd||i instanceof qo||i instanceof Kr||i instanceof uo)}function iu(i,e,r){if(!Yy(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ia(r);throw e.qc("an object"===o?i+" a custom object":i+" "+o)}var o}function Yd(i,e,r){if((e=(0,he.m9)(e))instanceof Wo)return e._internalPath;if("string"==typeof e)return Yu(i,e);throw Qd("Field path arguments must be of type string or ",i,!1,void 0,r)}const Jf=new RegExp("[~\\*/\\[\\]]");function Yu(i,e,r){if(e.search(Jf)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Wo(...e.split("."))._internalPath}catch(o){throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Qd(i,e,r,o,l){const f=o&&!o.isEmpty(),v=void 0!==l;let U=`Function ${e}() called with invalid data`;r&&(U+=" (via `toFirestore()`)"),U+=". ";let J="";return(f||v)&&(J+=" (found",f&&(J+=` in field ${o}`),v&&(J+=` in document ${l}`),J+=")"),new ce(Y.INVALID_ARGUMENT,U+i+J)}function Jd(i,e){return i.some(r=>r.isEqual(e))}class su{constructor(e,r,o,l,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class ig extends su{data(){return super.data()}}function Xf(i,e){return"string"==typeof e?Yu(i,e):e instanceof Wo?e._internalPath:e._delegate._internalPath}class ou{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends su{constructor(e,r,o,l,f,v){super(e,r,o,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Xf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class au extends xo{data(e={}){return super.data(e)}}class dl{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new ou(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new au(this._firestore,this._userDataWriter,o.key,o,new ou(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new au(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ou(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const U=new au(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ou(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let J=-1,fe=-1;return 0!==v.type&&(J=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),fe=f.indexOf(v.doc.key)),{type:sg(v.type),doc:U,oldIndex:J,newIndex:fe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Xd(i,e){return i instanceof xo&&e instanceof xo?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof dl&&e instanceof dl&&i._firestore===e._firestore&&qm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ep(i){if(Du(i)&&0===i.explicitOrderBy.length)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qu{}function Ko(i,...e){for(const r of e)i=r._apply(i);return i}class og extends Qu{constructor(e,r,o){super(),this.zc=e,this.Hc=r,this.Jc=o,this.type="where"}_apply(e){const r=ru(e.firestore),o=function(l,f,v,U,J,fe,Pe){let et;if(J.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){sp(Pe,fe);const kt=[];for(const zt of Pe)kt.push(ip(U,l,zt));et={arrayValue:{values:kt}}}else et=ip(U,l,Pe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||sp(Pe,fe),et=Zy(v,"where",Pe,"in"===fe||"not-in"===fe);const nt=es.create(J,fe,et);return function(kt,zt){if(zt.V()){const tr=aa(kt);if(null!==tr&&!tr.isEqual(zt.field))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${tr.toString()}' and '${zt.field.toString()}'`);const qi=kl(kt);null!==qi&&op(0,zt.field,qi)}const Sn=function(tr,qi){for(const hi of tr.filters)if(qi.indexOf(hi.op)>=0)return hi.op;return null}(kt,function(tr){switch(tr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(zt.op));if(null!==Sn)throw new ce(Y.INVALID_ARGUMENT,Sn===zt.op?`Invalid query. You cannot use more than one '${zt.op.toString()}' filter.`:`Invalid query. You cannot use '${zt.op.toString()}' filters with '${Sn.toString()}' filters.`)}(l,nt),nt}(e._query,0,r,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new cs(e.firestore,e.converter,function(l,f){const v=l.filters.concat([f]);return new Is(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class ag extends Qu{constructor(e,r){super(),this.zc=e,this.Yc=r,this.type="orderBy"}_apply(e){const r=function(o,l,f){if(null!==o.startAt)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new ks(l,f);return function(U,J){if(null===kl(U)){const fe=aa(U);null!==fe&&op(0,fe,J.field)}}(o,v),v}(e._query,this.zc,this.Yc);return new cs(e.firestore,e.converter,function(o,l){const f=o.explicitOrderBy.concat([l]);return new Is(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class eh extends Qu{constructor(e,r,o){super(),this.type=e,this.Xc=r,this.Zc=o}_apply(e){return new cs(e.firestore,e.converter,Iu(e._query,this.Xc,this.Zc))}}class tp extends Qu{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=rp(e,this.type,this.ta,this.ea);return new cs(e.firestore,e.converter,(l=r,new Is((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class th extends Qu{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=rp(e,this.type,this.ta,this.ea);return new cs(e.firestore,e.converter,(l=r,new Is((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function rp(i,e,r,o){if(r[0]=(0,he.m9)(r[0]),r[0]instanceof su)return function(l,f,v,U,J){if(!U)throw new ce(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const fe=[];for(const Pe of la(l))if(Pe.field.isKeyField())fe.push(Fa(f,U.key));else{const et=U.data.field(Pe.field);if(vu(et))throw new ce(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const nt=Pe.field.canonicalString();throw new ce(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}fe.push(et)}return new Nl(fe,J)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const l=ru(i.firestore);return function(f,v,U,J,fe,Pe){const et=f.explicitOrderBy;if(fe.length>et.length)throw new ce(Y.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let kt=0;kt<fe.length;kt++){const zt=fe[kt];if(et[kt].field.isKeyField()){if("string"!=typeof zt)throw new ce(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof zt}`);if(!ja(f)&&-1!==zt.indexOf("/"))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${zt}' contains a slash.`);const Sn=f.path.child(br.fromString(zt));if(!cn.isDocumentKey(Sn))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Sn}' is not because it contains an odd number of segments.`);const tr=new cn(Sn);nt.push(Fa(v,tr))}else{const Sn=Zy(U,J,zt);nt.push(Sn)}}return new Nl(nt,Pe)}(i._query,i.firestore._databaseId,l,e,r,o)}}function ip(i,e,r){if("string"==typeof(r=(0,he.m9)(r))){if(""===r)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ja(e)&&-1!==r.indexOf("/"))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(br.fromString(r));if(!cn.isDocumentKey(o))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Fa(i,new cn(o))}if(r instanceof Kr)return Fa(i,r._key);throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ia(r)}.`)}function sp(i,e){if(!Array.isArray(i)||0===i.length)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function op(i,e,r){if(!r.isEqual(e))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class nh{convertValue(e,r="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw g()}}convertObject(e,r){const o={};return Mr(e.fields,(l,f)=>{o[l]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Wd(qr(e.latitude),qr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Al(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Pi(e));default:return null}}convertTimestamp(e){const r=Ur(e);return new Hr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=br.fromString(e);P(Gp(o));const l=new ul(o.get(1),o.get(3)),f=new cn(o.popFirst(5));return l.isEqual(r)||Lr(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function $c(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class yv extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,r)}}class fg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ru(e)}set(e,r,o){this._verifyNotCommitted();const l=hl(e,this._firestore),f=$c(l.converter,r,o),v=Kd(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,o);return this._mutations.push(v.toMutation(l._key,si.none())),this}update(e,r,o,...l){this._verifyNotCommitted();const f=hl(e,this._firestore);let v;return v="string"==typeof(r=(0,he.m9)(r))||r instanceof Wo?Hc(this._dataReader,"WriteBatch.update",f._key,r,o,l):Zd(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(v.toMutation(f._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=hl(e,this._firestore);return this._mutations=this._mutations.concat(new Fl(r._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(i,e){if((i=(0,he.m9)(i)).firestore!==e)throw new ce(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class lu extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,r)}}function yg(i,e,r){i=ar(i,Kr);const o=ar(i.firestore,oi),l=$c(i.converter,e,r);return uu(o,[Kd(ru(o),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,si.none())])}function ap(i,e,r,...o){i=ar(i,Kr);const l=ar(i.firestore,oi),f=ru(l);let v;return v="string"==typeof(e=(0,he.m9)(e))||e instanceof Wo?Hc(f,"updateDoc",i._key,e,r,o):Zd(f,"updateDoc",i._key,e),uu(l,[v.toMutation(i._key,si.exists(!0))])}function vg(i,...e){var r,o,l;i=(0,he.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Wf(e[v])||(f=e[v],v++);const U={includeMetadataChanges:f.includeMetadataChanges};if(Wf(e[v])){const et=e[v];e[v]=null===(r=et.next)||void 0===r?void 0:r.bind(et),e[v+1]=null===(o=et.error)||void 0===o?void 0:o.bind(et),e[v+2]=null===(l=et.complete)||void 0===l?void 0:l.bind(et)}let J,fe,Pe;if(i instanceof Kr)fe=ar(i.firestore,oi),Pe=Bo(i._key.path),J={next:et=>{e[v]&&e[v](lp(fe,i,et))},error:e[v+1],complete:e[v+2]};else{const et=ar(i,cs);fe=ar(et.firestore,oi),Pe=et._query;const nt=new lu(fe);J={next:kt=>{e[v]&&e[v](new dl(fe,nt,et,kt))},error:e[v+1],complete:e[v+2]},ep(i._query)}return function(et,nt,kt,zt){const Sn=new Lf(zt),tr=new Rc(nt,Sn,kt);return et.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return _f(yield Da(et),tr)})),()=>{Sn.nc(),et.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return bf(yield Da(et),tr)}))}}(ki(fe),Pe,U,J)}function uu(i,e){return function(r,o){const l=new yt;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Oy(i,e,r){return Cf.apply(this,arguments)}(yield Hf(r),o,l)})),l.promise}(ki(i),e)}function lp(i,e,r){const o=r.docs.get(e._key),l=new lu(i);return new xo(i,l,e._key,o,new ou(r.hasPendingWrites,r.fromCache),e.converter)}class bg extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=ru(e)}get(e){const r=hl(e,this._firestore),o=new yv(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return g();const f=l[0];if(f.isFoundDocument())return new su(this._firestore,o,f.key,f,r.converter);if(f.isNoDocument())return new su(this._firestore,o,r._key,null,r.converter);throw g()})}set(e,r,o){const l=hl(e,this._firestore),f=$c(l.converter,r,o),v=Kd(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,o);return this._transaction.set(l._key,v),this}update(e,r,o,...l){const f=hl(e,this._firestore);let v;return v="string"==typeof(r=(0,he.m9)(r))||r instanceof Wo?Hc(this._dataReader,"Transaction.update",f._key,r,o,l):Zd(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,v),this}delete(e){const r=hl(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=hl(e,this._firestore),o=new lu(this._firestore);return super.get(e).then(l=>new xo(this._firestore,o,r._key,l._document,new ou(!1,!1),r.converter))}}function hp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ce("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function wg(){if("undefined"==typeof Uint8Array)throw new ce("unimplemented","Uint8Arrays are not available in this environment.")}function Cg(){if(!function Qc(){return"undefined"!=typeof atob}())throw new ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ps=tt.SDK_VERSION,(0,tt._registerComponent)(new ke.wA("firestore",(r,{options:o})=>{const l=r.getProvider("app").getImmediate(),f=new oi(l,new _r(r.getProvider("auth-internal")),new Ds(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,tt.registerVersion)(ta,"3.4.4",i),(0,tt.registerVersion)(ta,"3.4.4","esm2017")}();class cu{constructor(e){this._delegate=e}static fromBase64String(e){return Cg(),new cu(qo.fromBase64String(e))}static fromUint8Array(e){return wg(),new cu(qo.fromUint8Array(e))}toBase64(){return Cg(),this._delegate.toBase64()}toUint8Array(){return wg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function du(i){return function s_(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class Dg{enableIndexedDbPersistence(e,r){return function Hy(i,e){Qm(i=ar(i,oi));const r=ki(i),o=i._freezeSettings(),l=new Fm;return Gy(r,l,new Ff(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function $y(i){Qm(i=ar(i,oi));const e=ki(i),r=i._freezeSettings(),o=new Fm;return Gy(e,o,new km(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zy(i){if(i._initialized&&!i._terminated)throw new ce(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(r=(0,De.Z)(function*(o){if(!so.Pt())return Promise.resolve();const l=o+"main";yield so.delete(l)}),function(o){return r.apply(this,arguments)})(Kn(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Ig{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ul||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&S("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function zm(i,e,r,o={}){var l;const f=(i=ar(i,Zu))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&S("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let v,U;if("string"==typeof o.mockUserToken)v=o.mockUserToken,U=Oi.MOCK_USER;else{v=(0,he.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const J=o.mockUserToken.sub||o.mockUserToken.user_id;if(!J)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new Oi(J)}i._authCredentials=new Cn(new hn(v,U))}}(this._delegate,e,r,o)}enableNetwork(){return function Zf(i){return function Vy(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Hm(i),r=yield $m(i);return e.setNetworkEnabled(!0),function(o){const l=q(o);return l.Gr.delete(0),zo(l)}(r)}))}(ki(i=ar(i,oi)))}(this._delegate)}disableNetwork(){return function Wy(i){return function Lc(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Hm(i),r=yield $m(i);return e.setNetworkEnabled(!1),(o=(0,De.Z)(function*(l){const f=q(l);f.Gr.add(0),yield Ao(f),f.Jr.set("Offline")}),function(l){return o.apply(this,arguments)})(r);var o}))}(ki(i=ar(i,oi)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Jl("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Kf(i){return function(e){const r=new yt;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Im(i,e){return Tf.apply(this,arguments)}(yield Hf(e),r)})),r.promise}(ki(i=ar(i,oi)))}(this._delegate)}onSnapshotsInSync(e){return function t_(i,e){return function Uc(i,e){const r=new Lf(e);return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return o=yield Da(i),l=r,q(o).io.add(l),void l.next();var o,l})),()=>{r.nc(),i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return o=yield Da(i),l=r,void q(o).io.delete(l);var o,l}))}}(ki(i=ar(i,oi)),Wf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hu(this,Gf(this._delegate,e))}catch(r){throw ds(r,"collection()","Firestore.collection()")}}doc(e){try{return new Gs(this,Vc(this._delegate,e))}catch(r){throw ds(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vs(this,function Wm(i,e){if(i=ar(i,Zu),cl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(i,null,(r=e,new Is(br.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw ds(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _v(i,e){return function _s(i,e){const r=new yt;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const o=yield(l=i,Gd(l).then(f=>f.datastore));var l;new Um(i.asyncQueue,o,e,r).run()})),r.promise}(ki(i=ar(i,oi)),r=>e(new bg(i,r)))}(this._delegate,r=>e(new zc(this,r)))}batch(){return ki(this._delegate),new Ag(new fg(this._delegate,e=>uu(this._delegate,e)))}loadBundle(e){return function mv(i,e){const r=ki(i=ar(i,oi)),o=new Zm;return function Yl(i,e,r,o){const l=function(f,v){let U;return U="string"==typeof f?(new TextEncoder).encode(f):f,J=function(J,fe){if(J instanceof Uint8Array)return ao(J,void 0);if(J instanceof ArrayBuffer)return ao(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new fv(J,v);var J}(r,Gu(e));i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function kf(i,e,r){const o=q(i);var l;(l=(0,De.Z)(function*(f,v,U){try{const J=yield v.getMetadata();if(yield function(nt,kt){const zt=q(nt),Sn=ts(kt.createTime);return zt.persistence.runTransaction("hasNewerBundle","readonly",tr=>zt.Ye.getBundleMetadata(tr,kt.id)).then(tr=>!!tr&&tr.createTime.compareTo(Sn)>=0)}(f.localStore,J))return yield v.close(),void U._completeWith((nt=J,{taskState:"Success",documentsLoaded:nt.totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}));U._updateProgress(wf(J));const fe=new Ef(J,f.localStore,v.k);let Pe=yield v.Ho();for(;Pe;){const nt=yield fe.yo(Pe);nt&&U._updateProgress(nt),Pe=yield v.Ho()}const et=yield fe.complete();yield Ca(f,et.In,void 0),yield function(nt,kt){const zt=q(nt);return zt.persistence.runTransaction("Save bundle","readwrite",Sn=>zt.Ye.saveBundleMetadata(Sn,kt))}(f.localStore,J),U._completeWith(et.progress)}catch(J){S("SyncEngine",`Loading bundle failed with ${J}`),U._failWith(J)}var nt}),function(f,v,U){return l.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Hf(i),l,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function gv(i,e){return function zd(i,e){return i.asyncQueue.enqueue((0,De.Z)(function*(){return function(r,o){const l=q(r);return l.persistence.runTransaction("Get named query","readonly",f=>l.Ye.getNamedQuery(f,o))}(yield jf(i),e)}))}(ki(i=ar(i,oi)),e).then(r=>r?new cs(i,null,r.query):null)}(this._delegate,e).then(r=>r?new vs(this,r):null)}}class Gc extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(new qo(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Gs.forKey(r,this.firestore,null)}}class zc{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Gc(e)}get(e){const r=pl(e);return this._delegate.get(r).then(o=>new Xu(this._firestore,new xo(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const l=pl(e);return o?(hp("Transaction.set",o),this._delegate.set(l,r,o)):this._delegate.set(l,r),this}update(e,r,o,...l){const f=pl(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...l),this}delete(e){const r=pl(e);return this._delegate.delete(r),this}}class Ag{constructor(e){this._delegate=e}set(e,r,o){const l=pl(e);return o?(hp("WriteBatch.set",o),this._delegate.set(l,r,o)):this._delegate.set(l,r),this}update(e,r,o,...l){const f=pl(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...l),this}delete(e){const r=pl(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class fl{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new au(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ec(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=fl.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let f=l.get(r);return f||(f=new fl(e,new Gc(e),r),l.set(r,f)),f}}fl.INSTANCES=new WeakMap;class Gs{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Gc(e)}static forPath(e,r,o){if(e.length%2!=0)throw new ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gs(r,new Kr(r._delegate,o,new cn(e)))}static forKey(e,r,o){return new Gs(r,new Kr(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new hu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hu(this.firestore,Gf(this._delegate,e))}catch(r){throw ds(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof Kr&&zf(this._delegate,e)}set(e,r){r=hp("DocumentReference.set",r);try{return r?yg(this._delegate,e,r):yg(this._delegate,e)}catch(o){throw ds(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?ap(this._delegate,e):ap(this._delegate,e,r,...o)}catch(l){throw ds(l,"updateDoc()","DocumentReference.update()")}}delete(){return function _g(i){return uu(ar(i.firestore,oi),[new Fl(i._key,si.none())])}(this._delegate)}onSnapshot(...e){const r=rh(e),o=ih(e,l=>new Xu(this.firestore,new xo(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return vg(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Wi(i){i=ar(i,Kr);const e=ar(i.firestore,oi),r=ki(e),o=new lu(e);return function By(i,e){const r=new yt;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(l,f,v){try{const U=yield function(J,fe){const Pe=q(J);return Pe.persistence.runTransaction("read document","readonly",et=>Pe.Wn.Rn(et,fe))}(l,f);U.isFoundDocument()?v.resolve(U):U.isNoDocument()?v.resolve(null):v.reject(new ce(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const J=Ss(U,`Failed to get document '${f} from cache`);v.reject(J)}}),function(l,f,v){return o.apply(this,arguments)})(yield jf(i),e,r);var o})),r.promise}(r,i._key).then(l=>new xo(e,o,i._key,l,new ou(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function mg(i){i=ar(i,Kr);const e=ar(i.firestore,oi);return Gm(ki(e),i._key,{source:"server"}).then(r=>lp(e,i,r))}(this._delegate):function pg(i){i=ar(i,Kr);const e=ar(i.firestore,oi);return Gm(ki(e),i._key).then(r=>lp(e,i,r))}(this._delegate),r.then(o=>new Xu(this.firestore,new xo(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}function ds(i,e,r){return i.message=i.message.replace(e,r),i}function rh(i){for(const e of i)if("object"==typeof e&&!du(e))return e;return{}}function ih(i,e){var r,o;let l;return l=du(i[0])?i[0]:du(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{l.next&&l.next(e(f))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Xu{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Xd(this._delegate,e._delegate)}}class ec extends Xu{data(e){const r=this._delegate.data(e);return function H(i,e){i||g()}(void 0!==r),r}}class vs{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Gc(e)}where(e,r,o){try{return new vs(this.firestore,Ko(this._delegate,function Qy(i,e,r){const o=e,l=Xf("where",i);return new og(l,o,r)}(e,r,o)))}catch(l){throw ds(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new vs(this.firestore,Ko(this._delegate,function lg(i,e="asc"){const r=e,o=Xf("orderBy",i);return new ag(o,r)}(e,r)))}catch(o){throw ds(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vs(this.firestore,Ko(this._delegate,function ug(i){return tu("limit",i),new eh("limit",i,"F")}(e)))}catch(r){throw ds(r,"limit()","Query.limit()")}}limitToLast(e){try{return new vs(this.firestore,Ko(this._delegate,function Jy(i){return tu("limitToLast",i),new eh("limitToLast",i,"L")}(e)))}catch(r){throw ds(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vs(this.firestore,Ko(this._delegate,function cg(...i){return new tp("startAt",i,!0)}(...e)))}catch(r){throw ds(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vs(this.firestore,Ko(this._delegate,function np(...i){return new tp("startAfter",i,!1)}(...e)))}catch(r){throw ds(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vs(this.firestore,Ko(this._delegate,function dg(...i){return new th("endBefore",i,!0)}(...e)))}catch(r){throw ds(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vs(this.firestore,Ko(this._delegate,function hg(...i){return new th("endAt",i,!1)}(...e)))}catch(r){throw ds(r,"endAt()","Query.endAt()")}}isEqual(e){return qm(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function e_(i){i=ar(i,cs);const e=ar(i.firestore,oi),r=ki(e),o=new lu(e);return function $f(i,e){const r=new yt;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(l,f,v){try{const U=yield Wl(l,f,!0),J=new Fd(f,U.zn),fe=J.Po(U.documents),Pe=J.applyChanges(fe,!1);v.resolve(Pe.snapshot)}catch(U){const J=Ss(U,`Failed to execute query '${f} against cache`);v.reject(J)}}),function(l,f,v){return o.apply(this,arguments)})(yield jf(i),e,r);var o})),r.promise}(r,i._query).then(l=>new dl(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function gg(i){i=ar(i,cs);const e=ar(i.firestore,oi),r=ki(e),o=new lu(e);return Mo(r,i._query,{source:"server"}).then(l=>new dl(e,o,i,l))}(this._delegate):function Xy(i){i=ar(i,cs);const e=ar(i.firestore,oi),r=ki(e),o=new lu(e);return ep(i._query),Mo(r,i._query).then(l=>new dl(e,o,i,l))}(this._delegate),r.then(o=>new sh(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=rh(e),o=ih(e,l=>new sh(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return vg(this._delegate,r,o)}withConverter(e){return new vs(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}class Mg{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new ec(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sh{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ec(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new Mg(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new ec(this._firestore,o))})}isEqual(e){return Xd(this._delegate,e._delegate)}}class hu extends vs{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gs(this.firestore,e):null}doc(e){try{return new Gs(this.firestore,void 0===e?Vc(this._delegate):Vc(this._delegate,e))}catch(r){throw ds(r,"doc()","CollectionReference.doc()")}}add(e){return function Ju(i,e){const r=ar(i.firestore,oi),o=Vc(i),l=$c(i.converter,e);return uu(r,[Kd(ru(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,si.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Gs(this.firestore,r))}isEqual(e){return zf(this._delegate,e._delegate)}withConverter(e){return new hu(this.firestore,this._delegate.withConverter(e?fl.getInstance(this.firestore,e):null))}}function pl(i){return ar(i,Kr)}class fp{constructor(...e){this._delegate=new Wo(...e)}static documentId(){return new fp(Qi.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof Wo&&this._delegate._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function cp(){return new Qf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fu(e)}static delete(){const e=function up(){return new jc("deleteField")}();return e._methodName="FieldValue.delete",new fu(e)}static arrayUnion(...e){const r=function Zo(...i){return new tg("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new fu(r)}static arrayRemove(...e){const r=function n_(...i){return new Ky("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new fu(r)}static increment(e){const r=function r_(i){return new ng("increment",i)}(e);return r._methodName="FieldValue.increment",new fu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const o_={Firestore:Ig,GeoPoint:Wd,Timestamp:Hr,Blob:cu,Transaction:zc,WriteBatch:Ag,DocumentReference:Gs,DocumentSnapshot:Xu,Query:vs,QueryDocumentSnapshot:ec,QuerySnapshot:sh,CollectionReference:hu,FieldPath:fp,FieldValue:fu,setLogLevel:function Tg(i){!function Il(i){Bs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function l_(i){(function a_(i,e){i.INTERNAL.registerComponent(new ke.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},o_)))})(i,(e,r)=>new Ig(e,r,new Dg)),i.registerVersion("@firebase/firestore-compat","0.1.13")}(ut.Z);var ml=A(1205),u_=A(127);function Sg(i,e){return function c_(i,e=D.z){return new W.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function pp(i,e){return Sg(i,e).pipe((0,ie.U)(r=>({payload:r,type:"query"})))}function oh(i,e){return pp(i,e).pipe((0,de.O)(void 0),Ae(),(0,ie.U)(([r,o])=>{const l=o.payload.docChanges(),f=l.map(v=>({type:v.type,payload:v}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,U)=>{const J=l.find(Pe=>Pe.doc.ref.isEqual(v.ref)),fe=null==r?void 0:r.payload.docs.find(Pe=>Pe.ref.isEqual(v.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(v.metadata)||!J&&fe&&JSON.stringify(fe.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:v}})}),f}))}function xg(i,e,r){return oh(i,r).pipe((0,be.R)((o,l)=>function h_(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function f_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return mp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return mp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(f=>f.payload),e),[]),(0,ot.x)(),(0,ie.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function mp(i,e,r,...o){const l=i.slice();return l.splice(e,r,...o),l}function Rg(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Og{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=oh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,ie.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,de.O)(void 0),Ae(),(0,Ne.h)(([o,l])=>l.length>0||!o),(0,ie.U)(([o,l])=>l),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Rg(e);return xg(this.query,r,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Te.iC)}get(e){return(0,j.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new gp(this.ref.doc(e),this.afs)}}class gp{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:l,query:f}=vp(o,r);return new Og(l,f,this.afs)}snapshotChanges(){return function d_(i,e){return Sg(i,e).pipe((0,de.O)(void 0),Ae(),(0,ie.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ie.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,j.D)(this.ref.get(e)).pipe(Te.iC)}}class Pg{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?oh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,Ne.h)(r=>r.length>0),Te.iC):oh(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Rg(e);return xg(this.query,r,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return pp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Te.iC)}get(e){return(0,j.D)(this.query.get(e)).pipe(Te.iC)}}const yp=new c.OlP("angularfire2.enableFirestorePersistence"),_p=new c.OlP("angularfire2.firestore.persistenceSettings"),Ng=new c.OlP("angularfire2.firestore.settings"),kg=new c.OlP("angularfire2.firestore.use-emulator");function vp(i,e=(r=>r)){return{query:e(i),ref:i}}let bp=(()=>{class i{constructor(r,o,l,f,v,U,J,fe,Pe,et,nt,kt,zt,Sn,tr,qi){this.schedulers=J;const hi=(0,Ge.on)(r,U,o),Ro=Pe;et&&(0,ml.nw)(hi,U,nt,zt,Sn,tr,kt,qi),[this.firestore,this.persistenceEnabled$]=(0,Te.cc)(`${hi.name}.firestore`,"AngularFirestore",hi.name,()=>{const Er=U.runOutsideAngular(()=>hi.firestore());if(f&&Er.settings(f),Ro&&Er.useEmulator(...Ro),l&&!(0,Ze.PM)(v)){const Wc=()=>{try{return(0,j.D)(Er.enablePersistence(fe||void 0).then(()=>!0,()=>!1))}catch(ah){return"undefined"!=typeof console&&console.warn(ah),(0,Re.of)(!1)}};return[Er,U.runOutsideAngular(Wc)]}return[Er,(0,Re.of)(!1)]},[f,Ro,l])}collection(r,o){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:v}=vp(l,o),U=this.schedulers.ngZone.run(()=>f);return new Og(U,v,this)}collectionGroup(r,o){const l=o||(v=>v),f=this.firestore.collectionGroup(r);return new Pg(l(f),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>o);return new gp(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(Ge.Dh),c.LFG(Ge.xv,8),c.LFG(yp,8),c.LFG(Ng,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Te.HU),c.LFG(_p,8),c.LFG(kg,8),c.LFG(ml.zQ,8),c.LFG(ml.Qv,8),c.LFG(ml.L6,8),c.LFG(ml._Q,8),c.LFG(ml.rT,8),c.LFG(ml.lh,8),c.LFG(ml.f7,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Fg=(()=>{class i{constructor(){u_.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:yp,useValue:!0},{provide:_p,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[bp]}),i})()},4585:(xt,Ye,A)=>{A.d(Ye,{Q1:()=>Qe,TE:()=>dr});var c=A(8306),D=A(9646),W=A(8996),j=A(8372),Re=A(4004),Te=A(3900),Ve=A(400),me=A(5e3),Ae=A(2011),de=A(3942),ie=A(5861),be=A(9681),ot=A(2090),Ne=A(4859);const Ge="firebasestorage.googleapis.com",Ze="storageBucket";class De extends ot.ZR{constructor(B,ue){super(tt(B),`Firebase Storage: ${ue} (${tt(B)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}_codeEquals(B){return tt(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function tt(G){return"storage/"+G}function ke(){return new De("unknown","An unknown error occurred, please check the error payload for server response.")}function He(){return new De("canceled","User canceled the upload/download.")}function $e(){return new De("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Zt(G){return new De("invalid-argument",G)}function dt(){return new De("app-deleted","The Firebase app was deleted.")}function rt(G){return new De("invalid-root-operation","The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ct(G,B){return new De("invalid-format","String does not match format '"+G+"': "+B)}function _t(G){throw new De("internal-error","Internal error: "+G)}class Ft{constructor(B,ue){this.bucket=B,this.path_=ue}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,ue){let Oe;try{Oe=Ft.makeFromUrl(B,ue)}catch(ge){return new Ft(B,"")}if(""===Oe.path)return Oe;throw function at(G){return new De("invalid-default-bucket","Invalid default bucket '"+G+"'.")}(B)}static makeFromUrl(B,ue){let Oe=null;const ge="([A-Za-z0-9.\\-_]+)",bt=new RegExp("^gs://"+ge+"(/(.*))?$","i");function gn(cr){cr.path_=decodeURIComponent(cr.path)}const Gn=ue.replace(/[.]/g,"\\."),mr=[{regex:bt,indices:{bucket:1,path:3},postModify:function Ue(cr){"/"===cr.path.charAt(cr.path.length-1)&&(cr.path_=cr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gn}/v[A-Za-z0-9_]+/b/${ge}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:gn},{regex:new RegExp(`^https?://${ue===Ge?"(?:storage.googleapis.com|storage.cloud.google.com)":ue}/${ge}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:gn}];for(let cr=0;cr<mr.length;cr++){const Wr=mr[cr],Ws=Wr.regex.exec(B);if(Ws){let qs=Ws[Wr.indices.path];qs||(qs=""),Oe=new Ft(Ws[Wr.indices.bucket],qs),Wr.postModify(Oe);break}}if(null==Oe)throw function We(G){return new De("invalid-url","Invalid URL '"+G+"'.")}(B);return Oe}}class Wt{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function Pn(G){return"string"==typeof G||G instanceof String}function On(G){return Tn()&&G instanceof Blob}function Tn(){return"undefined"!=typeof Blob}function An(G,B,ue,Oe){if(Oe<B)throw Zt(`Invalid value for '${G}'. Expected ${B} or greater.`);if(Oe>ue)throw Zt(`Invalid value for '${G}'. Expected ${ue} or less.`)}function _n(G,B,ue){let Oe=B;return null==ue&&(Oe=`https://${B}`),`${ue}://${Oe}/v0${G}`}function wn(G){const B=encodeURIComponent;let ue="?";for(const Oe in G)G.hasOwnProperty(Oe)&&(ue=ue+(B(Oe)+"=")+B(G[Oe])+"&");return ue=ue.slice(0,-1),ue}var Ht=(()=>{return(G=Ht||(Ht={}))[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",Ht;var G})();class zn{constructor(B,ue,Oe,ge,Ue,gt,bt,Mt,gn,bn,Gn){this.url_=B,this.method_=ue,this.headers_=Oe,this.body_=ge,this.successCodes_=Ue,this.additionalRetryCodes_=gt,this.callback_=bt,this.errorCallback_=Mt,this.timeout_=gn,this.progressCallback_=bn,this.connectionFactory_=Gn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((er,qn)=>{this.resolve_=er,this.reject_=qn,this.start_()})}start_(){const ue=(Oe,ge)=>{const Ue=this.resolve_,gt=this.reject_,bt=ge.connection;if(ge.wasSuccessCode)try{const Mt=this.callback_(bt,bt.getResponse());!function an(G){return void 0!==G}(Mt)?Ue():Ue(Mt)}catch(Mt){gt(Mt)}else if(null!==bt){const Mt=ke();Mt.serverResponse=bt.getErrorText(),gt(this.errorCallback_?this.errorCallback_(bt,Mt):Mt)}else gt(ge.canceled?this.appDelete_?dt():He():function Me(){return new De("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?ue(0,new kn(!1,null,!0)):this.backoffId_=function tn(G,B,ue){let Oe=1,ge=null,Ue=null,gt=!1,bt=0;function Mt(){return 2===bt}let gn=!1;function bn(...jn){gn||(gn=!0,B.apply(null,jn))}function Gn(jn){ge=setTimeout(()=>{ge=null,G(qn,Mt())},jn)}function er(){Ue&&clearTimeout(Ue)}function qn(jn,...sr){if(gn)return void er();if(jn)return er(),void bn.call(null,jn,...sr);if(Mt()||gt)return er(),void bn.call(null,jn,...sr);let mr;Oe<64&&(Oe*=2),1===bt?(bt=2,mr=0):mr=1e3*(Oe+Math.random()),Gn(mr)}let Qr=!1;function kr(jn){Qr||(Qr=!0,er(),!gn&&(null!==ge?(jn||(bt=2),clearTimeout(ge),Gn(0)):jn||(bt=1)))}return Gn(0),Ue=setTimeout(()=>{gt=!0,kr(!0)},ue),kr}((Oe,ge)=>{if(ge)return void Oe(!1,new kn(!1,null,!0));const Ue=this.connectionFactory_();this.pendingConnection_=Ue;const gt=bt=>{null!==this.progressCallback_&&this.progressCallback_(bt.loaded,bt.lengthComputable?bt.total:-1)};null!==this.progressCallback_&&Ue.addUploadProgressListener(gt),Ue.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ue.removeUploadProgressListener(gt),this.pendingConnection_=null;const bt=Ue.getErrorCode()===Ht.NO_ERROR,Mt=Ue.getStatus();if(!bt||this.isRetryStatusCode_(Mt)){const bn=Ue.getErrorCode()===Ht.ABORT;return void Oe(!1,new kn(!1,null,bn))}const gn=-1!==this.successCodes_.indexOf(Mt);Oe(!0,new kn(gn,Ue))})},ue,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function on(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(B){const ue=B>=500&&B<600,ge=-1!==[408,429].indexOf(B),Ue=-1!==this.additionalRetryCodes_.indexOf(B);return ue||ge||Ue}}class kn{constructor(B,ue,Oe){this.wasSuccessCode=B,this.connection=ue,this.canceled=!!Oe}}function vt(...G){const B=function qt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==B){const ue=new B;for(let Oe=0;Oe<G.length;Oe++)ue.append(G[Oe]);return ue.getBlob()}if(Tn())return new Blob(G);throw new De("unsupported-environment","This browser doesn't seem to support creating Blobs")}const it={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ln{constructor(B,ue){this.data=B,this.contentType=ue||null}}function fn(G,B){switch(G){case it.RAW:return new ln(vn(B));case it.BASE64:case it.BASE64URL:return new ln(Un(G,B));case it.DATA_URL:return new ln(function Ce(G){const B=new In(G);return B.base64?Un(it.BASE64,B.rest):function Hn(G){let B;try{B=decodeURIComponent(G)}catch(ue){throw Ct(it.DATA_URL,"Malformed data URL.")}return vn(B)}(B.rest)}(B),function le(G){return new In(G).contentType}(B))}throw ke()}function vn(G){const B=[];for(let ue=0;ue<G.length;ue++){let Oe=G.charCodeAt(ue);Oe<=127?B.push(Oe):Oe<=2047?B.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?ue<G.length-1&&56320==(64512&G.charCodeAt(ue+1))?(Oe=65536|(1023&Oe)<<10|1023&G.charCodeAt(++ue),B.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):B.push(239,191,189):56320==(64512&Oe)?B.push(239,191,189):B.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(B)}function Un(G,B){switch(G){case it.BASE64:{const ge=-1!==B.indexOf("-"),Ue=-1!==B.indexOf("_");if(ge||Ue)throw Ct(G,"Invalid character '"+(ge?"-":"_")+"' found: is it base64url encoded?");break}case it.BASE64URL:{const ge=-1!==B.indexOf("+"),Ue=-1!==B.indexOf("/");if(ge||Ue)throw Ct(G,"Invalid character '"+(ge?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let ue;try{ue=function je(G){return atob(G)}(B)}catch(ge){throw Ct(G,"Invalid character found")}const Oe=new Uint8Array(ue.length);for(let ge=0;ge<ue.length;ge++)Oe[ge]=ue.charCodeAt(ge);return Oe}class In{constructor(B){this.base64=!1,this.contentType=null;const ue=B.match(/^data:([^,]+)?,/);if(null===ue)throw Ct(it.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=ue[1]||null;null!=Oe&&(this.base64=function O(G,B){return G.length>=B.length&&G.substring(G.length-B.length)===B}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-";base64".length):Oe),this.rest=B.substring(B.indexOf(",")+1)}}class x{constructor(B,ue){let Oe=0,ge="";On(B)?(this.data_=B,Oe=B.size,ge=B.type):B instanceof ArrayBuffer?(ue?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),Oe=this.data_.length):B instanceof Uint8Array&&(ue?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),Oe=B.length),this.size_=Oe,this.type_=ge}size(){return this.size_}type(){return this.type_}slice(B,ue){if(On(this.data_)){const ge=function At(G,B,ue){return G.webkitSlice?G.webkitSlice(B,ue):G.mozSlice?G.mozSlice(B,ue):G.slice?G.slice(B,ue):null}(this.data_,B,ue);return null===ge?null:new x(ge)}{const Oe=new Uint8Array(this.data_.buffer,B,ue-B);return new x(Oe,!0)}}static getBlob(...B){if(Tn()){const ue=B.map(Oe=>Oe instanceof x?Oe.data_:Oe);return new x(vt.apply(null,ue))}{const ue=B.map(gt=>Pn(gt)?fn(it.RAW,gt).data:gt.data_);let Oe=0;ue.forEach(gt=>{Oe+=gt.byteLength});const ge=new Uint8Array(Oe);let Ue=0;return ue.forEach(gt=>{for(let bt=0;bt<gt.length;bt++)ge[Ue++]=gt[bt]}),new x(ge,!0)}}uploadData(){return this.data_}}function M(G){let B;try{B=JSON.parse(G)}catch(ue){return null}return function Bn(G){return"object"==typeof G&&!Array.isArray(G)}(B)?B:null}function pt(G){const B=G.lastIndexOf("/",G.length-2);return-1===B?G:G.slice(B+1)}function Tt(G,B){return B}class Gt{constructor(B,ue,Oe,ge){this.server=B,this.local=ue||B,this.writable=!!Oe,this.xform=ge||Tt}}let dn=null;function rn(){if(dn)return dn;const G=[];G.push(new Gt("bucket")),G.push(new Gt("generation")),G.push(new Gt("metageneration")),G.push(new Gt("name","fullPath",!0));const ue=new Gt("name");ue.xform=function B(Ue,gt){return function jt(G){return!Pn(G)||G.length<2?G:pt(G)}(gt)},G.push(ue);const ge=new Gt("size");return ge.xform=function Oe(Ue,gt){return void 0!==gt?Number(gt):gt},G.push(ge),G.push(new Gt("timeCreated")),G.push(new Gt("updated")),G.push(new Gt("md5Hash",null,!0)),G.push(new Gt("cacheControl",null,!0)),G.push(new Gt("contentDisposition",null,!0)),G.push(new Gt("contentEncoding",null,!0)),G.push(new Gt("contentLanguage",null,!0)),G.push(new Gt("contentType",null,!0)),G.push(new Gt("metadata","customMetadata",!0)),dn=G,dn}function K(G,B,ue){const Oe=M(B);return null===Oe?null:function qe(G,B,ue){const Oe={type:"file"},ge=ue.length;for(let Ue=0;Ue<ge;Ue++){const gt=ue[Ue];Oe[gt.local]=gt.xform(Oe,B[gt.server])}return function lt(G,B){Object.defineProperty(G,"ref",{get:function ue(){const Ue=new Ft(G.bucket,G.fullPath);return B._makeStorageReference(Ue)}})}(Oe,G),Oe}(G,Oe,ue)}function oe(G,B){const ue={},Oe=B.length;for(let ge=0;ge<Oe;ge++){const Ue=B[ge];Ue.writable&&(ue[Ue.server]=G[Ue.local])}return JSON.stringify(ue)}const Le="prefixes";class Ee{constructor(B,ue,Oe,ge){this.url=B,this.method=ue,this.handler=Oe,this.timeout=ge,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function se(G){if(!G)throw ke()}function Se(G,B){return function ue(Oe,ge){const Ue=K(G,ge,B);return se(null!==Ue),Ue}}function Bt(G){return function B(ue,Oe){let ge;return ge=401===ue.getStatus()?ue.getErrorText().includes("Firebase App Check token is invalid")?function we(){return new De("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ze(){return new De("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ue.getStatus()?function he(G){return new De("quota-exceeded","Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===ue.getStatus()?function Fe(G){return new De("unauthorized","User does not have permission to access '"+G+"'.")}(G.path):Oe,ge.serverResponse=Oe.serverResponse,ge}}function yn(G){const B=Bt(G);return function ue(Oe,ge){let Ue=B(Oe,ge);return 404===Oe.getStatus()&&(Ue=function ye(G){return new De("object-not-found","Object '"+G+"' does not exist.")}(G.path)),Ue.serverResponse=ge.serverResponse,Ue}}function Lt(G,B,ue){const ge=_n(B.fullServerUrl(),G.host,G._protocol),gt=G.maxOperationRetryTime,bt=new Ee(ge,"GET",Se(G,ue),gt);return bt.errorHandler=yn(B),bt}function Dt(G,B,ue,Oe,ge){const Ue={};Ue.prefix=B.isRoot?"":B.path+"/",ue&&ue.length>0&&(Ue.delimiter=ue),Oe&&(Ue.pageToken=Oe),ge&&(Ue.maxResults=ge);const bt=_n(B.bucketOnlyServerUrl(),G.host,G._protocol),gn=G.maxOperationRetryTime,bn=new Ee(bt,"GET",function ft(G,B){return function ue(Oe,ge){const Ue=function Xe(G,B,ue){const Oe=M(ue);return null===Oe?null:function Ut(G,B,ue){const Oe={prefixes:[],items:[],nextPageToken:ue.nextPageToken};if(ue[Le])for(const ge of ue[Le]){const Ue=ge.replace(/\/$/,""),gt=G._makeStorageReference(new Ft(B,Ue));Oe.prefixes.push(gt)}if(ue.items)for(const ge of ue.items){const Ue=G._makeStorageReference(new Ft(B,ge.name));Oe.items.push(Ue)}return Oe}(G,B,Oe)}(G,B,ge);return se(null!==Ue),Ue}}(G,B.bucket),gn);return bn.urlParams=Ue,bn.errorHandler=Bt(B),bn}function gr(G,B,ue){const Oe=Object.assign({},ue);return Oe.fullPath=G.path,Oe.size=B.size(),Oe.contentType||(Oe.contentType=function nr(G,B){return G&&G.contentType||B&&B.type()||"application/octet-stream"}(null,B)),Oe}class Or{constructor(B,ue,Oe,ge){this.current=B,this.total=ue,this.finalized=!!Oe,this.metadata=ge||null}}function Pr(G,B){let ue=null;try{ue=G.getResponseHeader("X-Goog-Upload-Status")}catch(ge){se(!1)}return se(!!ue&&-1!==(B||["active"]).indexOf(ue)),ue}const yr={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gr(G){switch(G){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;default:return Ln.ERROR}}class Di{constructor(B,ue,Oe){if(function Zn(G){return"function"==typeof G}(B)||null!=ue||null!=Oe)this.next=B,this.error=null!=ue?ue:void 0,this.complete=null!=Oe?Oe:void 0;else{const Ue=B;this.next=Ue.next,this.error=Ue.error,this.complete=Ue.complete}}}function Xn(G){return(...B)=>{Promise.resolve().then(()=>G(...B))}}class Ii extends class zr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ht.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ht.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ht.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,ue,Oe,ge){if(this.sent_)throw _t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ue,B,!0),void 0!==ge)for(const Ue in ge)ge.hasOwnProperty(Ue)&&this.xhr_.setRequestHeader(Ue,ge[Ue].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _t("cannot .getStatus() before sending");try{return this.xhr_.status}catch(B){return-1}}getResponse(){if(!this.sent_)throw _t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}{initXhr(){this.xhr_.responseType="text"}}function ir(){return new Ii}class xr{constructor(B,ue,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=ue,this._metadata=Oe,this._mappings=rn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ge=>{this._request=void 0,this._chunkMultiplier=1,ge._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ge,this._transition("error"))},this._metadataErrorHandler=ge=>{this._request=void 0,ge._codeEquals("canceled")?this.completeTransitions_():(this._error=ge,this._transition("error"))},this._promise=new Promise((ge,Ue)=>{this._resolve=ge,this._reject=Ue,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const B=this._transferred;return ue=>this._updateProgress(B+ue)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ue,Oe])=>{switch(this._state){case"running":B(ue,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,ue)=>{const Oe=function Rn(G,B,ue,Oe,ge){const Ue=B.bucketOnlyServerUrl(),gt=gr(B,Oe,ge),bt={name:gt.fullPath},Mt=_n(Ue,G.host,G._protocol),bn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":gt.contentType,"Content-Type":"application/json; charset=utf-8"},Gn=oe(gt,ue),Qr=new Ee(Mt,"POST",function qn(kr){let jn;Pr(kr);try{jn=kr.getResponseHeader("X-Goog-Upload-URL")}catch(sr){se(!1)}return se(Pn(jn)),jn},G.maxUploadRetryTime);return Qr.urlParams=bt,Qr.headers=bn,Qr.body=Gn,Qr.errorHandler=Bt(B),Qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ge=this._ref.storage._makeRequest(Oe,ir,B,ue);this._request=ge,ge.getPromise().then(Ue=>{this._request=void 0,this._uploadUrl=Ue,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((ue,Oe)=>{const ge=function ai(G,B,ue,Oe){const Mt=new Ee(ue,"POST",function Ue(gn){const bn=Pr(gn,["active","final"]);let Gn=null;try{Gn=gn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(qn){se(!1)}Gn||se(!1);const er=Number(Gn);return se(!isNaN(er)),new Or(er,Oe.size(),"final"===bn)},G.maxUploadRetryTime);return Mt.headers={"X-Goog-Upload-Command":"query"},Mt.errorHandler=Bt(B),Mt}(this._ref.storage,this._ref._location,B,this._blob),Ue=this._ref.storage._makeRequest(ge,ir,ue,Oe);this._request=Ue,Ue.getPromise().then(gt=>{gt=gt,this._request=void 0,this._updateProgress(gt.current),this._needToFetchStatus=!1,gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,ue=new Or(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((ge,Ue)=>{let gt;try{gt=function vi(G,B,ue,Oe,ge,Ue,gt,bt){const Mt=new Or(0,0);if(gt?(Mt.current=gt.current,Mt.total=gt.total):(Mt.current=0,Mt.total=Oe.size()),Oe.size()!==Mt.total)throw function Et(){return new De("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const gn=Mt.total-Mt.current;let bn=gn;ge>0&&(bn=Math.min(bn,ge));const Gn=Mt.current,Qr={"X-Goog-Upload-Command":bn===gn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Mt.current}`},kr=Oe.slice(Gn,Gn+bn);if(null===kr)throw $e();const mr=new Ee(ue,"POST",function jn(cr,Wr){const Ws=Pr(cr,["active","final"]),Ir=Mt.current+bn,qs=Oe.size();let co;return co="final"===Ws?Se(B,Ue)(cr,Wr):null,new Or(Ir,qs,"final"===Ws,co)},B.maxUploadRetryTime);return mr.headers=Qr,mr.body=kr.uploadData(),mr.progressCallback=bt||null,mr.errorHandler=Bt(G),mr}(this._ref._location,this._ref.storage,Oe,this._blob,B,this._mappings,ue,this._makeProgressCallback())}catch(Mt){return this._error=Mt,void this._transition("error")}const bt=this._ref.storage._makeRequest(gt,ir,ge,Ue);this._request=bt,bt.getPromise().then(Mt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Mt.current),Mt.finalized?(this._metadata=Mt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,ue)=>{const Oe=Lt(this._ref.storage,this._ref._location,this._mappings),ge=this._ref.storage._makeRequest(Oe,ir,B,ue);this._request=ge,ge.getPromise().then(Ue=>{this._request=void 0,this._metadata=Ue,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,ue)=>{const Oe=function rr(G,B,ue,Oe,ge){const Ue=B.bucketOnlyServerUrl(),gt={"X-Goog-Upload-Protocol":"multipart"},Mt=function bt(){let mr="";for(let cr=0;cr<2;cr++)mr+=Math.random().toString().slice(2);return mr}();gt["Content-Type"]="multipart/related; boundary="+Mt;const gn=gr(B,Oe,ge),bn=oe(gn,ue),qn=x.getBlob("--"+Mt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bn+"\r\n--"+Mt+"\r\nContent-Type: "+gn.contentType+"\r\n\r\n",Oe,"\r\n--"+Mt+"--");if(null===qn)throw $e();const Qr={name:gn.fullPath},kr=_n(Ue,G.host,G._protocol),sr=G.maxUploadRetryTime,pr=new Ee(kr,"POST",Se(G,ue),sr);return pr.urlParams=Qr,pr.headers=gt,pr.body=qn.uploadData(),pr.errorHandler=Bt(B),pr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ge=this._ref.storage._makeRequest(Oe,ir,B,ue);this._request=ge,ge.getPromise().then(Ue=>{this._request=void 0,this._metadata=Ue,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const ue=this._transferred;this._transferred=B,this._transferred!==ue&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request&&this._request.cancel();break;case"running":const ue="paused"===this._state;this._state=B,ue&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=B,this._notifyObservers();break;case"canceled":this._error=He(),this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=Gr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,ue,Oe,ge){const Ue=new Di(ue||void 0,Oe||void 0,ge||void 0);return this._addObserver(Ue),()=>{this._removeObserver(Ue)}}then(B,ue){return this._promise.then(B,ue)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const ue=this._observers.indexOf(B);-1!==ue&&this._observers.splice(ue,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ue=>{this._notifyObserver(ue)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(Gr(this._state)){case Ln.SUCCESS:Xn(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:Xn(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(Gr(this._state)){case Ln.RUNNING:case Ln.PAUSED:B.next&&Xn(B.next.bind(B,this.snapshot))();break;case Ln.SUCCESS:B.complete&&Xn(B.complete.bind(B))();break;default:B.error&&Xn(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class Ei{constructor(B,ue){this._service=B,this._location=ue instanceof Ft?ue:Ft.makeFromUrl(ue,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,ue){return new Ei(B,ue)}get root(){const B=new Ft(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pt(this._location.path)}get storage(){return this._service}get parent(){const B=function ee(G){if(0===G.length)return null;const B=G.lastIndexOf("/");return-1===B?"":G.slice(0,B)}(this._location.path);if(null===B)return null;const ue=new Ft(this._location.bucket,B);return new Ei(this._service,ue)}_throwIfRoot(B){if(""===this._location.path)throw rt(B)}}function Dr(G,B,ue){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,ie.Z)(function*(G,B,ue){const ge=yield Ti(G,{pageToken:ue});B.prefixes.push(...ge.prefixes),B.items.push(...ge.items),null!=ge.nextPageToken&&(yield Dr(G,B,ge.nextPageToken))})).apply(this,arguments)}function Ti(G,B){null!=B&&"number"==typeof B.maxResults&&An("options.maxResults",1,1e3,B.maxResults);const ue=B||{},Oe=Dt(G.storage,G._location,"/",ue.pageToken,ue.maxResults);return G.storage.makeRequestWithTokens(Oe,ir)}function fs(G){G._throwIfRoot("getDownloadURL");const B=function $n(G,B,ue){const ge=_n(B.fullServerUrl(),G.host,G._protocol),gt=G.maxOperationRetryTime,bt=new Ee(ge,"GET",function wt(G,B){return function ue(Oe,ge){const Ue=K(G,ge,B);return se(null!==Ue),function ae(G,B,ue,Oe){const ge=M(B);if(null===ge||!Pn(ge.downloadTokens))return null;const Ue=ge.downloadTokens;if(0===Ue.length)return null;const gt=encodeURIComponent;return Ue.split(",").map(gn=>{const Gn=G.fullPath;return _n("/b/"+gt(G.bucket)+"/o/"+gt(Gn),ue,Oe)+wn({alt:"media",token:gn})})[0]}(Ue,ge,G.host,G._protocol)}}(G,ue),gt);return bt.errorHandler=yn(B),bt}(G.storage,G._location,rn());return G.storage.makeRequestWithTokens(B,ir).then(ue=>{if(null===ue)throw function Nt(){return new De("no-download-url","The given file does not have any download URLs.")}();return ue})}function wi(G,B){const ue=function Ie(G,B){const ue=B.split("/").filter(Oe=>Oe.length>0).join("/");return 0===G.length?ue:G+"/"+ue}(G._location.path,B),Oe=new Ft(G._location.bucket,ue);return new Ei(G.storage,Oe)}function ps(G,B){if(G instanceof jr){const ue=G;if(null==ue._bucket)throw function Be(){return new De("no-default-bucket","No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const Oe=new Ei(ue,ue._bucket);return null!=B?ps(Oe,B):Oe}return void 0!==B?wi(G,B):G}function li(G,B){if(B&&function ni(G){return/^[A-Za-z]+:\/\//.test(G)}(B)){if(G instanceof jr)return function Zi(G,B){return new Ei(G,B)}(G,B);throw Zt("To use ref(service, url), the first argument must be a Storage instance.")}return ps(G,B)}function Ui(G,B){const ue=null==B?void 0:B[Ze];return null==ue?null:Ft.makeFromBucketSpec(ue,G)}class jr{constructor(B,ue,Oe,ge,Ue){this.app=B,this._authProvider=ue,this._appCheckProvider=Oe,this._url=ge,this._firebaseVersion=Ue,this._bucket=null,this._host=Ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ge?Ft.makeFromBucketSpec(ge,this._host):Ui(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?Ft.makeFromBucketSpec(this._url,B):Ui(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){An("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){An("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,ie.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const ue=B._authProvider.getImmediate({optional:!0});if(ue){const Oe=yield ue.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,ie.Z)(function*(){const ue=B._appCheckProvider.getImmediate({optional:!0});return ue?(yield ue.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new Ei(this,B)}_makeRequest(B,ue,Oe,ge){if(this._deleted)return new Wt(dt());{const Ue=function Dn(G,B,ue,Oe,ge,Ue){const gt=wn(G.urlParams),bt=G.url+gt,Mt=Object.assign({},G.headers);return function Xt(G,B){B&&(G["X-Firebase-GMPID"]=B)}(Mt,B),function Mn(G,B){null!==B&&B.length>0&&(G.Authorization="Firebase "+B)}(Mt,ue),function Fn(G,B){G["X-Firebase-Storage-Version"]="webjs/"+(null!=B?B:"AppManager")}(Mt,Ue),function Qt(G,B){null!==B&&(G["X-Firebase-AppCheck"]=B)}(Mt,Oe),new zn(bt,G.method,Mt,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,ge)}(B,this._appId,Oe,ge,ue,this._firebaseVersion);return this._requests.add(Ue),Ue.getPromise().then(()=>this._requests.delete(Ue),()=>this._requests.delete(Ue)),Ue}}makeRequestWithTokens(B,ue){var Oe=this;return(0,ie.Z)(function*(){const[ge,Ue]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(B,ue,ge,Ue).getPromise()})()}}const Bi="@firebase/storage";function Si(G,B){return li(G=(0,ot.m9)(G),B)}function _(G,{instanceIdentifier:B}){const ue=G.getProvider("app").getImmediate(),Oe=G.getProvider("auth-internal"),ge=G.getProvider("app-check-internal");return new jr(ue,Oe,ge,B,be.SDK_VERSION)}!function L(){(0,be._registerComponent)(new Ne.wA("storage",_,"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Bi,"0.9.2",""),(0,be.registerVersion)(Bi,"0.9.2","esm2017")}();class Z{constructor(B,ue,Oe){this._delegate=B,this.task=ue,this.ref=Oe}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class re{constructor(B,ue){this._delegate=B,this._ref=ue,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Z(this._delegate.snapshot,this,this._ref)}then(B,ue){return this._delegate.then(Oe=>{if(B)return B(new Z(Oe,this,this._ref))},ue)}on(B,ue,Oe,ge){let Ue;return ue&&(Ue="function"==typeof ue?gt=>ue(new Z(gt,this,this._ref)):{next:ue.next?gt=>ue.next(new Z(gt,this,this._ref)):void 0,complete:ue.complete||void 0,error:ue.error||void 0}),this._delegate.on(B,Ue,Oe||void 0,ge||void 0)}}class E{constructor(B,ue){this._delegate=B,this._service=ue}get prefixes(){return this._delegate.prefixes.map(B=>new F(B,this._service))}get items(){return this._delegate.items.map(B=>new F(B,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class F{constructor(B,ue){this._delegate=B,this.storage=ue}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(B){const ue=function is(G,B){return wi(G,B)}(this._delegate,B);return new F(ue,this.storage)}get root(){return new F(this._delegate.root,this.storage)}get parent(){const B=this._delegate.parent;return null==B?null:new F(B,this.storage)}put(B,ue){return this._throwIfRoot("put"),new re(function ri(G,B,ue){return function ti(G,B,ue){return G._throwIfRoot("uploadBytesResumable"),new xr(G,new x(B),ue)}(G=(0,ot.m9)(G),B,ue)}(this._delegate,B,ue),this)}putString(B,ue=it.RAW,Oe){this._throwIfRoot("putString");const ge=fn(ue,B),Ue=Object.assign({},Oe);return null==Ue.contentType&&null!=ge.contentType&&(Ue.contentType=ge.contentType),new re(new xr(this._delegate,new x(ge.data,!0),Ue),this)}listAll(){return function Zr(G){return function Ki(G){const B={prefixes:[],items:[]};return Dr(G,B).then(()=>B)}(G=(0,ot.m9)(G))}(this._delegate).then(B=>new E(B,this.storage))}list(B){return function ws(G,B){return Ti(G=(0,ot.m9)(G),B)}(this._delegate,B||void 0).then(ue=>new E(ue,this.storage))}getMetadata(){return function Es(G){return function Li(G){G._throwIfRoot("getMetadata");const B=Lt(G.storage,G._location,rn());return G.storage.makeRequestWithTokens(B,ir)}(G=(0,ot.m9)(G))}(this._delegate)}updateMetadata(B){return function pi(G,B){return function Ai(G,B){G._throwIfRoot("updateMetadata");const ue=function wr(G,B,ue,Oe){const Ue=_n(B.fullServerUrl(),G.host,G._protocol),bt=oe(ue,Oe),gn=G.maxOperationRetryTime,bn=new Ee(Ue,"PATCH",Se(G,Oe),gn);return bn.headers={"Content-Type":"application/json; charset=utf-8"},bn.body=bt,bn.errorHandler=yn(B),bn}(G.storage,G._location,B,rn());return G.storage.makeRequestWithTokens(ue,ir)}(G=(0,ot.m9)(G),B)}(this._delegate,B)}getDownloadURL(){return function Yr(G){return fs(G=(0,ot.m9)(G))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Wn(G){return function Us(G){G._throwIfRoot("deleteObject");const B=function lr(G,B){const Oe=_n(B.fullServerUrl(),G.host,G._protocol),bt=new Ee(Oe,"DELETE",function gt(Mt,gn){},G.maxOperationRetryTime);return bt.successCodes=[200,204],bt.errorHandler=yn(B),bt}(G.storage,G._location);return G.storage.makeRequestWithTokens(B,ir)}(G=(0,ot.m9)(G))}(this._delegate)}_throwIfRoot(B){if(""===this._delegate._location.path)throw rt(B)}}class I{constructor(B,ue){this.app=B,this._delegate=ue}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(B){if($(B))throw Zt("ref() expected a child path but got a URL, use refFromURL instead.");return new F(Si(this._delegate,B),this)}refFromURL(B){if(!$(B))throw Zt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ft.makeFromUrl(B,this._delegate.host)}catch(ue){throw Zt("refFromUrl() expected a valid full URL but got an invalid one.")}return new F(Si(this._delegate,B),this)}setMaxUploadRetryTime(B){this._delegate.maxUploadRetryTime=B}setMaxOperationRetryTime(B){this._delegate.maxOperationRetryTime=B}useEmulator(B,ue,Oe={}){!function $i(G,B,ue,Oe={}){!function Vi(G,B,ue,Oe={}){G.host=`${B}:${ue}`,G._protocol="http";const{mockUserToken:ge}=Oe;ge&&(G._overrideAuthToken="string"==typeof ge?ge:(0,ot.Sg)(ge,G.app.options.projectId))}(G,B,ue,Oe)}(this._delegate,B,ue,Oe)}}function $(G){return/^[A-Za-z]+:\/\//.test(G)}function Ot(G,{instanceIdentifier:B}){const ue=G.getProvider("app-compat").getImmediate(),Oe=G.getProvider("storage").getImmediate({identifier:B});return new I(ue,Oe)}!function $t(G){const B={TaskState:Ln,TaskEvent:yr,StringFormat:it,Storage:I,Reference:F};G.INTERNAL.registerComponent(new Ne.wA("storage-compat",Ot,"PUBLIC").setServiceProps(B).setMultipleInstances(!0)),G.registerVersion("@firebase/storage-compat","0.1.10")}(de.Z);var Yt=A(127);function mn(G){const B=function sn(G){return new c.y(B=>{const ue=gt=>B.next(gt);ue(G.snapshot);const Ue=G.on("state_changed",ue);return G.then(gt=>{ue(gt),B.complete()},gt=>{ue(G.snapshot),(gt=>{B.error(gt)})(gt)}),function(){Ue()}}).pipe((0,j.b)(0))}(G);return{task:G,then:G.then.bind(G),catch:G.catch.bind(G),pause:G.pause.bind(G),cancel:G.cancel.bind(G),resume:G.resume.bind(G),snapshotChanges:()=>B,percentageChanges:()=>B.pipe((0,Re.U)(ue=>ue.bytesTransferred/ue.totalBytes*100))}}function Vn(G){return{getDownloadURL:()=>(0,D.of)(void 0).pipe(Ve.fc,(0,Te.w)(()=>G.getDownloadURL()),Ve.iC),getMetadata:()=>(0,D.of)(void 0).pipe(Ve.fc,(0,Te.w)(()=>G.getMetadata()),Ve.iC),delete:()=>(0,W.D)(G.delete()),child:B=>Vn(G.child(B)),updateMetadata:B=>(0,W.D)(G.updateMetadata(B)),put:(B,ue)=>mn(G.put(B,ue)),putString:(B,ue,Oe)=>mn(G.putString(B,ue,Oe)),listAll:()=>(0,W.D)(G.listAll())}}const V=new me.OlP("angularfire2.storageBucket"),k=new me.OlP("angularfire2.storage.maxUploadRetryTime"),N=new me.OlP("angularfire2.storage.maxOperationRetryTime"),te=new me.OlP("angularfire2.storage.use-emulator");let Qe=(()=>{class G{constructor(ue,Oe,ge,Ue,gt,bt,Mt,gn,bn){const Gn=(0,Ae.on)(ue,gt,Oe);this.storage=(0,Ve.cc)(`${Gn.name}.storage.${ge}`,"AngularFireStorage",Gn.name,()=>{const er=gt.runOutsideAngular(()=>Gn.storage(ge||void 0)),qn=bn;return qn&&er.useEmulator(...qn),Mt&&er.setMaxUploadRetryTime(Mt),gn&&er.setMaxOperationRetryTime(gn),er},[Mt,gn])}ref(ue){return Vn(this.storage.ref(ue))}refFromURL(ue){return Vn(this.storage.refFromURL(ue))}upload(ue,Oe,ge){return Vn(this.storage.ref(ue)).put(Oe,ge)}}return G.\u0275fac=function(ue){return new(ue||G)(me.LFG(Ae.Dh),me.LFG(Ae.xv,8),me.LFG(V,8),me.LFG(me.Lbi),me.LFG(me.R0b),me.LFG(Ve.HU),me.LFG(k,8),me.LFG(N,8),me.LFG(te,8))},G.\u0275prov=me.Yz7({token:G,factory:G.\u0275fac,providedIn:"any"}),G})(),ur=(()=>{class G{}return G.\u0275fac=function(ue){return new(ue||G)},G.\u0275mod=me.oAB({type:G}),G.\u0275inj=me.cJS({}),G})(),dr=(()=>{class G{constructor(){Yt.Z.registerVersion("angularfire",Ve.q4.full,"gcs-compat")}}return G.\u0275fac=function(ue){return new(ue||G)},G.\u0275mod=me.oAB({type:G}),G.\u0275inj=me.cJS({providers:[Qe],imports:[ur]}),G})()},2011:(xt,Ye,A)=>{A.d(Ye,{hO:()=>ot,xv:()=>Ae,Dh:()=>me,GT:()=>Te,on:()=>de,pX:()=>Re});var c=A(5e3),D=A(127),W=A(400);xt=A.hmd(xt);const j=["ngOnDestroy"],Re=(Ne,Ge,Ze,xe={})=>new Proxy(Ne,{get:(ut,De)=>Ze.runOutsideAngular(()=>{var tt;if(Ne[De])return(null===(tt=null==xe?void 0:xe.spy)||void 0===tt?void 0:tt.get)&&xe.spy.get(De,Ne[De]),Ne[De];if(j.indexOf(De)>-1)return()=>{};const ke=Ge.toPromise().then(ye=>{const he=ye&&ye[De];return"function"==typeof he?he.bind(ye):he&&he.then?he.then(ze=>Ze.run(()=>ze)):Ze.run(()=>he)});return new Proxy(()=>{},{get:(ye,he)=>ke[he],apply:(ye,he,ze)=>ke.then(we=>{var Fe;const Me=we&&we(...ze);return(null===(Fe=null==xe?void 0:xe.spy)||void 0===Fe?void 0:Fe.apply)&&xe.spy.apply(De,ze,Me),Me})})})}),Te=(Ne,Ge)=>{Ge.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(xe=>{Object.defineProperty(Ne.prototype,xe,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,xe))})})};class Ve{constructor(Ge){return Ge}}const me=new c.OlP("angularfire2.app.options"),Ae=new c.OlP("angularfire2.app.name");function de(Ne,Ge,Ze){const ut="object"==typeof Ze&&Ze||{};ut.name=ut.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const tt=D.Z.apps.filter(ke=>ke&&ke.name===ut.name)[0]||Ge.runOutsideAngular(()=>D.Z.initializeApp(Ne,ut));try{JSON.stringify(Ne)!==JSON.stringify(tt.options)&&ie("error",`${tt.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ke){}return new Ve(tt)}const ie=(Ne,...Ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ne](...Ge)},be={provide:Ve,useFactory:de,deps:[me,c.R0b,[new c.FiY,Ae]]};let ot=(()=>{class Ne{constructor(Ze){D.Z.registerVersion("angularfire",W.q4.full,"core"),D.Z.registerVersion("angularfire",W.q4.full,"app-compat"),D.Z.registerVersion("angular",c.q4F.full,Ze.toString())}static initializeApp(Ze,xe){return{ngModule:Ne,providers:[{provide:me,useValue:Ze},{provide:Ae,useValue:xe}]}}}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)(c.LFG(c.Lbi))},Ne.\u0275mod=c.oAB({type:Ne}),Ne.\u0275inj=c.cJS({providers:[be]}),Ne})()},400:(xt,Ye,A)=>{A.d(Ye,{q4:()=>Ge,iC:()=>$e,fc:()=>at,HU:()=>Fe,cc:()=>ut});var c=A(5e3);(0,A(9681).registerVersion)("firebase","9.6.6","app");var Re=A(4408),Ve=A(7565);const Ae=new class me extends Ve.v{}(class Te extends Re.o{constructor(rt,Ct){super(rt,Ct),this.scheduler=rt,this.work=Ct}schedule(rt,Ct=0){return Ct>0?super.schedule(rt,Ct):(this.delay=Ct,this.state=rt,this.scheduler.flush(this),this)}execute(rt,Ct){return Ct>0||this.closed?super.execute(rt,Ct):this._execute(rt,Ct)}requestAsyncId(rt,Ct,_t=0){return null!=_t&&_t>0||null==_t&&this.delay>0?super.requestAsyncId(rt,Ct,_t):rt.flush(this)}});var ie=A(4986),be=A(8505),ot=A(5363),Ne=A(9468);xt=A.hmd(xt);const Ge=new c.GfV("7.0.4"),Ze=!!xt.hot,xe=(dt,...rt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[dt](...rt)};function ut(dt,rt,Ct,_t,Ft){const[,Wt,tn]=globalThis.\u0275AngularfireInstanceCache.find(on=>on[0]===dt)||[];if(Wt)return function tt(dt,rt){try{return dt.toString()===rt.toString()}catch(Ct){return dt===rt}}(Ft,tn)||(xe("error",`${rt} was already initialized on the ${Ct} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Ft,was:tn})),Wt;{const on=_t();return globalThis.\u0275AngularfireInstanceCache.push([dt,on,Ft]),on}}function he(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ze{constructor(rt,Ct=Ae){this.zone=rt,this.delegate=Ct}now(){return this.delegate.now()}schedule(rt,Ct,_t){const Ft=this.zone;return this.delegate.schedule(function(tn){Ft.runGuarded(()=>{rt.apply(this,[tn])})},Ct,_t)}}class we{constructor(rt){this.zone=rt,this.task=null}call(rt,Ct){const _t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),Ct.pipe((0,be.b)({next:_t,complete:_t,error:_t})).subscribe(rt).add(_t)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fe=(()=>{class dt{constructor(Ct){this.ngZone=Ct,this.outsideAngular=Ct.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=Ct.run(()=>new ze(Zone.current,ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return dt.\u0275fac=function(Ct){return new(Ct||dt)(c.LFG(c.R0b))},dt.\u0275prov=c.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();function Me(){const dt=globalThis.\u0275AngularFireScheduler;if(!dt)throw new Error("AngularFireModule has not been provided");return dt}function at(dt){return dt.pipe((0,ot.Q)(Me().outsideAngular))}function $e(dt){return Me(),function Et(dt){return function(Ct){return(Ct=Ct.lift(new we(dt.ngZone))).pipe((0,Ne.R)(dt.outsideAngular),(0,ot.Q)(dt.insideAngular))}}(Me())(dt)}},3578:(xt,Ye,A)=>{A.d(Ye,{$:()=>ur,A:()=>ie,E:()=>pn,G:()=>gr,I:()=>fr,K:()=>dn,L:()=>Vi,M:()=>ji,N:()=>Mi,P:()=>Ml,Q:()=>ui,R:()=>Qi,T:()=>Rr,U:()=>pi,V:()=>ws,W:()=>is,X:()=>ht,Y:()=>$t,Z:()=>sn,_:()=>k,a:()=>Ci,a0:()=>G,a1:()=>ue,a2:()=>ge,a3:()=>gt,a4:()=>Mt,a5:()=>bn,a6:()=>Gn,a7:()=>qn,a8:()=>Qr,a9:()=>pr,aA:()=>ks,aB:()=>Va,aC:()=>Lt,aG:()=>Rs,aJ:()=>ri,aa:()=>cr,ab:()=>Ws,ae:()=>Sa,af:()=>yl,ag:()=>Qo,aj:()=>_,ak:()=>pu,am:()=>Fo,an:()=>Ri,ao:()=>Ee,ap:()=>Me,aq:()=>Xe,ar:()=>Le,as:()=>tt,at:()=>si,au:()=>kl,av:()=>ke,aw:()=>we,ax:()=>We,ay:()=>jt,az:()=>vo,b:()=>ka,c:()=>Fa,d:()=>ed,e:()=>Xc,f:()=>mh,g:()=>_h,h:()=>yh,i:()=>Yn,j:()=>Nl,k:()=>Eo,l:()=>Ur,m:()=>id,n:()=>Fl,o:()=>me,r:()=>Qs,s:()=>Jr,u:()=>Ji,x:()=>mu,z:()=>Ne});var c=A(5861),D=A(2090),W=A(9681),j=A(655),Re=A(1877),Te=A(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new D.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new Re.Yd("@firebase/auth");function De(b,...h){ut.logLevel<=Re.in.ERROR&&ut.error(`Auth (${W.SDK_VERSION}): ${b}`,...h)}function tt(b,...h){throw ze(b,...h)}function ke(b,...h){return ze(b,...h)}function ye(b,h,p){const T=Object.assign(Object.assign({},Ge()),{[h]:p});return new D.LL("auth","Firebase",T).create(h,{appName:b.name})}function he(b,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&tt(b,"argument-error"),ye(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(b,...h){if("string"!=typeof b){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(p,...T)}return Ze.create(b,...h)}function we(b,h,...p){if(!b)throw ze(h,...p)}function Fe(b){const h="INTERNAL ASSERTION FAILED: "+b;throw De(h),new Error(h)}function Me(b,h){b||Fe(h)}const He=new Map;function We(b){Me(b instanceof Function,"Expected a class definition");let h=He.get(b);return h?(Me(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,He.set(b,h),h)}function $e(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Et(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class rt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Me(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,D.uI)()||(0,D.b$)()}get(){return function Zt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,D.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ct(b,h){Me(b.emulator,"Emulator should always be set here");const{url:p}=b.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class _t{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wt=new rt(3e4,6e4);function tn(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function on(b,h,p,T){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(b,h,p,T,Q={}){return Zn(b,Q,(0,c.Z)(function*(){let _e={},st={};T&&("GET"===h?st=T:_e={body:JSON.stringify(T)});const St=(0,D.xO)(Object.assign({key:b.config.apiKey},st)).slice(1),en=yield b._getAdditionalHeaders();return en["Content-Type"]="application/json",b.languageCode&&(en["X-Firebase-Locale"]=b.languageCode),_t.fetch()(Tn(b,b.config.apiHost,p,St),Object.assign({method:h,headers:en,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function Zn(b,h,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(b,h,p){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ft),h);try{const Q=new An(b),_e=yield Promise.race([p(),Q.promise]);Q.clearNetworkTimeout();const st=yield _e.json();if("needConfirmation"in st)throw _n(b,"account-exists-with-different-credential",st);if(_e.ok&&!("errorMessage"in st))return st;{const St=_e.ok?st.errorMessage:st.error.message,[en,un]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw _n(b,"credential-already-in-use",st);if("EMAIL_EXISTS"===en)throw _n(b,"email-already-in-use",st);const or=T[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw ye(b,or,un);tt(b,or)}}catch(Q){if(Q instanceof D.ZR)throw Q;tt(b,"network-request-failed")}})).apply(this,arguments)}function Pn(b,h,p,T){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(b,h,p,T,Q={}){const _e=yield on(b,h,p,T,Q);return"mfaPendingCredential"in _e&&tt(b,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Tn(b,h,p,T){const Q=`${h}${p}?${T}`;return b.config.emulator?Ct(b.config,Q):`${b.config.apiScheme}://${Q}`}class An{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(ke(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(b,h,p){const T={appName:b.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const Q=ke(b,h,T);return Q.customData._tokenResponse=p,Q}function Ht(){return(Ht=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function zn(b,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Mn(b,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Xt(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function qt(){return(qt=(0,c.Z)(function*(b,h=!1){const p=(0,D.m9)(b),T=yield p.getIdToken(h),Q=At(T);we(Q&&Q.exp&&Q.auth_time&&Q.iat,p.auth,"internal-error");const _e="object"==typeof Q.firebase?Q.firebase:void 0,st=null==_e?void 0:_e.sign_in_provider;return{claims:Q,token:T,authTime:Xt(vt(Q.auth_time)),issuedAtTime:Xt(vt(Q.iat)),expirationTime:Xt(vt(Q.exp)),signInProvider:st||null,signInSecondFactor:(null==_e?void 0:_e.sign_in_second_factor)||null}})).apply(this,arguments)}function vt(b){return 1e3*Number(b)}function At(b){const[h,p,T]=b.split(".");if(void 0===h||void 0===p||void 0===T)return De("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,D.tV)(p);return Q?JSON.parse(Q):(De("Failed to decode base64 JWT payload"),null)}catch(Q){return De("Caught error parsing JWT payload as JSON",Q),null}}function it(b,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(b,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof D.ZR&&fn(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}function fn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class vn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Q=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Hn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(b){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(b){var h;const p=b.auth,T=yield b.getIdToken(),Q=yield it(b,Mn(p,{idToken:T}));we(null==Q?void 0:Q.users.length,p,"internal-error");const _e=Q.users[0];b._notifyReloadListener(_e);const st=(null===(h=_e.providerUserInfo)||void 0===h?void 0:h.length)?x(_e.providerUserInfo):[],St=O(b.providerData,st),or=!!b.isAnonymous&&!(b.email&&_e.passwordHash||(null==St?void 0:St.length)),Xr={uid:_e.localId,displayName:_e.displayName||null,photoURL:_e.photoUrl||null,email:_e.email||null,emailVerified:_e.emailVerified||!1,phoneNumber:_e.phoneNumber||null,tenantId:_e.tenantId||null,providerData:St,metadata:new Hn(_e.createdAt,_e.lastLoginAt),isAnonymous:or};Object.assign(b,Xr)})).apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(b){const h=(0,D.m9)(b);yield Un(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function O(b,h){return[...b.filter(T=>!h.some(Q=>Q.providerId===T.providerId)),...h]}function x(b){return b.map(h=>{var{providerId:p}=h,T=(0,j._T)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ee(){return(ee=(0,c.Z)(function*(b,h){const p=yield Zn(b,{},(0,c.Z)(function*(){const T=(0,D.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:Q,apiKey:_e}=b.config,st=Tn(b,Q,"/v1/token",`key=${_e}`),St=yield b._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()(st,{method:"POST",headers:St,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){we(h.idToken,"internal-error"),we(void 0!==h.idToken,"internal-error"),we(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function je(b){const h=At(b);return we(h,"internal-error"),we(void 0!==h.exp,"internal-error"),we(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var T=this;return(0,c.Z)(function*(){return we(!T.accessToken||T.refreshToken,h,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,c.Z)(function*(){const{accessToken:Q,refreshToken:_e,expiresIn:st}=yield function M(b,h){return ee.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(Q,_e,Number(st))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:Q,expirationTime:_e}=p,st=new Ie;return T&&(we("string"==typeof T,"internal-error",{appName:h}),st.refreshToken=T),Q&&(we("string"==typeof Q,"internal-error",{appName:h}),st.accessToken=Q),_e&&(we("number"==typeof _e,"internal-error",{appName:h}),st.expirationTime=_e),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return Fe("not implemented")}}function pt(b,h){we("string"==typeof b||void 0===b,"internal-error",{appName:h})}class Tt{constructor(h){var{uid:p,auth:T,stsTokenManager:Q}=h,_e=(0,j._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=_e.displayName||null,this.email=_e.email||null,this.emailVerified=_e.emailVerified||!1,this.phoneNumber=_e.phoneNumber||null,this.photoURL=_e.photoURL||null,this.isAnonymous=_e.isAnonymous||!1,this.tenantId=_e.tenantId||null,this.providerData=_e.providerData?[..._e.providerData]:[],this.metadata=new Hn(_e.createdAt||void 0,_e.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,c.Z)(function*(){const T=yield it(p,p.stsTokenManager.getToken(p.auth,h));return we(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function Dn(b){return qt.apply(this,arguments)}(this,h)}reload(){return function Ce(b){return le.apply(this,arguments)}(this)}_assign(h){this!==h&&(we(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Tt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var T=this;return(0,c.Z)(function*(){let Q=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),Q=!0),p&&(yield Un(T)),yield T.auth._persistUserIfCurrent(T),Q&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,c.Z)(function*(){const p=yield h.getIdToken();return yield it(h,function wn(b,h){return Ht.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,Q,_e,st,St,en,un,or;const Xr=null!==(T=p.displayName)&&void 0!==T?T:void 0,gi=null!==(Q=p.email)&&void 0!==Q?Q:void 0,ha=null!==(_e=p.phoneNumber)&&void 0!==_e?_e:void 0,Ho=null!==(st=p.photoURL)&&void 0!==st?st:void 0,Nu=null!==(St=p.tenantId)&&void 0!==St?St:void 0,Wa=null!==(en=p._redirectEventId)&&void 0!==en?en:void 0,Dh=null!==(un=p.createdAt)&&void 0!==un?un:void 0,Tr=null!==(or=p.lastLoginAt)&&void 0!==or?or:void 0,{uid:ku,emailVerified:Ll,isAnonymous:qa,providerData:fa,stsTokenManager:Ul}=p;we(ku&&Ul,h,"internal-error");const uc=Ie.fromJSON(this.name,Ul);we("string"==typeof ku,h,"internal-error"),pt(Xr,h.name),pt(gi,h.name),we("boolean"==typeof Ll,h,"internal-error"),we("boolean"==typeof qa,h,"internal-error"),pt(ha,h.name),pt(Ho,h.name),pt(Nu,h.name),pt(Wa,h.name),pt(Dh,h.name),pt(Tr,h.name);const pa=new Tt({uid:ku,auth:h,email:gi,emailVerified:Ll,displayName:Xr,isAnonymous:qa,photoURL:Ho,phoneNumber:ha,tenantId:Nu,stsTokenManager:uc,createdAt:Dh,lastLoginAt:Tr});return fa&&Array.isArray(fa)&&(pa.providerData=fa.map(cc=>Object.assign({},cc))),Wa&&(pa._redirectEventId=Wa),pa}static _fromIdTokenResponse(h,p,T=!1){return(0,c.Z)(function*(){const Q=new Ie;Q.updateFromServerResponse(p);const _e=new Tt({uid:p.localId,auth:h,stsTokenManager:Q,isAnonymous:T});return yield Un(_e),_e})()}}const dn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,T){var Q=this;return(0,c.Z)(function*(){Q.storage[p]=T})()}_get(p){var T=this;return(0,c.Z)(function*(){const Q=T.storage[p];return void 0===Q?null:Q})()}_remove(p){var T=this;return(0,c.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return b.type="NONE",b})();function jt(b,h,p){return`firebase:${b}:${h}:${p}`}class rn{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:Q,name:_e}=this.auth;this.fullUserKey=jt(this.userKey,Q.apiKey,_e),this.fullPersistenceKey=jt("persistence",Q.apiKey,_e),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Tt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,c.Z)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,T="authUser"){return(0,c.Z)(function*(){if(!p.length)return new rn(We(dn),h,T);const Q=(yield Promise.all(p.map(function(){var un=(0,c.Z)(function*(or){if(yield or._isAvailable())return or});return function(or){return un.apply(this,arguments)}}()))).filter(un=>un);let _e=Q[0]||We(dn);const st=jt(T,h.config.apiKey,h.name);let St=null;for(const un of p)try{const or=yield un._get(st);if(or){const Xr=Tt._fromJSON(h,or);un!==_e&&(St=Xr),_e=un;break}}catch(or){}const en=Q.filter(un=>un._shouldAllowMigration);return _e._shouldAllowMigration&&en.length?(_e=en[0],St&&(yield _e._set(st,St.toJSON())),yield Promise.all(p.map(function(){var un=(0,c.Z)(function*(or){if(or!==_e)try{yield or._remove(st)}catch(Xr){}});return function(or){return un.apply(this,arguments)}}())),new rn(_e,h,T)):new rn(_e,h,T)})()}}function lt(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(oe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(qe(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(mt(h))return"Blackberry";if(Ut(h))return"Webos";if(K(h))return"Safari";if((h.includes("chrome/")||ae(h))&&!h.includes("edge/"))return"Chrome";if(Le(h))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function qe(b=(0,D.z$)()){return/firefox\//i.test(b)}function K(b=(0,D.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ae(b=(0,D.z$)()){return/crios\//i.test(b)}function oe(b=(0,D.z$)()){return/iemobile/i.test(b)}function Le(b=(0,D.z$)()){return/android/i.test(b)}function mt(b=(0,D.z$)()){return/blackberry/i.test(b)}function Ut(b=(0,D.z$)()){return/webos/i.test(b)}function Xe(b=(0,D.z$)()){return/iphone|ipad|ipod/i.test(b)}function Ee(b=(0,D.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ft(b=(0,D.z$)()){return Xe(b)||Le(b)||Ut(b)||mt(b)||/windows phone/i.test(b)||oe(b)}function Bt(b,h=[]){let p;switch(b){case"Browser":p=lt((0,D.z$)());break;case"Worker":p=`${lt((0,D.z$)())}-${b}`;break;default:p=b}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${W.SDK_VERSION}/${T}`}class yn{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dt(this),this.idTokenSubscription=new Dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=We(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Q,_e;if(!T._deleted&&(T.persistenceManager=yield rn.create(T,h),!T._deleted)){if(null===(Q=T._popupRedirectResolver)||void 0===Q?void 0:Q._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(st){}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(_e=T.currentUser)||void 0===_e?void 0:_e.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,c.Z)(function*(){var T;let Q=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const _e=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,st=null==Q?void 0:Q._redirectEventId,St=yield p.tryRedirectSignIn(h);(!_e||_e===st)&&(null==St?void 0:St.user)&&(Q=St.user)}return Q?Q._redirectEventId?(we(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Q._redirectEventId?p.directlySetCurrentUser(Q):p.reloadAndSetCurrentUserOrClear(Q)):p.reloadAndSetCurrentUserOrClear(Q):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,c.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(Q){yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,c.Z)(function*(){try{yield Un(h)}catch(T){if("auth/network-request-failed"!==T.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,c.Z)(function*(){const T=h?(0,D.m9)(h):null;return T&&we(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,c.Z)(function*(){if(!p._deleted)return h&&we(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,c.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(We(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new D.LL("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,c.Z)(function*(){const Q=yield T.getOrInitRedirectPersistenceManager(p);return null===h?Q.removeCurrentUser():Q.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const T=h&&We(h)||p._popupRedirectResolver;we(T,p,"argument-error"),p.redirectPersistenceManager=yield rn.create(p,[We(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,c.Z)(function*(){var T,Q;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(Q=p.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,c.Z)(function*(){if(h===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,Q){if(this._deleted)return()=>{};const _e="function"==typeof p?p:p.next.bind(p),st=this._isInitialized?Promise.resolve():this._initializationPromise;return we(st,this,"internal-error"),st.then(()=>_e(this.currentUser)),"function"==typeof p?h.addObserver(p,T,Q):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){const p={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(p["X-Firebase-gmpid"]=h.app.options.appId),p})()}}function Lt(b){return(0,D.m9)(b)}class Dt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,D.ne)(p=>this.observer=p)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pn(b,h,p){const T=Lt(b);we(T._canInitEmulator,T,"emulator-config-failed"),we(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const Q=!!(null==p?void 0:p.disableWarnings),_e=$n(h),{host:st,port:St}=function wr(b){const h=$n(b),p=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(T);if(Q){const _e=Q[1];return{host:_e,port:lr(T.substr(_e.length+1))}}{const[_e,st]=T.split(":");return{host:_e,port:lr(st)}}}(h);T.config.emulator={url:`${_e}//${st}${null===St?"":`:${St}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:st,port:St,protocol:_e.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function nr(){function b(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function $n(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function lr(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class gr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Fe("not implemented")}_getIdTokenResponse(h){return Fe("not implemented")}_linkToIdToken(h,p){return Fe("not implemented")}_getReauthenticationResolver(h){return Fe("not implemented")}}function rr(b,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:resetPassword",tn(b,h))})).apply(this,arguments)}function Pr(b,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ai(b,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:update",tn(b,h))})).apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithPassword",tn(b,h))})).apply(this,arguments)}function Ln(b,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:sendOobCode",tn(b,h))})).apply(this,arguments)}function Di(b,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(b,h){return Ln(b,h)})).apply(this,arguments)}function xn(b,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(b,h){return Ln(b,h)})).apply(this,arguments)}function Ii(b,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(b,h){return Ln(b,h)})).apply(this,arguments)}function Ar(b,h){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(b,h){return Ln(b,h)})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithEmailLink",tn(b,h))})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithEmailLink",tn(b,h))})).apply(this,arguments)}class Nr extends gr{constructor(h,p,T,Q=null){super("password",T),this._email=h,this._password=p,this._tenantId=Q}static _fromEmailAndPassword(h,p){return new Nr(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new Nr(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function vi(b,h){return yr.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function hs(b,h){return Br.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:tt(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,c.Z)(function*(){switch(T.signInMethod){case"password":return Pr(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function xr(b,h){return Ei.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:tt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function fi(b,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithIdp",tn(b,h))})).apply(this,arguments)}class fr extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new fr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):tt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:Q}=p,_e=(0,j._T)(p,["providerId","signInMethod"]);if(!T||!Q)return null;const st=new fr(T,Q);return st.idToken=_e.idToken||void 0,st.accessToken=_e.accessToken||void 0,st.secret=_e.secret,st.nonce=_e.nonce,st.pendingToken=_e.pendingToken||null,st}_getIdTokenResponse(h){return fi(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,fi(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,fi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,D.xO)(p)}return h}}function Ki(b,h){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:sendVerificationCode",tn(b,h))})).apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithPhoneNumber",tn(b,h))})).apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(b,h){const p=yield Pn(b,"POST","/v1/accounts:signInWithPhoneNumber",tn(b,h));if(p.temporaryProof)throw _n(b,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const fs={USER_NOT_FOUND:"user-not-found"};function wi(){return(wi=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithPhoneNumber",tn(b,Object.assign(Object.assign({},h),{operation:"REAUTH"})),fs)})).apply(this,arguments)}class ni extends gr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new ni({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new ni({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Fi(b,h){return Ti.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Li(b,h){return Ai.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Us(b,h){return wi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:T,verificationCode:Q}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:T,code:Q}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:T,phoneNumber:Q,temporaryProof:_e}=h;return T||p||Q||_e?new ni({verificationId:p,verificationCode:T,phoneNumber:Q,temporaryProof:_e}):null}}class li{constructor(h){var p,T,Q,_e,st,St;const en=(0,D.zd)((0,D.pd)(h)),un=null!==(p=en.apiKey)&&void 0!==p?p:null,or=null!==(T=en.oobCode)&&void 0!==T?T:null,Xr=function Zi(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=en.mode)&&void 0!==Q?Q:null);we(un&&or&&Xr,"argument-error"),this.apiKey=un,this.operation=Xr,this.code=or,this.continueUrl=null!==(_e=en.continueUrl)&&void 0!==_e?_e:null,this.languageCode=null!==(st=en.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(St=en.tenantId)&&void 0!==St?St:null}static parseLink(h){const p=function ps(b){const h=(0,D.zd)((0,D.pd)(b)).link,p=h?(0,D.zd)((0,D.pd)(h)).deep_link_id:null,T=(0,D.zd)((0,D.pd)(b)).deep_link_id;return(T?(0,D.zd)((0,D.pd)(T)).link:null)||T||p||h||b}(h);try{return new li(p)}catch(T){return null}}}let Vi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(p,T){return Nr._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const Q=li.parseLink(T);return we(Q,"argument-error"),Nr._fromEmailAndCode(p,Q.code,Q.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class jr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Bi extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Rr extends Bi{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return we("providerId"in p&&"signInMethod"in p,"argument-error"),fr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return we(h.idToken||h.accessToken,"argument-error"),fr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Rr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Rr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:Q,pendingToken:_e,nonce:st,providerId:St}=h;if(!T&&!Q&&!p&&!_e||!St)return null;try{return new Rr(St)._credential({idToken:p,accessToken:T,nonce:st,pendingToken:_e})}catch(en){return null}}}let ji=(()=>{class b extends Bi{constructor(){super("facebook.com")}static credential(p){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return b.credential(p.oauthAccessToken)}catch(T){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Mi=(()=>{class b extends Bi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:Q}=p;if(!T&&!Q)return null;try{return b.credential(T,Q)}catch(_e){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ui=(()=>{class b extends Bi{constructor(){super("github.com")}static credential(p){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return b.credential(p.oauthAccessToken)}catch(T){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ri extends gr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return fi(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,fi(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,fi(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:Q,pendingToken:_e}=p;return T&&Q&&_e&&T===Q?new ri(T,_e):null}static _create(h,p){return new ri(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pi extends jr{constructor(h){we(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return pi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return pi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=ri.fromJSON(h);return we(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:T}=h;if(!p||!T)return null;try{return ri._create(T,p)}catch(Q){return null}}}let ws=(()=>{class b extends Bi{constructor(){super("twitter.com")}static credential(p,T){return fr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:Q}=p;if(!T||!Q)return null;try{return b.credential(T,Q)}catch(_e){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Zr(b,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signUp",tn(b,h))})).apply(this,arguments)}class Wn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T,Q=!1){return(0,c.Z)(function*(){const _e=yield Tt._fromIdTokenResponse(h,T,Q),st=Si(T);return new Wn({user:_e,providerId:st,_tokenResponse:T,operationType:p})})()}static _forOperation(h,p,T){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const Q=Si(T);return new Wn({user:h,providerId:Q,_tokenResponse:T,operationType:p})})()}}function Si(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function is(b){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(b){var h;const p=Lt(b);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Wn({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield Zr(p,{returnSecureToken:!0}),Q=yield Wn._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class $i extends D.ZR{constructor(h,p,T,Q){var _e;super(p.code,p.message),this.operationType=T,this.user=Q,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:h.name,tenantId:null!==(_e=h.tenantId)&&void 0!==_e?_e:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,Q){return new $i(h,p,T,Q)}}function ne(b,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(b):p._getIdTokenResponse(b)).catch(_e=>{throw"auth/multi-factor-auth-required"===_e.code?$i._fromErrorAndOperation(b,_e,h,T):_e})}function y(b){return new Set(b.map(({providerId:h})=>h).filter(h=>!!h))}function _(b,h){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(b,h){const p=(0,D.m9)(b);yield E(!0,p,h);const{providerUserInfo:T}=yield zn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),Q=y(T||[]);return p.providerData=p.providerData.filter(_e=>Q.has(_e.providerId)),Q.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Z(b,h){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(b,h,p=!1){const T=yield it(b,h._linkToIdToken(b.auth,yield b.getIdToken()),p);return Wn._forOperation(b,"link",T)})).apply(this,arguments)}function E(b,h,p){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(b,h,p){yield Un(h);const Q=!1===b?"provider-already-linked":"no-such-provider";we(y(h.providerData).has(p)===b,h.auth,Q)})).apply(this,arguments)}function I(b,h){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(b,h,p=!1){const{auth:T}=b,Q="reauthenticate";try{const _e=yield it(b,ne(T,Q,h,b),p);we(_e.idToken,T,"internal-error");const st=At(_e.idToken);we(st,T,"internal-error");const{sub:St}=st;return we(b.uid===St,T,"user-mismatch"),Wn._forOperation(b,Q,_e)}catch(_e){throw"auth/user-not-found"===(null==_e?void 0:_e.code)&&tt(T,"user-mismatch"),_e}})).apply(this,arguments)}function pe(b,h){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(b,h,p=!1){const T="signIn",Q=yield ne(b,T,h),_e=yield Wn._fromIdTokenResponse(b,T,Q);return p||(yield b._updateCurrentUser(_e.user)),_e})).apply(this,arguments)}function ht(b,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(b,h){return pe(Lt(b),h)})).apply(this,arguments)}function $t(b,h){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(b,h){const p=(0,D.m9)(b);return yield E(!1,p,h.providerId),Z(p,h)})).apply(this,arguments)}function sn(b,h){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(b,h){return I((0,D.m9)(b),h)})).apply(this,arguments)}function Vn(b,h){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(b,h){return Pn(b,"POST","/v1/accounts:signInWithCustomToken",tn(b,h))})).apply(this,arguments)}function k(b,h){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(b,h){const p=Lt(b),T=yield Vn(p,{token:h,returnSecureToken:!0}),Q=yield Wn._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class te{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Qe._fromServerResponse(h,p):tt(h,"internal-error")}}class Qe extends te{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Qe(p)}}function Jt(b,h,p){var T;we((null===(T=p.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),we(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(we(p.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(we(p.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ur(b,h,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b),Q={requestType:"PASSWORD_RESET",email:h};p&&Jt(T,Q,p),yield xn(T,Q)})).apply(this,arguments)}function G(b,h,p){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(b,h,p){yield rr((0,D.m9)(b),{oobCode:h,newPassword:p})})).apply(this,arguments)}function ue(b,h){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(b,h){yield ai((0,D.m9)(b),{oobCode:h})})).apply(this,arguments)}function ge(b,h){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(b,h){const p=(0,D.m9)(b),T=yield rr(p,{oobCode:h}),Q=T.requestType;switch(we(Q,p,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(T.mfaInfo,p,"internal-error");default:we(T.email,p,"internal-error")}let _e=null;return T.mfaInfo&&(_e=te._fromServerResponse(Lt(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:_e},operation:Q}})).apply(this,arguments)}function gt(b,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(b,h){const{data:p}=yield ge((0,D.m9)(b),h);return p.email})).apply(this,arguments)}function Mt(b,h,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(b,h,p){const T=Lt(b),Q=yield Zr(T,{returnSecureToken:!0,email:h,password:p}),_e=yield Wn._fromIdTokenResponse(T,"signIn",Q);return yield T._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function bn(b,h,p){return ht((0,D.m9)(b),Vi.credential(h,p))}function Gn(b,h,p){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b),Q={requestType:"EMAIL_SIGNIN",email:h};we(p.handleCodeInApp,T,"argument-error"),p&&Jt(T,Q,p),yield Ii(T,Q)})).apply(this,arguments)}function qn(b,h){const p=li.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Qr(b,h,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b),Q=Vi.credentialWithLink(h,p||$e());return we(Q._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ht(T,Q)})).apply(this,arguments)}function jn(b,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:createAuthUri",tn(b,h))})).apply(this,arguments)}function pr(b,h){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(b,h){const T={identifier:h,continueUri:Et()?$e():"http://localhost"},{signinMethods:Q}=yield jn((0,D.m9)(b),T);return Q||[]})).apply(this,arguments)}function cr(b,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(b,h){const p=(0,D.m9)(b),Q={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};h&&Jt(p.auth,Q,h);const{email:_e}=yield Di(p.auth,Q);_e!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ws(b,h,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b),_e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:h};p&&Jt(T.auth,_e,p);const{email:st}=yield Ar(T.auth,_e);st!==b.email&&(yield b.reload())})).apply(this,arguments)}function qs(b,h){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(b,h){return on(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Sa(b,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(b,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const T=(0,D.m9)(b),_e={idToken:yield T.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},st=yield it(T,qs(T.auth,_e));T.displayName=st.displayName||null,T.photoURL=st.photoUrl||null;const St=T.providerData.find(({providerId:en})=>"password"===en);St&&(St.displayName=T.displayName,St.photoURL=T.photoURL),yield T._updateTokensIfNecessary(st)})).apply(this,arguments)}function yl(b,h){return Ra((0,D.m9)(b),h,null)}function Qo(b,h){return Ra((0,D.m9)(b),null,h)}function Ra(b,h,p){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(b,h,p){const{auth:T}=b,_e={idToken:yield b.getIdToken(),returnSecureToken:!0};h&&(_e.email=h),p&&(_e.password=p);const st=yield it(b,Pr(T,_e));yield b._updateTokensIfNecessary(st,!0)})).apply(this,arguments)}class Ks{constructor(h,p,T={}){this.isNewUser=h,this.providerId=p,this.profile=T}}class Cs extends Ks{constructor(h,p,T,Q){super(h,p,T),this.username=Q}}class _l extends Ks{constructor(h,p){super(h,"facebook.com",p)}}class vl extends Cs{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ko extends Ks{constructor(h,p){super(h,"google.com",p)}}class fo extends Cs{constructor(h,p,T){super(h,"twitter.com",p,T)}}function pu(b){const{user:h,_tokenResponse:p}=b;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ho(b){var h,p;if(!b)return null;const{providerId:T}=b,Q=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},_e=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&(null==b?void 0:b.idToken)){const st=null===(p=null===(h=At(b.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(st)return new Ks(_e,"anonymous"!==st&&"custom"!==st?st:null)}if(!T)return null;switch(T){case"facebook.com":return new _l(_e,Q);case"github.com":return new vl(_e,Q);case"google.com":return new ko(_e,Q);case"twitter.com":return new fo(_e,Q,b.screenName||null);case"custom":case"anonymous":return new Ks(_e,null);default:return new Ks(_e,T,Q)}}(p)}function mu(b){return(0,D.m9)(b).signOut()}class Vs{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Vs("enroll",h)}static _fromMfaPendingCredential(h){return new Vs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,T;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Vs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(T=h.multiFactorSession)||void 0===T?void 0:T.idToken)return Vs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class mo{constructor(h,p,T){this.session=h,this.hints=p,this.signInResolver=T}static _fromError(h,p){const T=Lt(h),Q=p.customData._serverResponse,_e=(Q.mfaInfo||[]).map(St=>te._fromServerResponse(T,St));we(Q.mfaPendingCredential,T,"internal-error");const st=Vs._fromMfaPendingCredential(Q.mfaPendingCredential);return new mo(st,_e,function(){var St=(0,c.Z)(function*(en){const un=yield en._process(T,st);delete Q.mfaInfo,delete Q.mfaPendingCredential;const or=Object.assign(Object.assign({},Q),{idToken:un.idToken,refreshToken:un.refreshToken});switch(p.operationType){case"signIn":const Xr=yield Wn._fromIdTokenResponse(T,p.operationType,or);return yield T._updateCurrentUser(Xr.user),Xr;case"reauthenticate":return we(p.user,T,"internal-error"),Wn._forOperation(p.user,p.operationType,or);default:tt(T,"internal-error")}});return function(en){return St.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,c.Z)(function*(){return p.signInResolver(h)})()}}function Fo(b,h){var p;const T=(0,D.m9)(b),Q=h;return we(h.customData.operationType,T,"argument-error"),we(null===(p=Q.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),mo._fromError(T,Q)}function ci(b,h){return on(b,"POST","/v2/accounts/mfaEnrollment:start",tn(b,h))}class go{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>te._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new go(h)}getSession(){var h=this;return(0,c.Z)(function*(){return Vs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var T=this;return(0,c.Z)(function*(){const Q=h,_e=yield T.getSession(),st=yield it(T.user,Q._process(T.user.auth,_e,p));return yield T.user._updateTokensIfNecessary(st),T.user.reload()})()}unenroll(h){var p=this;return(0,c.Z)(function*(){const T="string"==typeof h?h:h.uid,Q=yield p.user.getIdToken(),_e=yield it(p.user,function Zs(b,h){return on(b,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(b,h))}(p.user.auth,{idToken:Q,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:st})=>st!==T),yield p.user._updateTokensIfNecessary(_e);try{yield p.user.reload()}catch(st){if("auth/user-token-expired"!==st.code)throw st}})()}}const ss=new WeakMap;function Ri(b){const h=(0,D.m9)(b);return ss.has(h)||ss.set(h,go._fromUser(h)),ss.get(h)}const Jo="__sak";class El{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ka=(()=>{class b extends El{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yo(){const b=(0,D.z$)();return K(b)||Xe(b)}()&&function wt(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=ft(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const Q=this.storage.getItem(T),_e=this.localCache[T];Q!==_e&&p(T,_e,Q)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((St,en,un)=>{this.notifyListeners(St,un)});const Q=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem(Q);if(p.newValue!==St)null!==p.newValue?this.storage.setItem(Q,p.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===p.newValue&&!T)return}const _e=()=>{const St=this.storage.getItem(Q);!T&&this.localCache[Q]===St||this.notifyListeners(Q,St)},st=this.storage.getItem(Q);!function Se(){return(0,D.w1)()&&10===document.documentMode}()||st===p.newValue||p.newValue===p.oldValue?_e():setTimeout(_e,10)}notifyListeners(p,T){this.localCache[p]=T;const Q=this.listeners[p];if(Q)for(const _e of Array.from(Q))_e(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var Q=()=>super._set,_e=this;return(0,c.Z)(function*(){yield Q().call(_e,p,T),_e.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,Q=this;return(0,c.Z)(function*(){const _e=yield T().call(Q,p);return Q.localCache[p]=JSON.stringify(_e),_e})()}_remove(p){var T=()=>super._remove,Q=this;return(0,c.Z)(function*(){yield T().call(Q,p),delete Q.localCache[p]})()}}return b.type="LOCAL",b})(),Ci=(()=>{class b extends El{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return b.type="SESSION",b})();let Cl=(()=>{class b{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(_e=>_e.isListeningto(p));if(T)return T;const Q=new b(p);return this.receivers.push(Q),Q}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,c.Z)(function*(){const Q=p,{eventId:_e,eventType:st,data:St}=Q.data,en=T.handlersMap[st];if(!(null==en?void 0:en.size))return;Q.ports[0].postMessage({status:"ack",eventId:_e,eventType:st});const un=Array.from(en).map(function(){var Xr=(0,c.Z)(function*(gi){return gi(Q.origin,St)});return function(gi){return Xr.apply(this,arguments)}}()),or=yield function wl(b){return Promise.all(b.map(function(){var h=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(un);Q.ports[0].postMessage({status:"done",eventId:_e,eventType:st,response:or})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Rs(b="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return b+p}class gu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,T=50){var Q=this;return(0,c.Z)(function*(){const _e="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let st,St;return new Promise((en,un)=>{const or=Rs("",20);_e.port1.start();const Xr=setTimeout(()=>{un(new Error("unsupported_event"))},T);St={messageChannel:_e,onMessage(gi){const ha=gi;if(ha.data.eventId===or)switch(ha.data.status){case"ack":clearTimeout(Xr),st=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),en(ha.data.response);break;default:clearTimeout(Xr),clearTimeout(st),un(new Error("invalid_response"))}}},Q.handlers.add(St),_e.port1.addEventListener("message",St.onMessage),Q.target.postMessage({eventType:h,eventId:or,data:p},[_e.port2])}).finally(()=>{St&&Q.removeMessageHandler(St)})})()}}function ii(){return window}function Dl(){return void 0!==ii().WorkerGlobalScope&&"function"==typeof ii().importScripts}function ea(){return(ea=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Il="fbase_key";class Vt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Lr(b,h){return b.transaction([Lo],h?"readwrite":"readonly").objectStore(Lo)}function w(){const b=indexedDB.open(Ps,1);return new Promise((h,p)=>{b.addEventListener("error",()=>{p(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(Lo,{keyPath:Il})}catch(Q){p(Q)}}),b.addEventListener("success",(0,c.Z)(function*(){const T=b.result;T.objectStoreNames.contains(Lo)?h(T):(T.close(),yield function S(){const b=indexedDB.deleteDatabase(Ps);return new Vt(b).toPromise()}(),h(yield w()))}))})}function g(b,h,p){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(b,h,p){const T=Lr(b,!0).put({[Il]:h,value:p});return new Vt(T).toPromise()})).apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(b,h){const p=Lr(b,!1).get(h),T=yield new Vt(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Y(b,h){const p=Lr(b,!0).delete(h);return new Vt(p).toPromise()}const Yn=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield w()),p.db})()}_withRetries(p){var T=this;return(0,c.Z)(function*(){let Q=0;for(;;)try{const _e=yield T._openDb();return yield p(_e)}catch(_e){if(Q++>3)throw _e;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Dl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Cl._getInstance(function Oi(){return Dl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,c.Z)(function*(Q,_e){return{keyProcessed:(yield p._poll()).includes(_e.key)}});return function(Q,_e){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,c.Z)(function*(Q,_e){return["keyChanged"]});return function(Q,_e){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var T,Q;if(p.activeServiceWorker=yield function Os(){return ea.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new gu(p.activeServiceWorker);const _e=yield p.sender._send("ping",{},800);!_e||(null===(T=_e[0])||void 0===T?void 0:T.fulfilled)&&(null===(Q=_e[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,c.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ta(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch(Q){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield w();return yield g(p,Jo,"1"),yield Y(p,Jo),!0}catch(p){}return!1})()}_withPendingWrite(p){var T=this;return(0,c.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var Q=this;return(0,c.Z)(function*(){return Q._withPendingWrite((0,c.Z)(function*(){return yield Q._withRetries(_e=>g(_e,p,T)),Q.localCache[p]=T,Q.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,c.Z)(function*(){const Q=yield T._withRetries(_e=>function H(b,h){return q.apply(this,arguments)}(_e,p));return T.localCache[p]=Q,Q})()}_remove(p){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(Q=>Y(Q,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const T=yield p._withRetries(st=>{const St=Lr(st,!1).getAll();return new Vt(St).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const Q=[],_e=new Set;for(const{fbase_key:st,value:St}of T)_e.add(st),JSON.stringify(p.localCache[st])!==JSON.stringify(St)&&(p.notifyListeners(st,St),Q.push(st));for(const st of Object.keys(p.localCache))p.localCache[st]&&!_e.has(st)&&(p.notifyListeners(st,null),Q.push(st));return Q})()}notifyListeners(p,T){this.localCache[p]=T;const Q=this.listeners[p];if(Q)for(const _e of Array.from(Q))_e(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Cn(b,h){return on(b,"POST","/v2/accounts/mfaSignIn:start",tn(b,h))}function Ys(){return(Ys=(0,c.Z)(function*(b){return(yield on(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ds(b){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=h,T.onerror=Q=>{const _e=ke("internal-error");_e.customData=Q,p(_e)},T.type="text/javascript",T.charset="UTF-8",function Gi(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(T)})}function Ns(b){return`__${b}${Math.floor(1e6*Math.random())}`}const zi=1e12;class Qn{constructor(h){this.auth=h,this.counter=zi,this._widgets=new Map}render(h,p){const T=this.counter;return this._widgets.set(T,new na(h,this.auth.name,p||{})),this.counter++,T}reset(h){var p;const T=h||zi;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(h){var p;return(null===(p=this._widgets.get(h||zi))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,c.Z)(function*(){var T;return null===(T=p._widgets.get(h||zi))||void 0===T||T.execute(),""})()}}class na{constructor(h,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof h?document.getElementById(h):h;we(Q,"argument-error",{appName:p}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yu(b){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hr=Ns("rcb"),Jn=new rt(3e4,6e4);class Mr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ii().grecaptcha}load(h,p=""){return we(function Yc(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(ii().grecaptcha):new Promise((T,Q)=>{const _e=ii().setTimeout(()=>{Q(ke(h,"network-request-failed"))},Jn.get());ii()[Hr]=()=>{ii().clearTimeout(_e),delete ii()[Hr];const St=ii().grecaptcha;if(!St)return void Q(ke(h,"internal-error"));const en=St.render;St.render=(un,or)=>{const Xr=en(un,or);return this.counter++,Xr},this.hostLanguage=p,T(St)},Ds(`https://www.google.com/recaptcha/api.js??${(0,D.xO)({onload:Hr,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(_e),Q(ke(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!ii().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _u{load(h){return(0,c.Z)(function*(){return new Qn(h)})()}clearedOneInstance(){}}const br="recaptcha",Pp={theme:"light",type:"image"};class Qi{constructor(h,p=Object.assign({},Pp),T){this.parameters=p,this.type=br,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(T),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof h?document.getElementById(h):h;we(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _u:new Mr,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(p)||new Promise(_e=>{const st=St=>{!St||(h.tokenChangeListeners.delete(st),_e(St))};h.tokenChangeListeners.add(st),h.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof h)h(p);else if("string"==typeof h){const T=ii()[h];"function"==typeof T&&T(p)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){we(Et()&&!Dl(),h.auth,"internal-error"),yield function Tl(){let b=null;return new Promise(h=>{"complete"!==document.readyState?(b=()=>h(),window.addEventListener("load",b)):h()}).catch(h=>{throw b&&window.removeEventListener("load",b),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function vr(b){return Ys.apply(this,arguments)}(h.auth);we(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qc{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=ni._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Jr(b,h,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(b,h,p){const T=Lt(b),Q=yield Al(T,h,(0,D.m9)(p));return new Qc(Q,_e=>ht(T,_e))})).apply(this,arguments)}function Ur(b,h,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b);yield E(!1,T,"phone");const Q=yield Al(T.auth,h,(0,D.m9)(p));return new Qc(Q,_e=>$t(T,_e))})).apply(this,arguments)}function Qs(b,h,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b),Q=yield Al(T.auth,h,(0,D.m9)(p));return new Qc(Q,_e=>sn(T,_e))})).apply(this,arguments)}function Al(b,h,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(b,h,p){var T;const Q=yield p.verify();try{let _e;if(we("string"==typeof Q,b,"argument-error"),we(p.type===br,b,"argument-error"),_e="string"==typeof h?{phoneNumber:h}:h,"session"in _e){const st=_e.session;if("phoneNumber"in _e)return we("enroll"===st.type,b,"internal-error"),(yield ci(b,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:_e.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{we("signin"===st.type,b,"internal-error");const St=(null===(T=_e.multiFactorHint)||void 0===T?void 0:T.uid)||_e.multiFactorUid;return we(St,b,"missing-multi-factor-info"),(yield Cn(b,{mfaPendingCredential:st.credential,mfaEnrollmentId:St,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield Ki(b,{phoneNumber:_e.phoneNumber,recaptchaToken:Q});return st}}finally{p._reset()}})).apply(this,arguments)}function Ji(b,h){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(b,h){yield Z((0,D.m9)(b),h)})).apply(this,arguments)}let Ml=(()=>{class b{constructor(p){this.providerId=b.PROVIDER_ID,this.auth=Lt(p)}verifyPhoneNumber(p,T){return Al(this.auth,p,(0,D.m9)(T))}static credential(p,T){return ni._fromVerification(p,T)}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:Q}=p;return T&&Q?ni._fromTokenResponse(T,Q):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function cn(b,h){return h?We(h):(we(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Js extends gr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return fi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return fi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return fi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Xs(b){return pe(b.auth,new Js(b),b.bypassAuthState)}function Sl(b){const{auth:h,user:p}=b;return we(p,h,"internal-error"),I(p,new Js(b),b.bypassAuthState)}function xl(b){return nc.apply(this,arguments)}function nc(){return(nc=(0,c.Z)(function*(b){const{auth:h,user:p}=b;return we(p,h,"internal-error"),Z(p,new Js(b),b.bypassAuthState)})).apply(this,arguments)}class Rl{constructor(h,p,T,Q,_e=!1){this.auth=h,this.resolver=T,this.user=Q,this.bypassAuthState=_e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,c.Z)(function*(T,Q){h.pendingPromise={resolve:T,reject:Q};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(_e){h.reject(_e)}});return function(T,Q){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,c.Z)(function*(){const{urlResponse:T,sessionId:Q,postBody:_e,tenantId:st,error:St,type:en}=h;if(St)return void p.reject(St);const un={auth:p.auth,requestUri:T,sessionId:Q,tenantId:st||void 0,postBody:_e||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(en)(un))}catch(or){p.reject(or)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Xs;case"linkViaPopup":case"linkViaRedirect":return xl;case"reauthViaPopup":case"reauthViaRedirect":return Sl;default:tt(this.auth,"internal-error")}}resolve(h){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new rt(2e3,1e4);function Fa(b,h,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(b,h,p){const T=Lt(b);he(b,h,jr);const Q=cn(T,p);return new ia(T,"signInViaPopup",h,Q).executeNotNull()})).apply(this,arguments)}function Xc(b,h,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b);he(T.auth,h,jr);const Q=cn(T.auth,p);return new ia(T.auth,"reauthViaPopup",h,Q,T).executeNotNull()})).apply(this,arguments)}function ed(b,h,p){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b);he(T.auth,h,jr);const Q=cn(T.auth,p);return new ia(T.auth,"linkViaPopup",h,Q,T).executeNotNull()})).apply(this,arguments)}let ia=(()=>{class b extends Rl{constructor(p,T,Q,_e,st){super(p,T,_e,st),this.provider=Q,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const T=yield p.execute();return we(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,c.Z)(function*(){Me(1===p.filter.length,"Popup operations only handle one event");const T=Rs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(Q=>{p.reject(Q)}),p.resolver._isIframeWebStorageSupported(p.auth,Q=>{Q||p.reject(ke(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,Q;this.pollId=(null===(Q=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===Q?void 0:Q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,as.get())};p()}}return b.currentPopupAction=null,b})();const Pl=new Map;class $r extends Rl{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,c.Z)(function*(){let T=Pl.get(p.auth._key());if(!T){try{const _e=(yield function rc(b,h){return sa.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(_e)}catch(Q){T=()=>Promise.reject(Q)}Pl.set(p.auth._key(),T)}return p.bypassAuthState||Pl.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const Q=yield T.auth._redirectUserForId(h.eventId);if(Q)return T.user=Q,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function sa(){return(sa=(0,c.Z)(function*(b,h){const p=es(h),T=Uo(b);if(!(yield T._isAvailable()))return!1;const Q="true"===(yield T._get(p));return yield T._remove(p),Q})).apply(this,arguments)}function Ua(b,h){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(b,h){return Uo(b)._set(es(h),"true")})).apply(this,arguments)}function Va(){Pl.clear()}function Uo(b){return We(b._redirectPersistence)}function es(b){return jt("pendingRedirect",b.config.apiKey,b.name)}function mh(b,h,p){return function gh(b,h,p){return bu.apply(this,arguments)}(b,h,p)}function bu(){return(bu=(0,c.Z)(function*(b,h,p){const T=Lt(b);he(b,h,jr);const Q=cn(T,p);return yield Ua(Q,T),Q._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function yh(b,h,p){return function Ba(b,h,p){return Eu.apply(this,arguments)}(b,h,p)}function Eu(){return(Eu=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b);he(T.auth,h,jr);const Q=cn(T.auth,p);yield Ua(Q,T.auth);const _e=yield sc(T);return Q._openRedirect(T.auth,h,"reauthViaRedirect",_e)})).apply(this,arguments)}function _h(b,h,p){return function Ni(b,h,p){return wu.apply(this,arguments)}(b,h,p)}function wu(){return(wu=(0,c.Z)(function*(b,h,p){const T=(0,D.m9)(b);he(T.auth,h,jr);const Q=cn(T.auth,p);yield E(!1,T,h.providerId),yield Ua(Q,T.auth);const _e=yield sc(T);return Q._openRedirect(T.auth,h,"linkViaRedirect",_e)})).apply(this,arguments)}function Nl(b,h){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(b,h){return yield Lt(b)._initializationPromise,ks(b,h,!1)})).apply(this,arguments)}function ks(b,h){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(b,h,p=!1){const T=Lt(b),Q=cn(T,h),st=yield new $r(T,Q,p).execute();return st&&!p&&(delete st.user._redirectEventId,yield T._persistUserIfCurrent(st.user),yield T._setRedirectUser(null,h)),st})).apply(this,arguments)}function sc(b){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(b){const h=Rs(`${b.uid}:::`);return b._redirectEventId=h,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),h})).apply(this,arguments)}class vo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Du(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!to(h)){const Q=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(ke(this.auth,Q))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bo(h))}saveEventToCache(h){this.cachedEventUids.add(Bo(h)),this.lastProcessedEventTime=Date.now()}}function Bo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function to({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===(null==h?void 0:h.code)}function kl(b){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(b,h={}){return on(b,"GET","/v1/projects",h)})).apply(this,arguments)}const ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;function Iu(){return(Iu=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield kl(b);for(const p of h)try{if(no(p))return}catch(T){}tt(b,"unauthorized-domain")})).apply(this,arguments)}function no(b){const h=$e(),{protocol:p,hostname:T}=new URL(h);if(b.startsWith("chrome-extension://")){const st=new URL(b);return""===st.hostname&&""===T?"chrome-extension:"===p&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&st.hostname===T}if(!la.test(p))return!1;if(ja.test(b))return T===b;const Q=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(T)}const Ha=new rt(3e4,6e4);function Tu(){const b=ii().___jsl;if(null==b?void 0:b.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let p=0;p<b.CP.length;p++)b.CP[p]=null}let $a=null;function vh(b){return $a=$a||function Au(b){return new Promise((h,p)=>{var T,Q,_e;function st(){Tu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Tu(),p(ke(b,"network-request-failed"))},timeout:Ha.get()})}if(null===(Q=null===(T=ii().gapi)||void 0===T?void 0:T.iframes)||void 0===Q?void 0:Q.Iframe)h(gapi.iframes.getContext());else{if(!(null===(_e=ii().gapi)||void 0===_e?void 0:_e.load)){const St=Ns("iframefcb");return ii()[St]=()=>{gapi.load?st():p(ke(b,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${St}`).catch(en=>p(en))}st()}}).catch(h=>{throw $a=null,h})}(b),$a}const bh=new rt(5e3,15e3),Mu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oc(b){const h=b.config;we(h.authDomain,b,"auth-domain-config-required");const p=h.emulator?Ct(h,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:b.name,v:W.SDK_VERSION},Q=Su.get(b.config.apiHost);Q&&(T.eid=Q);const _e=b._getFrameworks();return _e.length&&(T.fw=_e.join(",")),`${p}?${(0,D.xO)(T).slice(1)}`}function jo(){return jo=(0,c.Z)(function*(b){const h=yield vh(b),p=ii().gapi;return we(p,b,"internal-error"),h.open({where:document.body,url:oc(b),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mu,dontclear:!0},T=>new Promise(function(){var Q=(0,c.Z)(function*(_e,st){yield T.restyle({setHideOnLeave:!1});const St=ke(b,"network-request-failed"),en=ii().setTimeout(()=>{st(St)},bh.get());function un(){ii().clearTimeout(en),_e(T)}T.ping(un).then(un,()=>{st(St)})});return function(_e,st){return Q.apply(this,arguments)}}()))}),jo.apply(this,arguments)}const ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ru{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function si(b,h,p,T,Q,_e){we(b.config.authDomain,b,"auth-domain-config-required"),we(b.config.apiKey,b,"invalid-api-key");const st={apiKey:b.config.apiKey,appName:b.name,authType:p,redirectUrl:T,v:W.SDK_VERSION,eventId:Q};if(h instanceof jr){h.setDefaultLanguage(b.languageCode),st.providerId=h.providerId||"",(0,D.xb)(h.getCustomParameters())||(st.customParameters=JSON.stringify(h.getCustomParameters()));for(const[en,un]of Object.entries(_e||{}))st[en]=un}if(h instanceof Bi){const en=h.getScopes().filter(un=>""!==un);en.length>0&&(st.scopes=en.join(","))}b.tenantId&&(st.tid=b.tenantId);const St=st;for(const en of Object.keys(St))void 0===St[en]&&delete St[en];return`${function Ou({config:b}){return b.emulator?Ct(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,D.xO)(St).slice(1)}`}const Ga="webStorageSupport",Eo=class bo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ci,this._completeRedirectFn=ks}_openPopup(h,p,T,Q){var _e=this;return(0,c.Z)(function*(){var st;Me(null===(st=_e.eventManagers[h._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const St=si(h,p,T,$e(),Q);return function ac(b,h,p,T=500,Q=600){const _e=Math.max((window.screen.availHeight-Q)/2,0).toString(),st=Math.max((window.screen.availWidth-T)/2,0).toString();let St="";const en=Object.assign(Object.assign({},ca),{width:T.toString(),height:Q.toString(),top:_e,left:st}),un=(0,D.z$)().toLowerCase();p&&(St=ae(un)?"_blank":p),qe(un)&&(h=h||"http://localhost",en.scrollbars="yes");const or=Object.entries(en).reduce((gi,[ha,Ho])=>`${gi}${ha}=${Ho},`,"");if(function se(b=(0,D.z$)()){var h;return Xe(b)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(un)&&"_self"!==St)return function js(b,h){const p=document.createElement("a");p.href=b,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",St),new Ru(null);const Xr=window.open(h||"",St,or);we(Xr,b,"popup-blocked");try{Xr.focus()}catch(gi){}return new Ru(Xr)}(h,St,Rs())})()}_openRedirect(h,p,T,Q){var _e=this;return(0,c.Z)(function*(){return yield _e._originValidation(h),function _o(b){ii().location.href=b}(si(h,p,T,$e(),Q)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:Q,promise:_e}=this.eventManagers[p];return Q?Promise.resolve(Q):(Me(_e,"If manager is not set, promise should be"),_e)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,c.Z)(function*(){const T=yield function ua(b){return jo.apply(this,arguments)}(h),Q=new vo(h);return T.register("authEvent",_e=>(we(null==_e?void 0:_e.authEvent,h,"invalid-auth-event"),{status:Q.onEvent(_e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:Q},p.iframes[h._key()]=T,Q})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Ga,{type:Ga},Q=>{var _e;const st=null===(_e=null==Q?void 0:Q[0])||void 0===_e?void 0:_e[Ga];void 0!==st&&p(!!st),tt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Fs(b){return Iu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ft()||K()||Xe()}};class Pu extends class rd{constructor(h){this.factorId=h}_process(h,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,T);case"signin":return this._finalizeSignIn(h,p.credential);default:return Fe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Pu(h)}_finalizeEnroll(h,p,T){return function Pa(b,h){return on(b,"POST","/v2/accounts/mfaEnrollment:finalize",tn(b,h))}(h,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function _r(b,h){return on(b,"POST","/v2/accounts/mfaSignIn:finalize",tn(b,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let id=(()=>{class b{constructor(){}static assertion(p){return Pu._fromCredential(p)}}return b.FACTOR_ID="phone",b})();var za="@firebase/auth";class sd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{var Q;h((null===(Q=T)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fl(b=(0,W.getApp)()){const h=(0,W._getProvider)(b,"auth");return h.isInitialized()?h.getImmediate():function at(b,h){const p=(0,W._getProvider)(b,"auth");if(p.isInitialized()){const Q=p.getImmediate(),_e=p.getOptions();if((0,D.vZ)(_e,null!=h?h:{}))return Q;tt(Q,"already-initialized")}return p.initialize({options:h})}(b,{popupRedirectResolver:Eo,persistence:[Yn,ka,Ci]})}!function od(b){(0,W._registerComponent)(new Te.wA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),{apiKey:Q,authDomain:_e}=T.options;return(st=>{we(Q&&!Q.includes(":"),"invalid-api-key",{appName:st.name}),we(!(null==_e?void 0:_e.includes(":")),"argument-error",{appName:st.name});const St={apiKey:Q,authDomain:_e,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(b)},en=new yn(st,St);return function Be(b,h){const p=(null==h?void 0:h.persistence)||[],T=(Array.isArray(p)?p:[p]).map(We);(null==h?void 0:h.errorMap)&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(en,p),en})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Te.wA("auth-internal",h=>{const p=Lt(h.getProvider("auth").getImmediate());return new sd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(za,"0.19.8",function lc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,W.registerVersion)(za,"0.19.8","esm2017")}("Browser")},2090:(xt,Ye,A)=>{A.d(Ye,{BH:()=>ot,LL:()=>$e,ZR:()=>Be,tV:()=>Ae,r3:()=>tn,Sg:()=>Ne,ne:()=>wn,vZ:()=>Bn,ZB:()=>ie,pd:()=>An,m9:()=>In,z$:()=>Ge,jU:()=>ut,ru:()=>De,d:()=>ke,xb:()=>an,w1:()=>ye,hl:()=>Fe,uI:()=>Ze,UG:()=>xe,b$:()=>tt,G6:()=>we,Mn:()=>he,xO:()=>On,zd:()=>Tn});const j=function(Ce){const le=[];let O=0;for(let x=0;x<Ce.length;x++){let M=Ce.charCodeAt(x);M<128?le[O++]=M:M<2048?(le[O++]=M>>6|192,le[O++]=63&M|128):55296==(64512&M)&&x+1<Ce.length&&56320==(64512&Ce.charCodeAt(x+1))?(M=65536+((1023&M)<<10)+(1023&Ce.charCodeAt(++x)),le[O++]=M>>18|240,le[O++]=M>>12&63|128,le[O++]=M>>6&63|128,le[O++]=63&M|128):(le[O++]=M>>12|224,le[O++]=M>>6&63|128,le[O++]=63&M|128)}return le},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,le){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let M=0;M<Ce.length;M+=3){const ee=Ce[M],Ie=M+1<Ce.length,pt=Ie?Ce[M+1]:0,Tt=M+2<Ce.length,Gt=Tt?Ce[M+2]:0;let rn=(15&pt)<<2|Gt>>6,lt=63&Gt;Tt||(lt=64,Ie||(rn=64)),x.push(O[ee>>2],O[(3&ee)<<4|pt>>4],O[rn],O[lt])}return x.join("")},encodeString(Ce,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(Ce):this.encodeByteArray(j(Ce),le)},decodeString(Ce,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(Ce):function(Ce){const le=[];let O=0,x=0;for(;O<Ce.length;){const M=Ce[O++];if(M<128)le[x++]=String.fromCharCode(M);else if(M>191&&M<224){const ee=Ce[O++];le[x++]=String.fromCharCode((31&M)<<6|63&ee)}else if(M>239&&M<365){const Tt=((7&M)<<18|(63&Ce[O++])<<12|(63&Ce[O++])<<6|63&Ce[O++])-65536;le[x++]=String.fromCharCode(55296+(Tt>>10)),le[x++]=String.fromCharCode(56320+(1023&Tt))}else{const ee=Ce[O++],Ie=Ce[O++];le[x++]=String.fromCharCode((15&M)<<12|(63&ee)<<6|63&Ie)}}return le.join("")}(this.decodeStringToByteArray(Ce,le))},decodeStringToByteArray(Ce,le){this.init_();const O=le?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let M=0;M<Ce.length;){const ee=O[Ce.charAt(M++)],pt=M<Ce.length?O[Ce.charAt(M)]:0;++M;const Gt=M<Ce.length?O[Ce.charAt(M)]:64;++M;const jt=M<Ce.length?O[Ce.charAt(M)]:64;if(++M,null==ee||null==pt||null==Gt||null==jt)throw Error();x.push(ee<<2|pt>>4),64!==Gt&&(x.push(pt<<4&240|Gt>>2),64!==jt&&x.push(Gt<<6&192|jt))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}},me=function(Ce){return function(Ce){const le=j(Ce);return Te.encodeByteArray(le,!0)}(Ce).replace(/\./g,"")},Ae=function(Ce){try{return Te.decodeString(Ce,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function ie(Ce,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return le}for(const O in le)!le.hasOwnProperty(O)||!be(O)||(Ce[O]=ie(Ce[O],le[O]));return Ce}function be(Ce){return"__proto__"!==Ce}class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,O)=>{this.resolve=le,this.reject=O})}wrapCallback(le){return(O,x)=>{O?this.reject(O):this.resolve(x),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(O):le(O,x))}}}function Ne(Ce,le){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=le||"demo-project",M=Ce.iat||0,ee=Ce.sub||Ce.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:M,exp:M+3600,auth_time:M,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Ie)),""].join(".")}function Ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ce){return!1}}function ut(){return"object"==typeof self&&self.self===self}function De(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ge().indexOf("Electron/")>=0}function ye(){const Ce=Ge();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function he(){return Ge().indexOf("MSAppHost/")>=0}function we(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){return"object"==typeof indexedDB}class Be extends Error{constructor(le,O,x){super(O),this.code=le,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(le,O,x){this.service=le,this.serviceName=O,this.errors=x}create(le,...O){const x=O[0]||{},M=`${this.service}/${le}`,ee=this.errors[le],Ie=ee?function Et(Ce,le){return Ce.replace(Nt,(O,x)=>{const M=le[x];return null!=M?String(M):`<${x}?>`})}(ee,x):"Error";return new Be(M,`${this.serviceName}: ${Ie} (${M}).`,x)}}const Nt=/\{\$([^}]+)}/g;function tn(Ce,le){return Object.prototype.hasOwnProperty.call(Ce,le)}function an(Ce){for(const le in Ce)if(Object.prototype.hasOwnProperty.call(Ce,le))return!1;return!0}function Bn(Ce,le){if(Ce===le)return!0;const O=Object.keys(Ce),x=Object.keys(le);for(const M of O){if(!x.includes(M))return!1;const ee=Ce[M],Ie=le[M];if(Pn(ee)&&Pn(Ie)){if(!Bn(ee,Ie))return!1}else if(ee!==Ie)return!1}for(const M of x)if(!O.includes(M))return!1;return!0}function Pn(Ce){return null!==Ce&&"object"==typeof Ce}function On(Ce){const le=[];for(const[O,x]of Object.entries(Ce))Array.isArray(x)?x.forEach(M=>{le.push(encodeURIComponent(O)+"="+encodeURIComponent(M))}):le.push(encodeURIComponent(O)+"="+encodeURIComponent(x));return le.length?"&"+le.join("&"):""}function Tn(Ce){const le={};return Ce.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[M,ee]=x.split("=");le[decodeURIComponent(M)]=decodeURIComponent(ee)}}),le}function An(Ce){const le=Ce.indexOf("?");if(!le)return"";const O=Ce.indexOf("#",le);return Ce.substring(le,O>0?O:void 0)}function wn(Ce,le){const O=new Ht(Ce,le);return O.subscribe.bind(O)}class Ht{constructor(le,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{le(this)}).catch(x=>{this.error(x)})}next(le){this.forEachObserver(O=>{O.next(le)})}error(le){this.forEachObserver(O=>{O.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,O,x){let M;if(void 0===le&&void 0===O&&void 0===x)throw new Error("Missing Observer.");M=function kn(Ce,le){if("object"!=typeof Ce||null===Ce)return!1;for(const O of le)if(O in Ce&&"function"==typeof Ce[O])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:O,complete:x},void 0===M.next&&(M.next=Mn),void 0===M.error&&(M.error=Mn),void 0===M.complete&&(M.complete=Mn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch(Ie){}}),this.observers.push(M),ee}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,le)}sendOne(le,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{O(this.observers[le])}catch(x){"undefined"!=typeof console&&console.error&&console.error(x)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}function In(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},2542:(xt,Ye,A)=>{A.d(Ye,{e:()=>me});var c=A(3578),Te=(A(2090),A(9681),A(1877),A(4859),A(5e3)),Ve=A(1205);let me=(()=>{class Ae{constructor(ie){this.afAuth=ie,this.authState=null,this.afAuth.authState.subscribe(be=>this.authState=be)}get authenticated(){return null!==this.authState}get currentUserId(){return this.authenticated?this.authState.uid:null}login(){const ie=new c.N,be=(0,c.n)();(0,c.c)(be,ie).then(ot=>{const Ge=c.N.credentialFromResult(ot).accessToken;window.localStorage.setItem(ot.user.uid,Ge)}).catch(ot=>{c.N.credentialFromError(ot)})}logout(){const ie=(0,c.n)();(0,c.x)(ie).then(()=>{}).catch(be=>{})}}return Ae.\u0275fac=function(ie){return new(ie||Ae)(Te.LFG(Ve.zQ))},Ae.\u0275prov=Te.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},3513:(xt,Ye,A)=>{A.r(Ye),A.d(Ye,{PostsModule:()=>He});var c=A(994),D=A(5861),W=A(8746),j=A(5e3),Re=A(2542),Te=A(4004),Ve=A(7407);let me=(()=>{class We{constructor(Be){this.afs=Be,this.postsCollection=this.afs.collection("posts",$e=>$e.orderBy("published","desc"))}getPosts(){return this.postsCollection.snapshotChanges().pipe((0,Te.U)(Be=>Be.map($e=>{const Et=$e.payload.doc.data();return Object.assign({id:$e.payload.doc.id},Et)})))}getPostData(Be){return this.postDoc=this.afs.doc(`posts/${Be}`),this.postDoc.valueChanges()}create(Be){this.postsCollection.add(Be)}getPost(Be){return this.afs.doc(`posts/${Be}`)}update(Be,$e){return this.getPost(Be).update($e)}delete(Be){return this.getPost(Be).delete()}}return We.\u0275fac=function(Be){return new(Be||We)(j.LFG(Ve.ST))},We.\u0275prov=j.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();var Ae=A(4585),de=A(9212),ie=A(5899),be=A(4106),ot=A(7531),Ne=A(3075),Ge=A(7423),Ze=A(9808);let xe=(()=>{class We{constructor(Be,$e,Et){this.auth=Be,this.postService=$e,this.storage=Et,this.buttonText="Create Post"}ngOnInit(){}createPost(){const Be={author:this.auth.authState.displayName||this.auth.authState.email,authorId:this.auth.currentUserId,content:this.content,image:this.image,published:new Date,title:this.title};this.postService.create(Be),this.title="",this.content="",this.buttonText="Post Created!",setTimeout(()=>this.buttonText="Create Post",3e3)}uploadImage(Be){var $e=this;return(0,D.Z)(function*(){const Et=Be.target.files[0],Nt=`posts/${Et.name}`;if("image"!==Et.type.split("/")[0])return alert("Only image files.");{const Zt=$e.storage.upload(Nt,Et),dt=$e.storage.ref(Nt);$e.uploadPercent=Zt.percentageChanges(),console.log("Image uploaded!"),Zt.snapshotChanges().pipe((0,W.x)(()=>{$e.downloadURL=dt.getDownloadURL(),$e.downloadURL.subscribe(rt=>$e.image=rt)})).subscribe()}})()}}return We.\u0275fac=function(Be){return new(Be||We)(j.Y36(Re.e),j.Y36(me),j.Y36(Ae.Q1))},We.\u0275cmp=j.Xpm({type:We,selectors:[["app-post-dashboard"]],decls:21,vars:10,consts:[["type","file","name","file","id","file",3,"change"],[3,"hidden"],["mode","determinate",3,"value"],[3,"src"],["matInput","","placeholder","Post Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Post Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(Be,$e){1&Be&&(j.TgZ(0,"section"),j.TgZ(1,"mat-accordion"),j.TgZ(2,"mat-expansion-panel"),j.TgZ(3,"mat-expansion-panel-header"),j.TgZ(4,"mat-panel-title"),j._uU(5," Create a Post "),j.qZA(),j.qZA(),j.TgZ(6,"div"),j.TgZ(7,"input",0),j.NdJ("change",function(Nt){return $e.uploadImage(Nt)}),j.qZA(),j.TgZ(8,"div",1),j._UZ(9,"mat-progress-bar",2),j.ALo(10,"async"),j.qZA(),j.TgZ(11,"div",1),j._UZ(12,"img",3),j.qZA(),j.qZA(),j.TgZ(13,"mat-form-field"),j.TgZ(14,"input",4),j.NdJ("ngModelChange",function(Nt){return $e.title=Nt}),j.qZA(),j.qZA(),j._UZ(15,"br"),j.TgZ(16,"mat-form-field"),j.TgZ(17,"textarea",5),j.NdJ("ngModelChange",function(Nt){return $e.content=Nt}),j.qZA(),j.qZA(),j._UZ(18,"br"),j.TgZ(19,"button",6),j.NdJ("click",function(){return $e.createPost()}),j._uU(20),j.qZA(),j.qZA(),j.qZA(),j.qZA()),2&Be&&(j.xp6(8),j.Q6J("hidden",!$e.uploadPercent),j.xp6(1),j.s9C("value",j.lcZ(10,8,$e.uploadPercent)),j.xp6(2),j.Q6J("hidden",!$e.image),j.xp6(1),j.Q6J("src",$e.image||"//:0",j.LSH),j.xp6(2),j.Q6J("ngModel",$e.title),j.xp6(3),j.Q6J("ngModel",$e.content),j.xp6(2),j.Q6J("disabled",!$e.title||!$e.content),j.xp6(1),j.Oqu($e.buttonText))},directives:[de.pp,de.ib,de.yz,de.yK,ie.pW,be.KE,ot.Nt,Ne.Fj,Ne.JJ,Ne.On,Ge.lW],pipes:[Ze.Ov],styles:["section[_ngcontent-%COMP%]{max-width:700px;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{width:100%}image[_ngcontent-%COMP%]{width:100%}"]}),We})();var ut=A(9224),De=A(8326);function tt(We,at){if(1&We){const Be=j.EpF();j.TgZ(0,"mat-card-actions",8),j.TgZ(1,"button",9),j.NdJ("click",function(){return j.CHM(Be),j.oxw(2).editing=!0}),j.TgZ(2,"mat-icon"),j._uU(3,"edit"),j.qZA(),j.qZA(),j.TgZ(4,"button",9),j.NdJ("click",function(){return j.CHM(Be),j.oxw(2).delete()}),j.TgZ(5,"mat-icon"),j._uU(6,"delete"),j.qZA(),j.qZA(),j.qZA()}}function ke(We,at){if(1&We){const Be=j.EpF();j.ynx(0),j.TgZ(1,"div",1),j.TgZ(2,"mat-card"),j.TgZ(3,"h2"),j._uU(4,"Update Post"),j.qZA(),j.TgZ(5,"mat-form-field"),j.TgZ(6,"input",2),j.NdJ("ngModelChange",function(Et){return j.CHM(Be),j.oxw().post.title=Et}),j.qZA(),j.qZA(),j._UZ(7,"br"),j.TgZ(8,"mat-form-field"),j.TgZ(9,"textarea",3),j.NdJ("ngModelChange",function(Et){return j.CHM(Be),j.oxw().post.content=Et}),j.qZA(),j.qZA(),j._UZ(10,"br"),j.TgZ(11,"button",4),j.NdJ("click",function(){return j.CHM(Be),j.oxw().updatePost()}),j._uU(12,"Save"),j.qZA(),j.TgZ(13,"button",5),j.NdJ("click",function(){return j.CHM(Be),j.oxw().editing=!1}),j._uU(14,"Cancel"),j.qZA(),j.qZA(),j.qZA(),j.TgZ(15,"div",1),j.TgZ(16,"mat-card"),j._UZ(17,"img",6),j.TgZ(18,"p"),j._uU(19),j.ALo(20,"date"),j.qZA(),j.TgZ(21,"mat-card-content"),j.TgZ(22,"h2"),j._uU(23),j.qZA(),j.TgZ(24,"p"),j._uU(25),j.qZA(),j.qZA(),j.YNc(26,tt,7,0,"mat-card-actions",7),j.qZA(),j.qZA(),j.BQk()}if(2&We){const Be=j.oxw();j.xp6(1),j.Q6J("hidden",!Be.editing),j.xp6(5),j.Q6J("ngModel",Be.post.title),j.xp6(3),j.Q6J("ngModel",Be.post.content),j.xp6(6),j.Q6J("hidden",Be.editing),j.xp6(2),j.s9C("src",Be.post.image,j.LSH),j.s9C("alt",Be.post.title),j.xp6(2),j.AsE("posted by ",Be.post.author," \u2022 ",j.xi3(20,11,Be.post.published.toDate(),"fullDate"),""),j.xp6(4),j.Oqu(Be.post.title),j.xp6(2),j.Oqu(Be.post.content),j.xp6(1),j.Q6J("ngIf",Be.auth.currentUserId===Be.post.authorId)}}let ye=(()=>{class We{constructor(Be,$e,Et,Nt){this.route=Be,this.router=$e,this.auth=Et,this.postService=Nt,this.editing=!1}ngOnInit(){this.getPost(),console.log(this)}getPost(){const Be=this.route.snapshot.paramMap.get("id");return this.postService.getPostData(Be).subscribe($e=>this.post=$e)}updatePost(){const Be={title:this.post.title,content:this.post.content},$e=this.route.snapshot.paramMap.get("id");this.postService.update($e,Be),this.editing=!1}delete(){const Be=this.route.snapshot.paramMap.get("id");this.postService.delete(Be),this.router.navigate(["/blog"])}}return We.\u0275fac=function(Be){return new(Be||We)(j.Y36(c.gz),j.Y36(c.F0),j.Y36(Re.e),j.Y36(me))},We.\u0275cmp=j.Xpm({type:We,selectors:[["app-post-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"hidden"],["matInput","","placeholder","Post Title",3,"ngModel","ngModelChange"],["matInput","","placeholder","Post Content","rows","10",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"click"],["mat-button","",3,"click"],[3,"src","alt"],["align","end",4,"ngIf"],["align","end"],["mat-icon-button","",3,"click"]],template:function(Be,$e){1&Be&&j.YNc(0,ke,27,14,"ng-container",0),2&Be&&j.Q6J("ngIf",$e.post)},directives:[Ze.O5,ut.a8,be.KE,ot.Nt,Ne.Fj,Ne.JJ,Ne.On,Ge.lW,ut.dn,ut.hq,De.Hw],pipes:[Ze.uU],styles:["mat-card[_ngcontent-%COMP%]{margin:10px auto;max-width:700px}img[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),We})();function he(We,at){if(1&We){const Be=j.EpF();j.TgZ(0,"mat-card-actions",4),j.TgZ(1,"button",5),j.NdJ("click",function(){j.CHM(Be);const Et=j.oxw().$implicit;return j.oxw().delete(Et.id)}),j.TgZ(2,"mat-icon"),j._uU(3,"delete"),j.qZA(),j.qZA(),j.qZA()}}function ze(We,at){if(1&We&&(j.TgZ(0,"mat-card"),j.TgZ(1,"mat-card-content",1),j._UZ(2,"img",2),j.TgZ(3,"h2"),j._uU(4),j.qZA(),j.TgZ(5,"p"),j.TgZ(6,"small"),j._uU(7),j.ALo(8,"date"),j.qZA(),j.qZA(),j.qZA(),j.YNc(9,he,4,0,"mat-card-actions",3),j.qZA()),2&We){const Be=at.$implicit,$e=j.oxw();j.xp6(1),j.s9C("routerLink",Be.id),j.xp6(1),j.s9C("src",Be.image,j.LSH),j.s9C("alt",Be.title),j.xp6(2),j.Oqu(Be.title),j.xp6(3),j.AsE("Posted by ",Be.author," \u2022 on ",j.xi3(8,7,Be.published.toDate(),"fullDate")," "),j.xp6(2),j.Q6J("ngIf",$e.auth.currentUserId===Be.authorId)}}let we=(()=>{class We{constructor(Be,$e){this.postService=Be,this.auth=$e}ngOnInit(){this.posts=this.postService.getPosts(),console.log(this)}delete(Be){this.postService.delete(Be)}}return We.\u0275fac=function(Be){return new(Be||We)(j.Y36(me),j.Y36(Re.e))},We.\u0275cmp=j.Xpm({type:We,selectors:[["app-post-list"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"src","alt"],["align","end",4,"ngIf"],["align","end"],["mat-icon-button","",3,"click"]],template:function(Be,$e){1&Be&&(j.TgZ(0,"section"),j.YNc(1,ze,10,10,"mat-card",0),j.ALo(2,"async"),j.qZA()),2&Be&&(j.xp6(1),j.Q6J("ngForOf",j.lcZ(2,1,$e.posts)))},directives:[Ze.sg,ut.a8,ut.dn,c.rH,Ze.O5,ut.hq,Ge.lW,De.Hw],pipes:[Ze.Ov,Ze.uU],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));grid-auto-rows:auto;grid-gap:10px;margin:0 auto;max-width:95%}mat-card[_ngcontent-%COMP%]{margin:10px 0;max-width:700px}img[_ngcontent-%COMP%]{width:100%}span[_ngcontent-%COMP%]:focus{outline:none;border:0}"]}),We})();var Fe=A(2426);const Me=[{path:"dashboard",component:xe},{path:"",component:we},{path:":id",component:ye}];let He=(()=>{class We{}return We.\u0275fac=function(Be){return new(Be||We)},We.\u0275mod=j.oAB({type:We}),We.\u0275inj=j.cJS({providers:[me],imports:[[Fe.m,c.Bz.forChild(Me)]]}),We})()},2426:(xt,Ye,A)=>{A.d(Ye,{m:()=>ot});var c=A(994),D=A(3075),W=A(9808),j=A(7423),Re=A(4594),Te=A(9212),Ve=A(7531),me=A(5899),Ae=A(9224),de=A(8326),ie=A(5e3);let be=(()=>{class Ne{}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)},Ne.\u0275mod=ie.oAB({type:Ne}),Ne.\u0275inj=ie.cJS({imports:[[j.ot,Re.g0,Te.To,Ve.c,me.Cv,Ae.QW,de.Ps],j.ot,Re.g0,Te.To,Ve.c,me.Cv,Ae.QW,de.Ps]}),Ne})(),ot=(()=>{class Ne{}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)},Ne.\u0275mod=ie.oAB({type:Ne}),Ne.\u0275inj=ie.cJS({imports:[[W.ez,D.u5,be,c.Bz,de.Ps],W.ez,D.u5,be,c.Bz,de.Ps]}),Ne})()},6281:(xt,Ye,A)=>{var c=A(2313),D=A(5e3),W=A(6360),j=A(2011),Re=A(7407),Te=A(4585),Ve=A(1205);const me_firebase={apiKey:"AIzaSyCeTprqqdszFXbrlba1jDW9pbxn9d0pBNk",authDomain:"ng-blog-9075a.firebaseapp.com",databaseURL:"https://ng-blog-9075a-default-rtdb.firebaseio.com",projectId:"ng-blog-9075a",storageBucket:"ng-blog-9075a.appspot.com",messagingSenderId:"1058136630544",appId:"1:1058136630544:web:8029fdadcb4ed253bb3195",measurementId:"G-4FLQM4M51D"};var Ae=A(2542),de=A(4594),ie=A(994),be=A(9808),ot=A(7423);function Ne(ze,we){if(1&ze){const Fe=D.EpF();D.TgZ(0,"div"),D.TgZ(1,"button",5),D._uU(2,"Write a Post"),D.qZA(),D.TgZ(3,"button",6),D.NdJ("click",function(){return D.CHM(Fe),D.oxw().auth.logout()}),D._uU(4,"Logout"),D.qZA(),D.qZA()}}function Ge(ze,we){if(1&ze){const Fe=D.EpF();D.TgZ(0,"button",6),D.NdJ("click",function(){return D.CHM(Fe),D.oxw().auth.login()}),D._uU(1,"Login with Google"),D.qZA()}}let Ze=(()=>{class ze{constructor(Fe){this.auth=Fe}ngOnInit(){}}return ze.\u0275fac=function(Fe){return new(Fe||ze)(D.Y36(Ae.e))},ze.\u0275cmp=D.Xpm({type:ze,selectors:[["app-navbar"]],decls:9,vars:4,consts:[["color","primary"],["routerLink",""],[1,"spacer"],[4,"ngIf","ngIfElse"],["showLogin",""],["mat-raised-button","","color","accent","routerLink","dashboard"],["mat-button","",3,"click"]],template:function(Fe,Me){if(1&Fe&&(D.TgZ(0,"mat-toolbar",0),D.TgZ(1,"mat-toolbar-row"),D.TgZ(2,"span",1),D._uU(3,"ng-blog"),D.qZA(),D._UZ(4,"span",2),D.YNc(5,Ne,5,0,"div",3),D.ALo(6,"async"),D.YNc(7,Ge,2,0,"ng-template",null,4,D.W1O),D.qZA(),D.qZA()),2&Fe){const He=D.MAs(8);D.xp6(5),D.Q6J("ngIf",D.lcZ(6,2,Me.auth.afAuth.authState))("ngIfElse",He)}},directives:[de.Ye,de.rD,ie.rH,be.O5,ot.lW],pipes:[be.Ov],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}span[_ngcontent-%COMP%]:focus{outline:none;border:0}span[_ngcontent-%COMP%]{cursor:pointer}"]}),ze})(),xe=(()=>{class ze{constructor(){this.title="app"}}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275cmp=D.Xpm({type:ze,selectors:[["app-root"]],decls:2,vars:0,template:function(Fe,Me){1&Fe&&(D._UZ(0,"app-navbar"),D._UZ(1,"router-outlet"))},directives:[Ze,ie.lC],encapsulation:2}),ze})(),ut=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=D.oAB({type:ze}),ze.\u0275inj=D.cJS({providers:[Ae.e],imports:[[be.ez]]}),ze})();var De=A(2426),tt=A(3513);const ke=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",loadChildren:()=>Promise.resolve().then(A.bind(A,3513)).then(ze=>ze.PostsModule)}];let ye=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=D.oAB({type:ze}),ze.\u0275inj=D.cJS({imports:[[ie.Bz.forRoot(ke)],ie.Bz]}),ze})(),he=(()=>{class ze{}return ze.\u0275fac=function(Fe){return new(Fe||ze)},ze.\u0275mod=D.oAB({type:ze,bootstrap:[xe]}),ze.\u0275inj=D.cJS({providers:[],imports:[[j.hO.initializeApp(me_firebase),Re.yb,Ve.ww,Te.TE,c.b2,W.PW,ut,De.m,tt.PostsModule,ye]]}),ze})();c.q6().bootstrapModule(he).catch(ze=>console.error(ze))},127:(xt,Ye,A)=>{A.d(Ye,{Z:()=>c.Z});var c=A(3942);c.Z.registerVersion("firebase","9.6.6","app-compat")},5881:(xt,Ye,A)=>{A.r(Ye);var c=A(5861),D=A(3942),W=A(3578),j=A(2090),Ve=(A(9681),A(1877),A(4859));function me(){return window}function ie(){return(ie=(0,c.Z)(function*(lt,qe,K){var ae;const{BuildInfo:oe}=me();(0,W.ap)(qe.sessionId,"AuthEvent did not contain a session ID");const Le=yield ut(qe.sessionId),mt={};return(0,W.aq)()?mt.ibi=oe.packageName:(0,W.ar)()?mt.apn=oe.packageName:(0,W.as)(lt,"operation-not-supported-in-this-environment"),oe.displayName&&(mt.appDisplayName=oe.displayName),mt.sessionId=Le,(0,W.at)(lt,K,qe.type,void 0,null!==(ae=qe.eventId)&&void 0!==ae?ae:void 0,mt)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(lt){const{BuildInfo:qe}=me(),K={};(0,W.aq)()?K.iosBundleId=qe.packageName:(0,W.ar)()?K.androidPackageName=qe.packageName:(0,W.as)(lt,"operation-not-supported-in-this-environment"),yield(0,W.au)(lt,K)})).apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(lt,qe,K){const{cordova:ae}=me();let oe=()=>{};try{yield new Promise((Le,mt)=>{let Ut=null;function Xe(){var Se;Le();const ft=null===(Se=ae.plugins.browsertab)||void 0===Se?void 0:Se.close;"function"==typeof ft&&ft(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function Ee(){Ut||(Ut=window.setTimeout(()=>{mt((0,W.av)(lt,"redirect-cancelled-by-user"))},2e3))}function se(){"visible"===(null==document?void 0:document.visibilityState)&&Ee()}qe.addPassiveListener(Xe),document.addEventListener("resume",Ee,!1),(0,W.ar)()&&document.addEventListener("visibilitychange",se,!1),oe=()=>{qe.removePassiveListener(Xe),document.removeEventListener("resume",Ee,!1),document.removeEventListener("visibilitychange",se,!1),Ut&&window.clearTimeout(Ut)}})}finally{oe()}})).apply(this,arguments)}function ut(lt){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(lt){const qe=tt(lt),K=yield crypto.subtle.digest("SHA-256",qe);return Array.from(new Uint8Array(K)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tt(lt){if((0,W.ap)(/[0-9a-zA-Z]+/.test(lt),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(lt);const qe=new ArrayBuffer(lt.length),K=new Uint8Array(qe);for(let ae=0;ae<lt.length;ae++)K[ae]=lt.charCodeAt(ae);return K}class ye extends W.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(qe=>{this.resolveInialized=qe})}addPassiveListener(qe){this.passiveListeners.add(qe)}removePassiveListener(qe){this.passiveListeners.delete(qe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(qe){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(qe)),super.onEvent(qe)}initialized(){var qe=this;return(0,c.Z)(function*(){yield qe.initPromise})()}}function we(lt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(lt){const qe=yield We()._get(at(lt));return qe&&(yield We()._remove(at(lt))),qe})).apply(this,arguments)}function He(){const lt=[],qe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const ae=Math.floor(Math.random()*qe.length);lt.push(qe.charAt(ae))}return lt.join("")}function We(){return(0,W.ax)(W.b)}function at(lt){return(0,W.ay)("authEvent",lt.config.apiKey,lt.name)}function Et(lt){if(!(null==lt?void 0:lt.includes("?")))return{};const[qe,...K]=lt.split("?");return(0,j.zd)(K.join("?"))}function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.av)("no-auth-event")}}function tn(){var lt;return(null===(lt=null==self?void 0:self.location)||void 0===lt?void 0:lt.protocol)||null}function an(lt=(0,j.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()||!lt.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tn(){try{const lt=self.localStorage,qe=W.aG();if(lt)return lt.setItem(qe,"1"),lt.removeItem(qe),!function On(lt=(0,j.z$)()){return function Bn(){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Pn(lt=(0,j.z$)()){return/Edge\/\d+/.test(lt)}(lt)}()||(0,j.hl)()}catch(lt){return An()&&(0,j.hl)()}return!1}function An(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function on(){return"http:"===tn()||"https:"===tn()}()||(0,j.ru)()||an())&&!function Zn(){return(0,j.b$)()||(0,j.UG)()}()&&Tn()&&!An()}function wn(){return an()&&"undefined"!=typeof document}function zn(){return(zn=(0,c.Z)(function*(){return!!wn()&&new Promise(lt=>{const qe=setTimeout(()=>{lt(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(qe),lt(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=W.aw,Xt="persistence";function Dn(lt){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(lt){yield lt._initializationPromise;const qe=At(),K=W.ay(Xt,lt.config.apiKey,lt.name);qe&&qe.setItem(K,lt._getPersistence())})).apply(this,arguments)}function At(){var lt;try{return(null===(lt=function kn(){return"undefined"!=typeof window?window:null}())||void 0===lt?void 0:lt.sessionStorage)||null}catch(qe){return null}}const je=W.aw;class it{constructor(){this.browserResolver=W.ax(W.k),this.cordovaResolver=W.ax(class Zt{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aA}_initialize(qe){var K=this;return(0,c.Z)(function*(){const ae=qe._key();let oe=K.eventManagers.get(ae);return oe||(oe=new ye(qe),K.eventManagers.set(ae,oe),K.attachCallbackListeners(qe,oe)),oe})()}_openPopup(qe){(0,W.as)(qe,"operation-not-supported-in-this-environment")}_openRedirect(qe,K,ae,oe){var Le=this;return(0,c.Z)(function*(){!function xe(lt){var qe,K,ae,oe,Le,mt,Ut,Xe,Ee,se;const Se=me();(0,W.aw)("function"==typeof(null===(qe=null==Se?void 0:Se.universalLinks)||void 0===qe?void 0:qe.subscribe),lt,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aw)(void 0!==(null===(K=null==Se?void 0:Se.BuildInfo)||void 0===K?void 0:K.packageName),lt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aw)("function"==typeof(null===(Le=null===(oe=null===(ae=null==Se?void 0:Se.cordova)||void 0===ae?void 0:ae.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Le?void 0:Le.openUrl),lt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aw)("function"==typeof(null===(Xe=null===(Ut=null===(mt=null==Se?void 0:Se.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===Xe?void 0:Xe.isAvailable),lt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aw)("function"==typeof(null===(se=null===(Ee=null==Se?void 0:Se.cordova)||void 0===Ee?void 0:Ee.InAppBrowser)||void 0===se?void 0:se.open),lt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(qe);const mt=yield Le._initialize(qe);yield mt.initialized(),mt.resetRedirect(),(0,W.aB)(),yield Le._originValidation(qe);const Ut=function he(lt,qe,K=null){return{type:qe,eventId:K,urlResponse:null,sessionId:He(),postBody:null,tenantId:lt.tenantId,error:(0,W.av)(lt,"no-auth-event")}}(qe,ae,oe);yield function ze(lt,qe){return We()._set(at(lt),qe)}(qe,Ut);const Xe=yield function de(lt,qe,K){return ie.apply(this,arguments)}(qe,Ut,K),Ee=yield function Ne(lt){const{cordova:qe}=me();return new Promise(K=>{qe.plugins.browsertab.isAvailable(ae=>{let oe=null;ae?qe.plugins.browsertab.openUrl(lt):oe=qe.InAppBrowser.open(lt,(0,W.ao)()?"_blank":"_system","location=yes"),K(oe)})})}(Xe);return function Ge(lt,qe,K){return Ze.apply(this,arguments)}(qe,mt,Ee)})()}_isIframeWebStorageSupported(qe,K){throw new Error("Method not implemented.")}_originValidation(qe){const K=qe._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function be(lt){return ot.apply(this,arguments)}(qe)),this.originValidationPromises[K]}attachCallbackListeners(qe,K){const{universalLinks:ae,handleOpenURL:oe,BuildInfo:Le}=me(),mt=setTimeout((0,c.Z)(function*(){yield we(qe),K.onEvent(rt())}),500),Ut=function(){var se=(0,c.Z)(function*(Se){clearTimeout(mt);const ft=yield we(qe);let wt=null;ft&&(null==Se?void 0:Se.url)&&(wt=function Me(lt,qe){var K,ae;const oe=function $e(lt){const qe=Et(lt),K=qe.link?decodeURIComponent(qe.link):void 0,ae=Et(K).link,oe=qe.deep_link_id?decodeURIComponent(qe.deep_link_id):void 0;return Et(oe).link||oe||ae||K||lt}(qe);if(oe.includes("/__/auth/callback")){const Le=Et(oe),mt=Le.firebaseError?function Be(lt){try{return JSON.parse(lt)}catch(qe){return null}}(decodeURIComponent(Le.firebaseError)):null,Ut=null===(ae=null===(K=null==mt?void 0:mt.code)||void 0===K?void 0:K.split("auth/"))||void 0===ae?void 0:ae[1],Xe=Ut?(0,W.av)(Ut):null;return Xe?{type:lt.type,eventId:lt.eventId,tenantId:lt.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:lt.type,eventId:lt.eventId,tenantId:lt.tenantId,sessionId:lt.sessionId,urlResponse:oe,postBody:null}}return null}(ft,Se.url)),K.onEvent(wt||rt())});return function(ft){return se.apply(this,arguments)}}();void 0!==ae&&"function"==typeof ae.subscribe&&ae.subscribe(null,Ut);const Xe=oe,Ee=`${Le.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var se=(0,c.Z)(function*(Se){if(Se.toLowerCase().startsWith(Ee)&&Ut({url:Se}),"function"==typeof Xe)try{Xe(Se)}catch(ft){console.error(ft)}});return function(Se){return se.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aA}_initialize(qe){var K=this;return(0,c.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(qe)})()}_openPopup(qe,K,ae,oe){var Le=this;return(0,c.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(qe,K,ae,oe)})()}_openRedirect(qe,K,ae,oe){var Le=this;return(0,c.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(qe,K,ae,oe)})()}_isIframeWebStorageSupported(qe,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(qe,K)}_originValidation(qe){return this.assertedUnderlyingResolver._originValidation(qe)}get _shouldInitProactively(){return wn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var qe=this;return(0,c.Z)(function*(){if(qe.underlyingResolver)return;const K=yield function Ht(){return zn.apply(this,arguments)}();qe.underlyingResolver=K?qe.cordovaResolver:qe.browserResolver})()}}function ln(lt){return lt.unwrap()}function vn(lt){return Un(lt)}function Un(lt){const{_tokenResponse:qe}=lt instanceof j.ZR?lt.customData:lt;if(!qe)return null;if(!(lt instanceof j.ZR)&&"temporaryProof"in qe&&"phoneNumber"in qe)return W.P.credentialFromResult(lt);const K=qe.providerId;if(!K||K===W.o.PASSWORD)return null;let ae;switch(K){case W.o.GOOGLE:ae=W.N;break;case W.o.FACEBOOK:ae=W.M;break;case W.o.GITHUB:ae=W.Q;break;case W.o.TWITTER:ae=W.V;break;default:const{oauthIdToken:oe,oauthAccessToken:Le,oauthTokenSecret:mt,pendingToken:Ut,nonce:Xe}=qe;return Le||mt||oe||Ut?Ut?K.startsWith("saml.")?W.aJ._create(K,Ut):W.I._fromParams({providerId:K,signInMethod:K,pendingToken:Ut,idToken:oe,accessToken:Le}):new W.T(K).credential({idToken:oe,accessToken:Le,rawNonce:Xe}):null}return lt instanceof j.ZR?ae.credentialFromError(lt):ae.credentialFromResult(lt)}function In(lt,qe){return qe.catch(K=>{throw K instanceof j.ZR&&function Hn(lt,qe){var K;const ae=null===(K=qe.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===qe.code)qe.resolver=new O(lt,W.am(lt,qe));else if(ae){const oe=Un(qe),Le=qe;oe&&(Le.credential=oe,Le.tenantId=ae.tenantId||void 0,Le.email=ae.email||void 0,Le.phoneNumber=ae.phoneNumber||void 0)}}(lt,K),K}).then(K=>{const oe=K.user;return{operationType:K.operationType,credential:vn(K),additionalUserInfo:W.ak(K),user:x.getOrCreate(oe)}})}function Ce(lt,qe){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(lt,qe){const K=yield qe;return{verificationId:K.verificationId,confirm:ae=>In(lt,K.confirm(ae))}})).apply(this,arguments)}class O{constructor(qe,K){this.resolver=K,this.auth=function fn(lt){return lt.wrapped()}(qe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(qe){return In(ln(this.auth),this.resolver.resolveSignIn(qe))}}class x{constructor(qe){this._delegate=qe,this.multiFactor=W.an(qe)}static getOrCreate(qe){return x.USER_MAP.has(qe)||x.USER_MAP.set(qe,new x(qe)),x.USER_MAP.get(qe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(qe){return this._delegate.getIdTokenResult(qe)}getIdToken(qe){return this._delegate.getIdToken(qe)}linkAndRetrieveDataWithCredential(qe){return this.linkWithCredential(qe)}linkWithCredential(qe){var K=this;return(0,c.Z)(function*(){return In(K.auth,W.Y(K._delegate,qe))})()}linkWithPhoneNumber(qe,K){var ae=this;return(0,c.Z)(function*(){return Ce(ae.auth,W.l(ae._delegate,qe,K))})()}linkWithPopup(qe){var K=this;return(0,c.Z)(function*(){return In(K.auth,W.d(K._delegate,qe,it))})()}linkWithRedirect(qe){var K=this;return(0,c.Z)(function*(){return yield Dn(W.aC(K.auth)),W.g(K._delegate,qe,it)})()}reauthenticateAndRetrieveDataWithCredential(qe){return this.reauthenticateWithCredential(qe)}reauthenticateWithCredential(qe){var K=this;return(0,c.Z)(function*(){return In(K.auth,W.Z(K._delegate,qe))})()}reauthenticateWithPhoneNumber(qe,K){return Ce(this.auth,W.r(this._delegate,qe,K))}reauthenticateWithPopup(qe){return In(this.auth,W.e(this._delegate,qe,it))}reauthenticateWithRedirect(qe){var K=this;return(0,c.Z)(function*(){return yield Dn(W.aC(K.auth)),W.h(K._delegate,qe,it)})()}sendEmailVerification(qe){return W.aa(this._delegate,qe)}unlink(qe){var K=this;return(0,c.Z)(function*(){return yield W.aj(K._delegate,qe),K})()}updateEmail(qe){return W.af(this._delegate,qe)}updatePassword(qe){return W.ag(this._delegate,qe)}updatePhoneNumber(qe){return W.u(this._delegate,qe)}updateProfile(qe){return W.ae(this._delegate,qe)}verifyBeforeUpdateEmail(qe,K){return W.ab(this._delegate,qe,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}x.USER_MAP=new WeakMap;const M=W.aw;let ee=(()=>{class lt{constructor(K,ae){if(this.app=K,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=K.options;M(oe,"invalid-api-key",{appName:K.name}),M(oe,"invalid-api-key",{appName:K.name});const Le="undefined"!=typeof window?it:void 0;this._delegate=ae.initialize({options:{persistence:pt(oe,K.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(W.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?x.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,ae){W.E(this._delegate,K,ae)}applyActionCode(K){return W.a1(this._delegate,K)}checkActionCode(K){return W.a2(this._delegate,K)}confirmPasswordReset(K,ae){return W.a0(this._delegate,K,ae)}createUserWithEmailAndPassword(K,ae){var oe=this;return(0,c.Z)(function*(){return In(oe._delegate,W.a4(oe._delegate,K,ae))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return W.a9(this._delegate,K)}isSignInWithEmailLink(K){return W.a7(this._delegate,K)}getRedirectResult(){var K=this;return(0,c.Z)(function*(){M(_n(),K._delegate,"operation-not-supported-in-this-environment");const ae=yield W.j(K._delegate,it);return ae?In(K._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function Ct(lt,qe){(0,W.aC)(lt)._logFramework(qe)}(this._delegate,K)}onAuthStateChanged(K,ae,oe){const{next:Le,error:mt,complete:Ut}=Ie(K,ae,oe);return this._delegate.onAuthStateChanged(Le,mt,Ut)}onIdTokenChanged(K,ae,oe){const{next:Le,error:mt,complete:Ut}=Ie(K,ae,oe);return this._delegate.onIdTokenChanged(Le,mt,Ut)}sendSignInLinkToEmail(K,ae){return W.a6(this._delegate,K,ae)}sendPasswordResetEmail(K,ae){return W.$(this._delegate,K,ae||void 0)}setPersistence(K){var ae=this;return(0,c.Z)(function*(){let oe;switch(function Qt(lt,qe){Fn(Object.values(Mn).includes(qe),lt,"invalid-persistence-type"),(0,j.b$)()?Fn(qe!==Mn.SESSION,lt,"unsupported-persistence-type"):(0,j.UG)()?Fn(qe===Mn.NONE,lt,"unsupported-persistence-type"):An()?Fn(qe===Mn.NONE||qe===Mn.LOCAL&&(0,j.hl)(),lt,"unsupported-persistence-type"):Fn(qe===Mn.NONE||Tn(),lt,"unsupported-persistence-type")}(ae._delegate,K),K){case Mn.SESSION:oe=W.a;break;case Mn.LOCAL:oe=(yield W.ax(W.i)._isAvailable())?W.i:W.b;break;case Mn.NONE:oe=W.K;break;default:return W.as("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return In(this._delegate,W.W(this._delegate))}signInWithCredential(K){return In(this._delegate,W.X(this._delegate,K))}signInWithCustomToken(K){return In(this._delegate,W._(this._delegate,K))}signInWithEmailAndPassword(K,ae){return In(this._delegate,W.a5(this._delegate,K,ae))}signInWithEmailLink(K,ae){return In(this._delegate,W.a8(this._delegate,K,ae))}signInWithPhoneNumber(K,ae){return Ce(this._delegate,W.s(this._delegate,K,ae))}signInWithPopup(K){var ae=this;return(0,c.Z)(function*(){return M(_n(),ae._delegate,"operation-not-supported-in-this-environment"),In(ae._delegate,W.c(ae._delegate,K,it))})()}signInWithRedirect(K){var ae=this;return(0,c.Z)(function*(){return M(_n(),ae._delegate,"operation-not-supported-in-this-environment"),yield Dn(ae._delegate),W.f(ae._delegate,K,it)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return W.a3(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return lt.Persistence=Mn,lt})();function Ie(lt,qe,K){let ae=lt;"function"!=typeof lt&&({next:ae,error:qe,complete:K}=lt);const oe=ae;return{next:mt=>oe(mt&&x.getOrCreate(mt)),error:qe,complete:K}}function pt(lt,qe){const K=function vt(lt,qe){const K=At();if(!K)return[];const ae=W.ay(Xt,lt,qe);switch(K.getItem(ae)){case Mn.NONE:return[W.K];case Mn.LOCAL:return[W.i,W.a];case Mn.SESSION:return[W.a];default:return[]}}(lt,qe);if("undefined"!=typeof self&&!K.includes(W.i)&&K.push(W.i),"undefined"!=typeof window)for(const ae of[W.b,W.a])K.includes(ae)||K.push(ae);return K.includes(W.K)||K.push(W.K),K}class Tt{constructor(){this.providerId="phone",this._delegate=new W.P(ln(D.Z.auth()))}static credential(qe,K){return W.P.credential(qe,K)}verifyPhoneNumber(qe,K){return this._delegate.verifyPhoneNumber(qe,K)}unwrap(){return this._delegate}}Tt.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,Tt.PROVIDER_ID=W.P.PROVIDER_ID;const Gt=W.aw;class dn{constructor(qe,K,ae=D.Z.app()){var oe;Gt(null===(oe=ae.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new W.R(qe,K,ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rn(lt){lt.INTERNAL.registerComponent(new Ve.wA("auth-compat",qe=>{const K=qe.getProvider("app-compat").getImmediate(),ae=qe.getProvider("auth");return new ee(K,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.L,FacebookAuthProvider:W.M,GithubAuthProvider:W.Q,GoogleAuthProvider:W.N,OAuthProvider:W.T,SAMLAuthProvider:W.U,PhoneAuthProvider:Tt,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:dn,TwitterAuthProvider:W.V,Auth:ee,AuthCredential:W.G,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),lt.registerVersion("@firebase/auth-compat","0.2.8")}(D.Z)},1135:(xt,Ye,A)=>{A.d(Ye,{X:()=>D});var c=A(7579);class D extends c.x{constructor(j){super(),this._value=j}get value(){return this.getValue()}_subscribe(j){const Re=super._subscribe(j);return!Re.closed&&j.next(this._value),Re}getValue(){const{hasError:j,thrownError:Re,_value:Te}=this;if(j)throw Re;return this._throwIfClosed(),Te}next(j){super.next(this._value=j)}}},8306:(xt,Ye,A)=>{A.d(Ye,{y:()=>de});var c=A(930),D=A(727),W=A(8822),j=A(4671);var Ve=A(2416),me=A(576),Ae=A(2806);let de=(()=>{class Ne{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const xe=new Ne;return xe.source=this,xe.operator=Ze,xe}subscribe(Ze,xe,ut){const De=function ot(Ne){return Ne&&Ne instanceof c.Lv||function be(Ne){return Ne&&(0,me.m)(Ne.next)&&(0,me.m)(Ne.error)&&(0,me.m)(Ne.complete)}(Ne)&&(0,D.Nn)(Ne)}(Ze)?Ze:new c.Hp(Ze,xe,ut);return(0,Ae.x)(()=>{const{operator:tt,source:ke}=this;De.add(tt?tt.call(De,ke):ke?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(xe){Ze.error(xe)}}forEach(Ze,xe){return new(xe=ie(xe))((ut,De)=>{const tt=new c.Hp({next:ke=>{try{Ze(ke)}catch(ye){De(ye),tt.unsubscribe()}},error:De,complete:ut});this.subscribe(tt)})}_subscribe(Ze){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Ze)}[W.L](){return this}pipe(...Ze){return function Te(Ne){return 0===Ne.length?j.y:1===Ne.length?Ne[0]:function(Ze){return Ne.reduce((xe,ut)=>ut(xe),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=ie(Ze))((xe,ut)=>{let De;this.subscribe(tt=>De=tt,tt=>ut(tt),()=>xe(De))})}}return Ne.create=Ge=>new Ne(Ge),Ne})();function ie(Ne){var Ge;return null!==(Ge=null!=Ne?Ne:Ve.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(xt,Ye,A)=>{A.d(Ye,{x:()=>Ve});var c=A(8306),D=A(727);const j=(0,A(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=A(8737),Te=A(2806);let Ve=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const be=new me(this,this);return be.operator=ie,be}_throwIfClosed(){if(this.closed)throw new j}next(ie){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const be=this.observers.slice();for(const ot of be)ot.next(ie)}})}error(ie){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:be}=this;for(;be.length;)be.shift().error(ie)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:be,isStopped:ot,observers:Ne}=this;return be||ot?D.Lc:(Ne.push(ie),new D.w0(()=>(0,Re.P)(Ne,ie)))}_checkFinalizedStatuses(ie){const{hasError:be,thrownError:ot,isStopped:Ne}=this;be?ie.error(ot):Ne&&ie.complete()}asObservable(){const ie=new c.y;return ie.source=this,ie}}return Ae.create=(de,ie)=>new me(de,ie),Ae})();class me extends Ve{constructor(de,ie){super(),this.destination=de,this.source=ie}next(de){var ie,be;null===(be=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===be||be.call(ie,de)}error(de){var ie,be;null===(be=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===be||be.call(ie,de)}complete(){var de,ie;null===(ie=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ie||ie.call(de)}_subscribe(de){var ie,be;return null!==(be=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(de))&&void 0!==be?be:D.Lc}}},930:(xt,Ye,A)=>{A.d(Ye,{Hp:()=>Ze,Lv:()=>be});var c=A(576),D=A(727),W=A(2416),j=A(7849),Re=A(5032);const Te=Ae("C",void 0,void 0);function Ae(ke,ye,he){return{kind:ke,value:ye,error:he}}var de=A(3410),ie=A(2806);class be extends D.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,D.Nn)(ye)&&ye.add(this)):this.destination=tt}static create(ye,he,ze){return new Ze(ye,he,ze)}next(ye){this.isStopped?De(function me(ke){return Ae("N",ke,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?De(function Ve(ke){return Ae("E",void 0,ke)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?De(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ne(ke,ye){return ot.call(ke,ye)}class Ge{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:he}=this;if(he.next)try{he.next(ye)}catch(ze){xe(ze)}}error(ye){const{partialObserver:he}=this;if(he.error)try{he.error(ye)}catch(ze){xe(ze)}else xe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(he){xe(he)}}}class Ze extends be{constructor(ye,he,ze){let we;if(super(),(0,c.m)(ye)||!ye)we={next:null!=ye?ye:void 0,error:null!=he?he:void 0,complete:null!=ze?ze:void 0};else{let Fe;this&&W.v.useDeprecatedNextContext?(Fe=Object.create(ye),Fe.unsubscribe=()=>this.unsubscribe(),we={next:ye.next&&Ne(ye.next,Fe),error:ye.error&&Ne(ye.error,Fe),complete:ye.complete&&Ne(ye.complete,Fe)}):we=ye}this.destination=new Ge(we)}}function xe(ke){W.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(ke):(0,j.h)(ke)}function De(ke,ye){const{onStoppedNotification:he}=W.v;he&&de.z.setTimeout(()=>he(ke,ye))}const tt={closed:!0,next:Re.Z,error:function ut(ke){throw ke},complete:Re.Z}},727:(xt,Ye,A)=>{A.d(Ye,{Lc:()=>Te,w0:()=>Re,Nn:()=>Ve});var c=A(576);const W=(0,A(3888).d)(Ae=>function(ie){Ae(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((be,ot)=>`${ot+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var j=A(8737);class Re{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ne of ie)Ne.remove(this);else ie.remove(this);const{initialTeardown:be}=this;if((0,c.m)(be))try{be()}catch(Ne){de=Ne instanceof W?Ne.errors:[Ne]}const{_teardowns:ot}=this;if(ot){this._teardowns=null;for(const Ne of ot)try{me(Ne)}catch(Ge){de=null!=de?de:[],Ge instanceof W?de=[...de,...Ge.errors]:de.push(Ge)}}if(de)throw new W(de)}}add(de){var ie;if(de&&de!==this)if(this.closed)me(de);else{if(de instanceof Re){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._teardowns=null!==(ie=this._teardowns)&&void 0!==ie?ie:[]).push(de)}}_hasParent(de){const{_parentage:ie}=this;return ie===de||Array.isArray(ie)&&ie.includes(de)}_addParent(de){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(de),ie):ie?[ie,de]:de}_removeParent(de){const{_parentage:ie}=this;ie===de?this._parentage=null:Array.isArray(ie)&&(0,j.P)(ie,de)}remove(de){const{_teardowns:ie}=this;ie&&(0,j.P)(ie,de),de instanceof Re&&de._removeParent(this)}}Re.EMPTY=(()=>{const Ae=new Re;return Ae.closed=!0,Ae})();const Te=Re.EMPTY;function Ve(Ae){return Ae instanceof Re||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function me(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(xt,Ye,A)=>{A.d(Ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(xt,Ye,A)=>{A.d(Ye,{z:()=>Re});var c=A(8189),W=A(7669),j=A(8996);function Re(...Te){return function D(){return(0,c.J)(1)}()((0,j.D)(Te,(0,W.yG)(Te)))}},515:(xt,Ye,A)=>{A.d(Ye,{E:()=>D});const D=new(A(8306).y)(Re=>Re.complete())},4128:(xt,Ye,A)=>{A.d(Ye,{D:()=>me});var c=A(8306),D=A(4742),W=A(8421),j=A(7669),Re=A(5403),Te=A(3268),Ve=A(1810);function me(...Ae){const de=(0,j.jO)(Ae),{args:ie,keys:be}=(0,D.D)(Ae),ot=new c.y(Ne=>{const{length:Ge}=ie;if(!Ge)return void Ne.complete();const Ze=new Array(Ge);let xe=Ge,ut=Ge;for(let De=0;De<Ge;De++){let tt=!1;(0,W.Xf)(ie[De]).subscribe((0,Re.x)(Ne,ke=>{tt||(tt=!0,ut--),Ze[De]=ke},()=>xe--,void 0,()=>{(!xe||!tt)&&(ut||Ne.next(be?(0,Ve.n)(be,Ze):Ze),Ne.complete())}))}});return de?ot.pipe((0,Te.Z)(de)):ot}},8996:(xt,Ye,A)=>{A.d(Ye,{D:()=>ye});var c=A(8421),D=A(5363),W=A(9468),Te=A(8306),me=A(2202),Ae=A(576),de=A(9672);function be(he,ze){if(!he)throw new Error("Iterable cannot be null");return new Te.y(we=>{(0,de.f)(we,ze,()=>{const Fe=he[Symbol.asyncIterator]();(0,de.f)(we,ze,()=>{Fe.next().then(Me=>{Me.done?we.complete():we.next(Me.value)})},0,!0)})})}var ot=A(3670),Ne=A(8239),Ge=A(1144),Ze=A(6495),xe=A(2206),ut=A(4532),De=A(3260);function ye(he,ze){return ze?function ke(he,ze){if(null!=he){if((0,ot.c)(he))return function j(he,ze){return(0,c.Xf)(he).pipe((0,W.R)(ze),(0,D.Q)(ze))}(he,ze);if((0,Ge.z)(he))return function Ve(he,ze){return new Te.y(we=>{let Fe=0;return ze.schedule(function(){Fe===he.length?we.complete():(we.next(he[Fe++]),we.closed||this.schedule())})})}(he,ze);if((0,Ne.t)(he))return function Re(he,ze){return(0,c.Xf)(he).pipe((0,W.R)(ze),(0,D.Q)(ze))}(he,ze);if((0,xe.D)(he))return be(he,ze);if((0,Ze.T)(he))return function ie(he,ze){return new Te.y(we=>{let Fe;return(0,de.f)(we,ze,()=>{Fe=he[me.h](),(0,de.f)(we,ze,()=>{let Me,He;try{({value:Me,done:He}=Fe.next())}catch(We){return void we.error(We)}He?we.complete():we.next(Me)},0,!0)}),()=>(0,Ae.m)(null==Fe?void 0:Fe.return)&&Fe.return()})}(he,ze);if((0,De.L)(he))return function tt(he,ze){return be((0,De.Q)(he),ze)}(he,ze)}throw(0,ut.z)(he)}(he,ze):(0,c.Xf)(he)}},4968:(xt,Ye,A)=>{A.d(Ye,{R:()=>de});var c=A(8421),D=A(8306),W=A(5577),j=A(1144),Re=A(576),Te=A(3268);const Ve=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Ae=["on","off"];function de(Ge,Ze,xe,ut){if((0,Re.m)(xe)&&(ut=xe,xe=void 0),ut)return de(Ge,Ze,xe).pipe((0,Te.Z)(ut));const[De,tt]=function Ne(Ge){return(0,Re.m)(Ge.addEventListener)&&(0,Re.m)(Ge.removeEventListener)}(Ge)?me.map(ke=>ye=>Ge[ke](Ze,ye,xe)):function be(Ge){return(0,Re.m)(Ge.addListener)&&(0,Re.m)(Ge.removeListener)}(Ge)?Ve.map(ie(Ge,Ze)):function ot(Ge){return(0,Re.m)(Ge.on)&&(0,Re.m)(Ge.off)}(Ge)?Ae.map(ie(Ge,Ze)):[];if(!De&&(0,j.z)(Ge))return(0,W.z)(ke=>de(ke,Ze,xe))((0,c.Xf)(Ge));if(!De)throw new TypeError("Invalid event target");return new D.y(ke=>{const ye=(...he)=>ke.next(1<he.length?he:he[0]);return De(ye),()=>tt(ye)})}function ie(Ge,Ze){return xe=>ut=>Ge[xe](Ze,ut)}},8421:(xt,Ye,A)=>{A.d(Ye,{Xf:()=>ot});var c=A(655),D=A(1144),W=A(8239),j=A(8306),Re=A(3670),Te=A(2206),Ve=A(4532),me=A(6495),Ae=A(3260),de=A(576),ie=A(7849),be=A(8822);function ot(ke){if(ke instanceof j.y)return ke;if(null!=ke){if((0,Re.c)(ke))return function Ne(ke){return new j.y(ye=>{const he=ke[be.L]();if((0,de.m)(he.subscribe))return he.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,D.z)(ke))return function Ge(ke){return new j.y(ye=>{for(let he=0;he<ke.length&&!ye.closed;he++)ye.next(ke[he]);ye.complete()})}(ke);if((0,W.t)(ke))return function Ze(ke){return new j.y(ye=>{ke.then(he=>{ye.closed||(ye.next(he),ye.complete())},he=>ye.error(he)).then(null,ie.h)})}(ke);if((0,Te.D)(ke))return ut(ke);if((0,me.T)(ke))return function xe(ke){return new j.y(ye=>{for(const he of ke)if(ye.next(he),ye.closed)return;ye.complete()})}(ke);if((0,Ae.L)(ke))return function De(ke){return ut((0,Ae.Q)(ke))}(ke)}throw(0,Ve.z)(ke)}function ut(ke){return new j.y(ye=>{(function tt(ke,ye){var he,ze,we,Fe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(he=(0,c.KL)(ke);!(ze=yield he.next()).done;)if(ye.next(ze.value),ye.closed)return}catch(Me){we={error:Me}}finally{try{ze&&!ze.done&&(Fe=he.return)&&(yield Fe.call(he))}finally{if(we)throw we.error}}ye.complete()})})(ke,ye).catch(he=>ye.error(he))})}},6451:(xt,Ye,A)=>{A.d(Ye,{T:()=>Te});var c=A(8189),D=A(8421),W=A(515),j=A(7669),Re=A(8996);function Te(...Ve){const me=(0,j.yG)(Ve),Ae=(0,j._6)(Ve,1/0),de=Ve;return de.length?1===de.length?(0,D.Xf)(de[0]):(0,c.J)(Ae)((0,Re.D)(de,me)):W.E}},9646:(xt,Ye,A)=>{A.d(Ye,{of:()=>W});var c=A(7669),D=A(8996);function W(...j){const Re=(0,c.yG)(j);return(0,D.D)(j,Re)}},5403:(xt,Ye,A)=>{A.d(Ye,{x:()=>D});var c=A(930);function D(j,Re,Te,Ve,me){return new W(j,Re,Te,Ve,me)}class W extends c.Lv{constructor(Re,Te,Ve,me,Ae,de){super(Re),this.onFinalize=Ae,this.shouldUnsubscribe=de,this._next=Te?function(ie){try{Te(ie)}catch(be){Re.error(be)}}:super._next,this._error=me?function(ie){try{me(ie)}catch(be){Re.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ie){Re.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},262:(xt,Ye,A)=>{A.d(Ye,{K:()=>j});var c=A(8421),D=A(5403),W=A(4482);function j(Re){return(0,W.e)((Te,Ve)=>{let de,me=null,Ae=!1;me=Te.subscribe((0,D.x)(Ve,void 0,void 0,ie=>{de=(0,c.Xf)(Re(ie,j(Re)(Te))),me?(me.unsubscribe(),me=null,de.subscribe(Ve)):Ae=!0})),Ae&&(me.unsubscribe(),me=null,de.subscribe(Ve))})}},4351:(xt,Ye,A)=>{A.d(Ye,{b:()=>W});var c=A(5577),D=A(576);function W(j,Re){return(0,D.m)(Re)?(0,c.z)(j,Re,1):(0,c.z)(j,1)}},8372:(xt,Ye,A)=>{A.d(Ye,{b:()=>j});var c=A(4986),D=A(4482),W=A(5403);function j(Re,Te=c.z){return(0,D.e)((Ve,me)=>{let Ae=null,de=null,ie=null;const be=()=>{if(Ae){Ae.unsubscribe(),Ae=null;const Ne=de;de=null,me.next(Ne)}};function ot(){const Ne=ie+Re,Ge=Te.now();if(Ge<Ne)return Ae=this.schedule(void 0,Ne-Ge),void me.add(Ae);be()}Ve.subscribe((0,W.x)(me,Ne=>{de=Ne,ie=Te.now(),Ae||(Ae=Te.schedule(ot,Re),me.add(Ae))},()=>{be(),me.complete()},void 0,()=>{de=Ae=null}))})}},6590:(xt,Ye,A)=>{A.d(Ye,{d:()=>W});var c=A(4482),D=A(5403);function W(j){return(0,c.e)((Re,Te)=>{let Ve=!1;Re.subscribe((0,D.x)(Te,me=>{Ve=!0,Te.next(me)},()=>{Ve||Te.next(j),Te.complete()}))})}},1884:(xt,Ye,A)=>{A.d(Ye,{x:()=>j});var c=A(4671),D=A(4482),W=A(5403);function j(Te,Ve=c.y){return Te=null!=Te?Te:Re,(0,D.e)((me,Ae)=>{let de,ie=!0;me.subscribe((0,W.x)(Ae,be=>{const ot=Ve(be);(ie||!Te(de,ot))&&(ie=!1,de=ot,Ae.next(be))}))})}function Re(Te,Ve){return Te===Ve}},9300:(xt,Ye,A)=>{A.d(Ye,{h:()=>W});var c=A(4482),D=A(5403);function W(j,Re){return(0,c.e)((Te,Ve)=>{let me=0;Te.subscribe((0,D.x)(Ve,Ae=>j.call(Re,Ae,me++)&&Ve.next(Ae)))})}},8746:(xt,Ye,A)=>{A.d(Ye,{x:()=>D});var c=A(4482);function D(W){return(0,c.e)((j,Re)=>{try{j.subscribe(Re)}finally{Re.add(W)}})}},590:(xt,Ye,A)=>{A.d(Ye,{P:()=>Ve});var c=A(6805),D=A(9300),W=A(5698),j=A(6590),Re=A(8068),Te=A(4671);function Ve(me,Ae){const de=arguments.length>=2;return ie=>ie.pipe(me?(0,D.h)((be,ot)=>me(be,ot,ie)):Te.y,(0,W.q)(1),de?(0,j.d)(Ae):(0,Re.T)(()=>new c.K))}},4004:(xt,Ye,A)=>{A.d(Ye,{U:()=>W});var c=A(4482),D=A(5403);function W(j,Re){return(0,c.e)((Te,Ve)=>{let me=0;Te.subscribe((0,D.x)(Ve,Ae=>{Ve.next(j.call(Re,Ae,me++))}))})}},8189:(xt,Ye,A)=>{A.d(Ye,{J:()=>W});var c=A(5577),D=A(4671);function W(j=1/0){return(0,c.z)(D.y,j)}},5577:(xt,Ye,A)=>{A.d(Ye,{z:()=>me});var c=A(4004),D=A(8421),W=A(4482),j=A(9672),Re=A(5403),Ve=A(576);function me(Ae,de,ie=1/0){return(0,Ve.m)(de)?me((be,ot)=>(0,c.U)((Ne,Ge)=>de(be,Ne,ot,Ge))((0,D.Xf)(Ae(be,ot))),ie):("number"==typeof de&&(ie=de),(0,W.e)((be,ot)=>function Te(Ae,de,ie,be,ot,Ne,Ge,Ze){const xe=[];let ut=0,De=0,tt=!1;const ke=()=>{tt&&!xe.length&&!ut&&de.complete()},ye=ze=>ut<be?he(ze):xe.push(ze),he=ze=>{Ne&&de.next(ze),ut++;let we=!1;(0,D.Xf)(ie(ze,De++)).subscribe((0,Re.x)(de,Fe=>{null==ot||ot(Fe),Ne?ye(Fe):de.next(Fe)},()=>{we=!0},void 0,()=>{if(we)try{for(ut--;xe.length&&ut<be;){const Fe=xe.shift();Ge?(0,j.f)(de,Ge,()=>he(Fe)):he(Fe)}ke()}catch(Fe){de.error(Fe)}}))};return Ae.subscribe((0,Re.x)(de,ye,()=>{tt=!0,ke()})),()=>{null==Ze||Ze()}}(be,ot,Ae,ie)))}},5363:(xt,Ye,A)=>{A.d(Ye,{Q:()=>j});var c=A(9672),D=A(4482),W=A(5403);function j(Re,Te=0){return(0,D.e)((Ve,me)=>{Ve.subscribe((0,W.x)(me,Ae=>(0,c.f)(me,Re,()=>me.next(Ae),Te),()=>(0,c.f)(me,Re,()=>me.complete(),Te),Ae=>(0,c.f)(me,Re,()=>me.error(Ae),Te)))})}},5026:(xt,Ye,A)=>{A.d(Ye,{R:()=>j});var c=A(4482),D=A(5403);function W(Re,Te,Ve,me,Ae){return(de,ie)=>{let be=Ve,ot=Te,Ne=0;de.subscribe((0,D.x)(ie,Ge=>{const Ze=Ne++;ot=be?Re(ot,Ge,Ze):(be=!0,Ge),me&&ie.next(ot)},Ae&&(()=>{be&&ie.next(ot),ie.complete()})))}}function j(Re,Te){return(0,c.e)(W(Re,Te,arguments.length>=2,!0))}},3099:(xt,Ye,A)=>{A.d(Ye,{B:()=>Te});var c=A(8996),D=A(5698),W=A(7579),j=A(930),Re=A(4482);function Te(me={}){const{connector:Ae=(()=>new W.x),resetOnError:de=!0,resetOnComplete:ie=!0,resetOnRefCountZero:be=!0}=me;return ot=>{let Ne=null,Ge=null,Ze=null,xe=0,ut=!1,De=!1;const tt=()=>{null==Ge||Ge.unsubscribe(),Ge=null},ke=()=>{tt(),Ne=Ze=null,ut=De=!1},ye=()=>{const he=Ne;ke(),null==he||he.unsubscribe()};return(0,Re.e)((he,ze)=>{xe++,!De&&!ut&&tt();const we=Ze=null!=Ze?Ze:Ae();ze.add(()=>{xe--,0===xe&&!De&&!ut&&(Ge=Ve(ye,be))}),we.subscribe(ze),Ne||(Ne=new j.Hp({next:Fe=>we.next(Fe),error:Fe=>{De=!0,tt(),Ge=Ve(ke,de,Fe),we.error(Fe)},complete:()=>{ut=!0,tt(),Ge=Ve(ke,ie),we.complete()}}),(0,c.D)(he).subscribe(Ne))})(ot)}}function Ve(me,Ae,...de){return!0===Ae?(me(),null):!1===Ae?null:Ae(...de).pipe((0,D.q)(1)).subscribe(()=>me())}},8675:(xt,Ye,A)=>{A.d(Ye,{O:()=>j});var c=A(7272),D=A(7669),W=A(4482);function j(...Re){const Te=(0,D.yG)(Re);return(0,W.e)((Ve,me)=>{(Te?(0,c.z)(Re,Ve,Te):(0,c.z)(Re,Ve)).subscribe(me)})}},9468:(xt,Ye,A)=>{A.d(Ye,{R:()=>D});var c=A(4482);function D(W,j=0){return(0,c.e)((Re,Te)=>{Te.add(W.schedule(()=>Re.subscribe(Te),j))})}},3900:(xt,Ye,A)=>{A.d(Ye,{w:()=>j});var c=A(8421),D=A(4482),W=A(5403);function j(Re,Te){return(0,D.e)((Ve,me)=>{let Ae=null,de=0,ie=!1;const be=()=>ie&&!Ae&&me.complete();Ve.subscribe((0,W.x)(me,ot=>{null==Ae||Ae.unsubscribe();let Ne=0;const Ge=de++;(0,c.Xf)(Re(ot,Ge)).subscribe(Ae=(0,W.x)(me,Ze=>me.next(Te?Te(ot,Ze,Ge,Ne++):Ze),()=>{Ae=null,be()}))},()=>{ie=!0,be()}))})}},5698:(xt,Ye,A)=>{A.d(Ye,{q:()=>j});var c=A(515),D=A(4482),W=A(5403);function j(Re){return Re<=0?()=>c.E:(0,D.e)((Te,Ve)=>{let me=0;Te.subscribe((0,W.x)(Ve,Ae=>{++me<=Re&&(Ve.next(Ae),Re<=me&&Ve.complete())}))})}},2722:(xt,Ye,A)=>{A.d(Ye,{R:()=>Re});var c=A(4482),D=A(5403),W=A(8421),j=A(5032);function Re(Te){return(0,c.e)((Ve,me)=>{(0,W.Xf)(Te).subscribe((0,D.x)(me,()=>me.complete(),j.Z)),!me.closed&&Ve.subscribe(me)})}},8505:(xt,Ye,A)=>{A.d(Ye,{b:()=>Re});var c=A(576),D=A(4482),W=A(5403),j=A(4671);function Re(Te,Ve,me){const Ae=(0,c.m)(Te)||Ve||me?{next:Te,error:Ve,complete:me}:Te;return Ae?(0,D.e)((de,ie)=>{var be;null===(be=Ae.subscribe)||void 0===be||be.call(Ae);let ot=!0;de.subscribe((0,W.x)(ie,Ne=>{var Ge;null===(Ge=Ae.next)||void 0===Ge||Ge.call(Ae,Ne),ie.next(Ne)},()=>{var Ne;ot=!1,null===(Ne=Ae.complete)||void 0===Ne||Ne.call(Ae),ie.complete()},Ne=>{var Ge;ot=!1,null===(Ge=Ae.error)||void 0===Ge||Ge.call(Ae,Ne),ie.error(Ne)},()=>{var Ne,Ge;ot&&(null===(Ne=Ae.unsubscribe)||void 0===Ne||Ne.call(Ae)),null===(Ge=Ae.finalize)||void 0===Ge||Ge.call(Ae)}))}):j.y}},8068:(xt,Ye,A)=>{A.d(Ye,{T:()=>j});var c=A(6805),D=A(4482),W=A(5403);function j(Te=Re){return(0,D.e)((Ve,me)=>{let Ae=!1;Ve.subscribe((0,W.x)(me,de=>{Ae=!0,me.next(de)},()=>Ae?me.complete():me.error(Te())))})}function Re(){return new c.K}},4408:(xt,Ye,A)=>{A.d(Ye,{o:()=>Re});var c=A(727);class D extends c.w0{constructor(Ve,me){super()}schedule(Ve,me=0){return this}}const W={setInterval(...Te){const{delegate:Ve}=W;return((null==Ve?void 0:Ve.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:Ve}=W;return((null==Ve?void 0:Ve.clearInterval)||clearInterval)(Te)},delegate:void 0};var j=A(8737);class Re extends D{constructor(Ve,me){super(Ve,me),this.scheduler=Ve,this.work=me,this.pending=!1}schedule(Ve,me=0){if(this.closed)return this;this.state=Ve;const Ae=this.id,de=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(de,Ae,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(de,this.id,me),this}requestAsyncId(Ve,me,Ae=0){return W.setInterval(Ve.flush.bind(Ve,this),Ae)}recycleAsyncId(Ve,me,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return me;W.clearInterval(me)}execute(Ve,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ve,me);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,me){let de,Ae=!1;try{this.work(Ve)}catch(ie){Ae=!0,de=ie||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:me}=this,{actions:Ae}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.P)(Ae,this),null!=Ve&&(this.id=this.recycleAsyncId(me,Ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Ye,A)=>{A.d(Ye,{v:()=>W});var c=A(6063);class D{constructor(Re,Te=D.now){this.schedulerActionCtor=Re,this.now=Te}schedule(Re,Te=0,Ve){return new this.schedulerActionCtor(this,Re).schedule(Ve,Te)}}D.now=c.l.now;class W extends D{constructor(Re,Te=D.now){super(Re,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Re){const{actions:Te}=this;if(this._active)return void Te.push(Re);let Ve;this._active=!0;do{if(Ve=Re.execute(Re.state,Re.delay))break}while(Re=Te.shift());if(this._active=!1,Ve){for(;Re=Te.shift();)Re.unsubscribe();throw Ve}}}},4986:(xt,Ye,A)=>{A.d(Ye,{z:()=>W});var c=A(4408);const W=new(A(7565).v)(c.o)},6063:(xt,Ye,A)=>{A.d(Ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(xt,Ye,A)=>{A.d(Ye,{z:()=>c});const c={setTimeout(...D){const{delegate:W}=c;return((null==W?void 0:W.setTimeout)||setTimeout)(...D)},clearTimeout(D){const{delegate:W}=c;return((null==W?void 0:W.clearTimeout)||clearTimeout)(D)},delegate:void 0}},2202:(xt,Ye,A)=>{A.d(Ye,{h:()=>D});const D=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ye,A)=>{A.d(Ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(xt,Ye,A)=>{A.d(Ye,{K:()=>D});const D=(0,A(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(xt,Ye,A)=>{A.d(Ye,{_6:()=>Te,jO:()=>j,yG:()=>Re});var c=A(576);function W(Ve){return Ve[Ve.length-1]}function j(Ve){return(0,c.m)(W(Ve))?Ve.pop():void 0}function Re(Ve){return function D(Ve){return Ve&&(0,c.m)(Ve.schedule)}(W(Ve))?Ve.pop():void 0}function Te(Ve,me){return"number"==typeof W(Ve)?Ve.pop():me}},4742:(xt,Ye,A)=>{A.d(Ye,{D:()=>Re});const{isArray:c}=Array,{getPrototypeOf:D,prototype:W,keys:j}=Object;function Re(Ve){if(1===Ve.length){const me=Ve[0];if(c(me))return{args:me,keys:null};if(function Te(Ve){return Ve&&"object"==typeof Ve&&D(Ve)===W}(me)){const Ae=j(me);return{args:Ae.map(de=>me[de]),keys:Ae}}}return{args:Ve,keys:null}}},8737:(xt,Ye,A)=>{function c(D,W){if(D){const j=D.indexOf(W);0<=j&&D.splice(j,1)}}A.d(Ye,{P:()=>c})},3888:(xt,Ye,A)=>{function c(D){const j=D(Re=>{Error.call(Re),Re.stack=(new Error).stack});return j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j}A.d(Ye,{d:()=>c})},1810:(xt,Ye,A)=>{function c(D,W){return D.reduce((j,Re,Te)=>(j[Re]=W[Te],j),{})}A.d(Ye,{n:()=>c})},2806:(xt,Ye,A)=>{A.d(Ye,{x:()=>W,O:()=>j});var c=A(2416);let D=null;function W(Re){if(c.v.useDeprecatedSynchronousErrorHandling){const Te=!D;if(Te&&(D={errorThrown:!1,error:null}),Re(),Te){const{errorThrown:Ve,error:me}=D;if(D=null,Ve)throw me}}else Re()}function j(Re){c.v.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=Re)}},9672:(xt,Ye,A)=>{function c(D,W,j,Re=0,Te=!1){const Ve=W.schedule(function(){j(),Te?D.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(D.add(Ve),!Te)return Ve}A.d(Ye,{f:()=>c})},4671:(xt,Ye,A)=>{function c(D){return D}A.d(Ye,{y:()=>c})},1144:(xt,Ye,A)=>{A.d(Ye,{z:()=>c});const c=D=>D&&"number"==typeof D.length&&"function"!=typeof D},2206:(xt,Ye,A)=>{A.d(Ye,{D:()=>D});var c=A(576);function D(W){return Symbol.asyncIterator&&(0,c.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(xt,Ye,A)=>{function c(D){return"function"==typeof D}A.d(Ye,{m:()=>c})},3670:(xt,Ye,A)=>{A.d(Ye,{c:()=>W});var c=A(8822),D=A(576);function W(j){return(0,D.m)(j[c.L])}},6495:(xt,Ye,A)=>{A.d(Ye,{T:()=>W});var c=A(2202),D=A(576);function W(j){return(0,D.m)(null==j?void 0:j[c.h])}},8239:(xt,Ye,A)=>{A.d(Ye,{t:()=>D});var c=A(576);function D(W){return(0,c.m)(null==W?void 0:W.then)}},3260:(xt,Ye,A)=>{A.d(Ye,{Q:()=>W,L:()=>j});var c=A(655),D=A(576);function W(Re){return(0,c.FC)(this,arguments,function*(){const Ve=Re.getReader();try{for(;;){const{value:me,done:Ae}=yield(0,c.qq)(Ve.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(me)}}finally{Ve.releaseLock()}})}function j(Re){return(0,D.m)(null==Re?void 0:Re.getReader)}},4482:(xt,Ye,A)=>{A.d(Ye,{A:()=>D,e:()=>W});var c=A(576);function D(j){return(0,c.m)(null==j?void 0:j.lift)}function W(j){return Re=>{if(D(Re))return Re.lift(function(Te){try{return j(Te,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xt,Ye,A)=>{A.d(Ye,{Z:()=>j});var c=A(4004);const{isArray:D}=Array;function j(Re){return(0,c.U)(Te=>function W(Re,Te){return D(Te)?Re(...Te):Re(Te)}(Re,Te))}},5032:(xt,Ye,A)=>{function c(){}A.d(Ye,{Z:()=>c})},7849:(xt,Ye,A)=>{A.d(Ye,{h:()=>W});var c=A(2416),D=A(3410);function W(j){D.z.setTimeout(()=>{const{onUnhandledError:Re}=c.v;if(!Re)throw j;Re(j)})}},4532:(xt,Ye,A)=>{function c(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(Ye,{z:()=>c})},655:(xt,Ye,A)=>{function j(Me,He){var We={};for(var at in Me)Object.prototype.hasOwnProperty.call(Me,at)&&He.indexOf(at)<0&&(We[at]=Me[at]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(at=Object.getOwnPropertySymbols(Me);Be<at.length;Be++)He.indexOf(at[Be])<0&&Object.prototype.propertyIsEnumerable.call(Me,at[Be])&&(We[at[Be]]=Me[at[Be]])}return We}function me(Me,He,We,at){return new(We||(We=Promise))(function($e,Et){function Nt(rt){try{dt(at.next(rt))}catch(Ct){Et(Ct)}}function Zt(rt){try{dt(at.throw(rt))}catch(Ct){Et(Ct)}}function dt(rt){rt.done?$e(rt.value):function Be($e){return $e instanceof We?$e:new We(function(Et){Et($e)})}(rt.value).then(Nt,Zt)}dt((at=at.apply(Me,He||[])).next())})}function xe(Me){return this instanceof xe?(this.v=Me,this):new xe(Me)}function ut(Me,He,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,at=We.apply(Me,He||[]),$e=[];return Be={},Et("next"),Et("throw"),Et("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Et(_t){at[_t]&&(Be[_t]=function(Ft){return new Promise(function(Wt,tn){$e.push([_t,Ft,Wt,tn])>1||Nt(_t,Ft)})})}function Nt(_t,Ft){try{!function Zt(_t){_t.value instanceof xe?Promise.resolve(_t.value.v).then(dt,rt):Ct($e[0][2],_t)}(at[_t](Ft))}catch(Wt){Ct($e[0][3],Wt)}}function dt(_t){Nt("next",_t)}function rt(_t){Nt("throw",_t)}function Ct(_t,Ft){_t(Ft),$e.shift(),$e.length&&Nt($e[0][0],$e[0][1])}}function tt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,He=Me[Symbol.asyncIterator];return He?He.call(Me):(Me=function be(Me){var He="function"==typeof Symbol&&Symbol.iterator,We=He&&Me[He],at=0;if(We)return We.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&at>=Me.length&&(Me=void 0),{value:Me&&Me[at++],done:!Me}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),We={},at("next"),at("throw"),at("return"),We[Symbol.asyncIterator]=function(){return this},We);function at($e){We[$e]=Me[$e]&&function(Et){return new Promise(function(Nt,Zt){!function Be($e,Et,Nt,Zt){Promise.resolve(Zt).then(function(dt){$e({value:dt,done:Nt})},Et)}(Nt,Zt,(Et=Me[$e](Et)).done,Et.value)})}}}A.d(Ye,{_T:()=>j,mG:()=>me,qq:()=>xe,FC:()=>ut,KL:()=>tt})},1777:(xt,Ye,A)=>{A.d(Ye,{l3:()=>W,_j:()=>c,LC:()=>D,ZN:()=>ut,jt:()=>Re,vP:()=>Ve,SB:()=>Ae,oB:()=>me,eR:()=>ie,X$:()=>j,ZE:()=>De,k1:()=>tt});class c{}class D{}const W="*";function j(ke,ye){return{type:7,name:ke,definitions:ye,options:{}}}function Re(ke,ye=null){return{type:4,styles:ye,timings:ke}}function Ve(ke,ye=null){return{type:2,steps:ke,options:ye}}function me(ke){return{type:6,styles:ke,offset:null}}function Ae(ke,ye,he){return{type:0,name:ke,styles:ye,options:he}}function ie(ke,ye,he=null){return{type:1,expr:ke,animation:ye,options:he}}function xe(ke){Promise.resolve(null).then(ke)}class ut{constructor(ye=0,he=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ye+he}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}onStart(ye){this._onStartFns.push(ye)}onDone(ye){this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ye=>ye()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ye){this._position=this.totalTime?ye*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ye){const he="start"==ye?this._onStartFns:this._onDoneFns;he.forEach(ze=>ze()),he.length=0}}class De{constructor(ye){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ye;let he=0,ze=0,we=0;const Fe=this.players.length;0==Fe?xe(()=>this._onFinish()):this.players.forEach(Me=>{Me.onDone(()=>{++he==Fe&&this._onFinish()}),Me.onDestroy(()=>{++ze==Fe&&this._onDestroy()}),Me.onStart(()=>{++we==Fe&&this._onStart()})}),this.totalTime=this.players.reduce((Me,He)=>Math.max(Me,He.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}init(){this.players.forEach(ye=>ye.init())}onStart(ye){this._onStartFns.push(ye)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ye=>ye()),this._onStartFns=[])}onDone(ye){this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ye=>ye.play())}pause(){this.players.forEach(ye=>ye.pause())}restart(){this.players.forEach(ye=>ye.restart())}finish(){this._onFinish(),this.players.forEach(ye=>ye.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ye=>ye.destroy()),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this.players.forEach(ye=>ye.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ye){const he=ye*this.totalTime;this.players.forEach(ze=>{const we=ze.totalTime?Math.min(1,he/ze.totalTime):1;ze.setPosition(we)})}getPosition(){const ye=this.players.reduce((he,ze)=>null===he||ze.totalTime>he.totalTime?ze:he,null);return null!=ye?ye.getPosition():0}beforeDestroy(){this.players.forEach(ye=>{ye.beforeDestroy&&ye.beforeDestroy()})}triggerCallback(ye){const he="start"==ye?this._onStartFns:this._onDoneFns;he.forEach(ze=>ze()),he.length=0}}const tt="!"},8255:(xt,Ye,A)=>{A.d(Ye,{Em:()=>at,tE:()=>fn,qm:()=>Ce,X6:()=>Ht,yG:()=>zn});var c=A(9808),D=A(5e3),W=A(925),j=A(7579),Re=A(727),Te=A(1135),Ve=A(9646),me=A(1159),Ae=A(9300),ie=A(8505),be=A(8372),ot=A(4004),Ne=A(1884),Ge=A(2722),Ze=A(3191);class at extends class He{constructor(x){this._items=x,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new j.x,this._typeaheadSubscription=Re.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=M=>M.disabled,this._pressedLetters=[],this.tabOut=new j.x,this.change=new j.x,x instanceof D.n_E&&x.changes.subscribe(M=>{if(this._activeItem){const Ie=M.toArray().indexOf(this._activeItem);Ie>-1&&Ie!==this._activeItemIndex&&(this._activeItemIndex=Ie)}})}skipPredicate(x){return this._skipPredicateFn=x,this}withWrap(x=!0){return this._wrap=x,this}withVerticalOrientation(x=!0){return this._vertical=x,this}withHorizontalOrientation(x){return this._horizontal=x,this}withAllowedModifierKeys(x){return this._allowedModifierKeys=x,this}withTypeAhead(x=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ie.b)(M=>this._pressedLetters.push(M)),(0,be.b)(x),(0,Ae.h)(()=>this._pressedLetters.length>0),(0,ot.U)(()=>this._pressedLetters.join(""))).subscribe(M=>{const ee=this._getItemsArray();for(let Ie=1;Ie<ee.length+1;Ie++){const pt=(this._activeItemIndex+Ie)%ee.length,Tt=ee[pt];if(!this._skipPredicateFn(Tt)&&0===Tt.getLabel().toUpperCase().trim().indexOf(M)){this.setActiveItem(pt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(x=!0){return this._homeAndEnd=x,this}setActiveItem(x){const M=this._activeItem;this.updateActiveItem(x),this._activeItem!==M&&this.change.next(this._activeItemIndex)}onKeydown(x){const M=x.keyCode,Ie=["altKey","ctrlKey","metaKey","shiftKey"].every(pt=>!x[pt]||this._allowedModifierKeys.indexOf(pt)>-1);switch(M){case me.Mf:return void this.tabOut.next();case me.JH:if(this._vertical&&Ie){this.setNextItemActive();break}return;case me.LH:if(this._vertical&&Ie){this.setPreviousItemActive();break}return;case me.SV:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case me.oh:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case me.Sd:if(this._homeAndEnd&&Ie){this.setFirstItemActive();break}return;case me.uR:if(this._homeAndEnd&&Ie){this.setLastItemActive();break}return;default:return void((Ie||(0,me.Vb)(x,"shiftKey"))&&(x.key&&1===x.key.length?this._letterKeyStream.next(x.key.toLocaleUpperCase()):(M>=me.A&&M<=me.Z||M>=me.xE&&M<=me.aO)&&this._letterKeyStream.next(String.fromCharCode(M))))}this._pressedLetters=[],x.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(x){const M=this._getItemsArray(),ee="number"==typeof x?x:M.indexOf(x),Ie=M[ee];this._activeItem=null==Ie?null:Ie,this._activeItemIndex=ee}_setActiveItemByDelta(x){this._wrap?this._setActiveInWrapMode(x):this._setActiveInDefaultMode(x)}_setActiveInWrapMode(x){const M=this._getItemsArray();for(let ee=1;ee<=M.length;ee++){const Ie=(this._activeItemIndex+x*ee+M.length)%M.length;if(!this._skipPredicateFn(M[Ie]))return void this.setActiveItem(Ie)}}_setActiveInDefaultMode(x){this._setActiveItemByIndex(this._activeItemIndex+x,x)}_setActiveItemByIndex(x,M){const ee=this._getItemsArray();if(ee[x]){for(;this._skipPredicateFn(ee[x]);)if(!ee[x+=M])return;this.setActiveItem(x)}}_getItemsArray(){return this._items instanceof D.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(x){return this._origin=x,this}setActiveItem(x){super.setActiveItem(x),this.activeItem&&this.activeItem.focus(this._origin)}}function Ht(O){return 0===O.buttons||0===O.offsetX&&0===O.offsetY}function zn(O){const x=O.touches&&O.touches[0]||O.changedTouches&&O.changedTouches[0];return!(!x||-1!==x.identifier||null!=x.radiusX&&1!==x.radiusX||null!=x.radiusY&&1!==x.radiusY)}const kn=new D.OlP("cdk-input-modality-detector-options"),Mn={ignoreKeys:[me.zL,me.jx,me.b2,me.MW,me.JU]},Xt=(0,W.i$)({passive:!0,capture:!0});let Qt=(()=>{class O{constructor(M,ee,Ie,pt){this._platform=M,this._mostRecentTarget=null,this._modality=new Te.X(null),this._lastTouchMs=0,this._onKeydown=Tt=>{var Gt,dn;(null===(dn=null===(Gt=this._options)||void 0===Gt?void 0:Gt.ignoreKeys)||void 0===dn?void 0:dn.some(jt=>jt===Tt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,W.sA)(Tt))},this._onMousedown=Tt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ht(Tt)?"keyboard":"mouse"),this._mostRecentTarget=(0,W.sA)(Tt))},this._onTouchstart=Tt=>{zn(Tt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,W.sA)(Tt))},this._options=Object.assign(Object.assign({},Mn),pt),this.modalityDetected=this._modality.pipe(function de(O){return(0,Ae.h)((x,M)=>O<=M)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ne.x)()),M.isBrowser&&ee.runOutsideAngular(()=>{Ie.addEventListener("keydown",this._onKeydown,Xt),Ie.addEventListener("mousedown",this._onMousedown,Xt),Ie.addEventListener("touchstart",this._onTouchstart,Xt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xt),document.removeEventListener("mousedown",this._onMousedown,Xt),document.removeEventListener("touchstart",this._onTouchstart,Xt))}}return O.\u0275fac=function(M){return new(M||O)(D.LFG(W.t4),D.LFG(D.R0b),D.LFG(c.K0),D.LFG(kn,8))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const it=new D.OlP("cdk-focus-monitor-default-options"),ln=(0,W.i$)({passive:!0,capture:!0});let fn=(()=>{class O{constructor(M,ee,Ie,pt,Tt){this._ngZone=M,this._platform=ee,this._inputModalityDetector=Ie,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j.x,this._rootNodeFocusAndBlurListener=Gt=>{const dn=(0,W.sA)(Gt),jt="focus"===Gt.type?this._onFocus:this._onBlur;for(let rn=dn;rn;rn=rn.parentElement)jt.call(this,Gt,rn)},this._document=pt,this._detectionMode=(null==Tt?void 0:Tt.detectionMode)||0}monitor(M,ee=!1){const Ie=(0,Ze.fI)(M);if(!this._platform.isBrowser||1!==Ie.nodeType)return(0,Ve.of)(null);const pt=(0,W.kV)(Ie)||this._getDocument(),Tt=this._elementInfo.get(Ie);if(Tt)return ee&&(Tt.checkChildren=!0),Tt.subject;const Gt={checkChildren:ee,subject:new j.x,rootNode:pt};return this._elementInfo.set(Ie,Gt),this._registerGlobalListeners(Gt),Gt.subject}stopMonitoring(M){const ee=(0,Ze.fI)(M),Ie=this._elementInfo.get(ee);Ie&&(Ie.subject.complete(),this._setClasses(ee),this._elementInfo.delete(ee),this._removeGlobalListeners(Ie))}focusVia(M,ee,Ie){const pt=(0,Ze.fI)(M);pt===this._getDocument().activeElement?this._getClosestElementsInfo(pt).forEach(([Gt,dn])=>this._originChanged(Gt,ee,dn)):(this._setOrigin(ee),"function"==typeof pt.focus&&pt.focus(Ie))}ngOnDestroy(){this._elementInfo.forEach((M,ee)=>this.stopMonitoring(ee))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(M){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(M)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(M){return 1===this._detectionMode||!!(null==M?void 0:M.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(M,ee){M.classList.toggle("cdk-focused",!!ee),M.classList.toggle("cdk-touch-focused","touch"===ee),M.classList.toggle("cdk-keyboard-focused","keyboard"===ee),M.classList.toggle("cdk-mouse-focused","mouse"===ee),M.classList.toggle("cdk-program-focused","program"===ee)}_setOrigin(M,ee=!1){this._ngZone.runOutsideAngular(()=>{this._origin=M,this._originFromTouchInteraction="touch"===M&&ee,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(M,ee){const Ie=this._elementInfo.get(ee),pt=(0,W.sA)(M);!Ie||!Ie.checkChildren&&ee!==pt||this._originChanged(ee,this._getFocusOrigin(pt),Ie)}_onBlur(M,ee){const Ie=this._elementInfo.get(ee);!Ie||Ie.checkChildren&&M.relatedTarget instanceof Node&&ee.contains(M.relatedTarget)||(this._setClasses(ee),this._emitOrigin(Ie.subject,null))}_emitOrigin(M,ee){this._ngZone.run(()=>M.next(ee))}_registerGlobalListeners(M){if(!this._platform.isBrowser)return;const ee=M.rootNode,Ie=this._rootNodeFocusListenerCount.get(ee)||0;Ie||this._ngZone.runOutsideAngular(()=>{ee.addEventListener("focus",this._rootNodeFocusAndBlurListener,ln),ee.addEventListener("blur",this._rootNodeFocusAndBlurListener,ln)}),this._rootNodeFocusListenerCount.set(ee,Ie+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ge.R)(this._stopInputModalityDetector)).subscribe(pt=>{this._setOrigin(pt,!0)}))}_removeGlobalListeners(M){const ee=M.rootNode;if(this._rootNodeFocusListenerCount.has(ee)){const Ie=this._rootNodeFocusListenerCount.get(ee);Ie>1?this._rootNodeFocusListenerCount.set(ee,Ie-1):(ee.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ln),ee.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ln),this._rootNodeFocusListenerCount.delete(ee))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(M,ee,Ie){this._setClasses(M,ee),this._emitOrigin(Ie.subject,ee),this._lastFocusOrigin=ee}_getClosestElementsInfo(M){const ee=[];return this._elementInfo.forEach((Ie,pt)=>{(pt===M||Ie.checkChildren&&pt.contains(M))&&ee.push([pt,Ie])}),ee}}return O.\u0275fac=function(M){return new(M||O)(D.LFG(D.R0b),D.LFG(W.t4),D.LFG(Qt),D.LFG(c.K0,8),D.LFG(it,8))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Hn="cdk-high-contrast-black-on-white",Un="cdk-high-contrast-white-on-black",In="cdk-high-contrast-active";let Ce=(()=>{class O{constructor(M,ee){this._platform=M,this._document=ee}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const M=this._document.createElement("div");M.style.backgroundColor="rgb(1,2,3)",M.style.position="absolute",this._document.body.appendChild(M);const ee=this._document.defaultView||window,Ie=ee&&ee.getComputedStyle?ee.getComputedStyle(M):null,pt=(Ie&&Ie.backgroundColor||"").replace(/ /g,"");switch(M.remove(),pt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const M=this._document.body.classList;M.remove(In),M.remove(Hn),M.remove(Un),this._hasCheckedHighContrastMode=!0;const ee=this.getHighContrastMode();1===ee?(M.add(In),M.add(Hn)):2===ee&&(M.add(In),M.add(Un))}}}return O.\u0275fac=function(M){return new(M||O)(D.LFG(W.t4),D.LFG(c.K0))},O.\u0275prov=D.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},226:(xt,Ye,A)=>{A.d(Ye,{vT:()=>Ae,Is:()=>Ve});var c=A(5e3),D=A(9808);const W=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function j(){return(0,c.f3M)(D.K0)}}),Re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ve=(()=>{class de{constructor(be){if(this.value="ltr",this.change=new c.vpe,be){const Ne=be.documentElement?be.documentElement.dir:null;this.value=function Te(de){const ie=(null==de?void 0:de.toLowerCase())||"";return"auto"===ie&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Re.test(navigator.language)?"rtl":"ltr":"rtl"===ie?"rtl":"ltr"}((be.body?be.body.dir:null)||Ne||"ltr")}}ngOnDestroy(){this.change.complete()}}return de.\u0275fac=function(be){return new(be||de)(c.LFG(W,8))},de.\u0275prov=c.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Ae=(()=>{class de{}return de.\u0275fac=function(be){return new(be||de)},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({}),de})()},3191:(xt,Ye,A)=>{A.d(Ye,{Ig:()=>D,fI:()=>Ve,su:()=>W});var c=A(5e3);function D(Ae){return null!=Ae&&"false"!=`${Ae}`}function W(Ae,de=0){return function j(Ae){return!isNaN(parseFloat(Ae))&&!isNaN(Number(Ae))}(Ae)?Number(Ae):de}function Ve(Ae){return Ae instanceof c.SBq?Ae.nativeElement:Ae}},1159:(xt,Ye,A)=>{A.d(Ye,{A:()=>_t,zL:()=>me,jx:()=>Ve,JH:()=>tt,uR:()=>Ge,K5:()=>Re,Sd:()=>Ze,oh:()=>xe,b2:()=>Di,MW:()=>it,aO:()=>Nt,SV:()=>De,JU:()=>Te,L_:()=>be,Mf:()=>W,LH:()=>ut,Z:()=>je,xE:()=>we,Vb:()=>Xn});const W=9,Re=13,Te=16,Ve=17,me=18,be=32,Ge=35,Ze=36,xe=37,ut=38,De=39,tt=40,we=48,Nt=57,_t=65,je=90,it=91,Di=224;function Xn(xn,...zr){return zr.length?zr.some(Ii=>xn[Ii]):xn.altKey||xn.shiftKey||xn.ctrlKey||xn.metaKey}},925:(xt,Ye,A)=>{A.d(Ye,{t4:()=>j,ud:()=>Re,sA:()=>tt,kV:()=>ut,Oy:()=>ke,qK:()=>me,i$:()=>ie});var c=A(5e3),D=A(9808);let W;try{W="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ye){W=!1}let Te,j=(()=>{class ye{constructor(ze){this._platformId=ze,this.isBrowser=this._platformId?(0,D.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ye.\u0275fac=function(ze){return new(ze||ye)(c.LFG(c.Lbi))},ye.\u0275prov=c.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),Re=(()=>{class ye{}return ye.\u0275fac=function(ze){return new(ze||ye)},ye.\u0275mod=c.oAB({type:ye}),ye.\u0275inj=c.cJS({}),ye})();const Ve=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function me(){if(Te)return Te;if("object"!=typeof document||!document)return Te=new Set(Ve),Te;let ye=document.createElement("input");return Te=new Set(Ve.filter(he=>(ye.setAttribute("type",he),ye.type===he))),Te}let Ae,Ze;function ie(ye){return function de(){if(null==Ae&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ae=!0}))}finally{Ae=Ae||!1}return Ae}()?ye:!!ye.capture}function ut(ye){if(function xe(){if(null==Ze){const ye="undefined"!=typeof document?document.head:null;Ze=!(!ye||!ye.createShadowRoot&&!ye.attachShadow)}return Ze}()){const he=ye.getRootNode?ye.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&he instanceof ShadowRoot)return he}return null}function tt(ye){return ye.composedPath?ye.composedPath()[0]:ye.target}function ke(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9808:(xt,Ye,A)=>{A.d(Ye,{mr:()=>De,Ov:()=>Fi,ez:()=>Es,K0:()=>Ve,uU:()=>wi,Do:()=>ke,V_:()=>de,Ye:()=>ye,S$:()=>xe,sg:()=>Ln,O5:()=>Xn,PC:()=>Ei,RF:()=>ir,n9:()=>Ar,b0:()=>tt,lw:()=>me,EM:()=>ne,JF:()=>re,NF:()=>Wn,PM:()=>Si,w_:()=>Te,bD:()=>pi,q:()=>W,Mx:()=>ai,HT:()=>Re});var c=A(5e3);let D=null;function W(){return D}function Re(E){D||(D=E)}class Te{}const Ve=new c.OlP("DocumentToken");let me=(()=>{class E{historyGo(I){throw new Error("Not implemented")}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return function Ae(){return(0,c.LFG)(ie)}()},providedIn:"platform"}),E})();const de=new c.OlP("Location Initialized");let ie=(()=>{class E extends me{constructor(I){super(),this._doc=I,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(I){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",I,!1),()=>$.removeEventListener("popstate",I)}onHashChange(I){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",I,!1),()=>$.removeEventListener("hashchange",I)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(I){this.location.pathname=I}pushState(I,$,pe){be()?this._history.pushState(I,$,pe):this.location.hash=pe}replaceState(I,$,pe){be()?this._history.replaceState(I,$,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}}return E.\u0275fac=function(I){return new(I||E)(c.LFG(Ve))},E.\u0275prov=c.Yz7({token:E,factory:function(){return function ot(){return new ie((0,c.LFG)(Ve))}()},providedIn:"platform"}),E})();function be(){return!!window.history.pushState}function Ne(E,F){if(0==E.length)return F;if(0==F.length)return E;let I=0;return E.endsWith("/")&&I++,F.startsWith("/")&&I++,2==I?E+F.substring(1):1==I?E+F:E+"/"+F}function Ge(E){const F=E.match(/#|\?|$/),I=F&&F.index||E.length;return E.slice(0,I-("/"===E[I-1]?1:0))+E.slice(I)}function Ze(E){return E&&"?"!==E[0]?"?"+E:E}let xe=(()=>{class E{historyGo(I){throw new Error("Not implemented")}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return function ut(E){const F=(0,c.LFG)(Ve).location;return new tt((0,c.LFG)(me),F&&F.origin||"")}()},providedIn:"root"}),E})();const De=new c.OlP("appBaseHref");let tt=(()=>{class E extends xe{constructor(I,$){if(super(),this._platformLocation=I,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return Ne(this._baseHref,I)}path(I=!1){const $=this._platformLocation.pathname+Ze(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&I?`${$}${pe}`:$}pushState(I,$,pe,Je){const ht=this.prepareExternalUrl(pe+Ze(Je));this._platformLocation.pushState(I,$,ht)}replaceState(I,$,pe,Je){const ht=this.prepareExternalUrl(pe+Ze(Je));this._platformLocation.replaceState(I,$,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(I=0){var $,pe;null===(pe=($=this._platformLocation).historyGo)||void 0===pe||pe.call($,I)}}return E.\u0275fac=function(I){return new(I||E)(c.LFG(me),c.LFG(De,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),ke=(()=>{class E extends xe{constructor(I,$){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(I){const $=Ne(this._baseHref,I);return $.length>0?"#"+$:$}pushState(I,$,pe,Je){let ht=this.prepareExternalUrl(pe+Ze(Je));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.pushState(I,$,ht)}replaceState(I,$,pe,Je){let ht=this.prepareExternalUrl(pe+Ze(Je));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.replaceState(I,$,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(I=0){var $,pe;null===(pe=($=this._platformLocation).historyGo)||void 0===pe||pe.call($,I)}}return E.\u0275fac=function(I){return new(I||E)(c.LFG(me),c.LFG(De,8))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})(),ye=(()=>{class E{constructor(I,$){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=I;const pe=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=Ge(we(pe)),this._platformStrategy.onPopState(Je=>{this._subject.emit({url:this.path(!0),pop:!0,state:Je.state,type:Je.type})})}path(I=!1){return this.normalize(this._platformStrategy.path(I))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(I,$=""){return this.path()==this.normalize(I+Ze($))}normalize(I){return E.stripTrailingSlash(function ze(E,F){return E&&F.startsWith(E)?F.substring(E.length):F}(this._baseHref,we(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._platformStrategy.prepareExternalUrl(I)}go(I,$="",pe=null){this._platformStrategy.pushState(pe,"",I,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Ze($)),pe)}replaceState(I,$="",pe=null){this._platformStrategy.replaceState(pe,"",I,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Ze($)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(I=0){var $,pe;null===(pe=($=this._platformStrategy).historyGo)||void 0===pe||pe.call($,I)}onUrlChange(I){this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(I="",$){this._urlChangeListeners.forEach(pe=>pe(I,$))}subscribe(I,$,pe){return this._subject.subscribe({next:I,error:$,complete:pe})}}return E.normalizeQueryParams=Ze,E.joinWithSlash=Ne,E.stripTrailingSlash=Ge,E.\u0275fac=function(I){return new(I||E)(c.LFG(xe),c.LFG(me))},E.\u0275prov=c.Yz7({token:E,factory:function(){return function he(){return new ye((0,c.LFG)(xe),(0,c.LFG)(me))}()},providedIn:"root"}),E})();function we(E){return E.replace(/\/index.html$/,"")}var He=(()=>((He=He||{})[He.Zero=0]="Zero",He[He.One=1]="One",He[He.Two=2]="Two",He[He.Few=3]="Few",He[He.Many=4]="Many",He[He.Other=5]="Other",He))(),We=(()=>((We=We||{})[We.Format=0]="Format",We[We.Standalone=1]="Standalone",We))(),at=(()=>((at=at||{})[at.Narrow=0]="Narrow",at[at.Abbreviated=1]="Abbreviated",at[at.Wide=2]="Wide",at[at.Short=3]="Short",at))(),Be=(()=>((Be=Be||{})[Be.Short=0]="Short",Be[Be.Medium=1]="Medium",Be[Be.Long=2]="Long",Be[Be.Full=3]="Full",Be))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function Wt(E,F){return kn((0,c.cg1)(E)[c.wAp.DateFormat],F)}function tn(E,F){return kn((0,c.cg1)(E)[c.wAp.TimeFormat],F)}function on(E,F){return kn((0,c.cg1)(E)[c.wAp.DateTimeFormat],F)}function an(E,F){const I=(0,c.cg1)(E),$=I[c.wAp.NumberSymbols][F];if(void 0===$){if(F===$e.CurrencyDecimal)return I[c.wAp.NumberSymbols][$e.Decimal];if(F===$e.CurrencyGroup)return I[c.wAp.NumberSymbols][$e.Group]}return $}const An=c.kL8;function _n(E){if(!E[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${E[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kn(E,F){for(let I=F;I>-1;I--)if(void 0!==E[I])return E[I];throw new Error("Locale data API: locale data undefined")}function Mn(E){const[F,I]=E.split(":");return{hours:+F,minutes:+I}}const Dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qt={},vt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),je=(()=>((je=je||{})[je.FullYear=0]="FullYear",je[je.Month=1]="Month",je[je.Date=2]="Date",je[je.Hours=3]="Hours",je[je.Minutes=4]="Minutes",je[je.Seconds=5]="Seconds",je[je.FractionalSeconds=6]="FractionalSeconds",je[je.Day=7]="Day",je))(),it=(()=>((it=it||{})[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it))();function ln(E,F,I,$){let pe=function ae(E){if(Le(E))return E;if("number"==typeof E&&!isNaN(E))return new Date(E);if("string"==typeof E){if(E=E.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(E)){const[pe,Je=1,ht=1]=E.split("-").map(Ot=>+Ot);return fn(pe,Je-1,ht)}const I=parseFloat(E);if(!isNaN(E-I))return new Date(I);let $;if($=E.match(Dn))return function oe(E){const F=new Date(0);let I=0,$=0;const pe=E[8]?F.setUTCFullYear:F.setFullYear,Je=E[8]?F.setUTCHours:F.setHours;E[9]&&(I=Number(E[9]+E[10]),$=Number(E[9]+E[11])),pe.call(F,Number(E[1]),Number(E[2])-1,Number(E[3]));const ht=Number(E[4]||0)-I,Ot=Number(E[5]||0)-$,$t=Number(E[6]||0),Yt=Math.floor(1e3*parseFloat("0."+(E[7]||0)));return Je.call(F,ht,Ot,$t,Yt),F}($)}const F=new Date(E);if(!Le(F))throw new Error(`Unable to convert "${E}" into a date`);return F}(E);F=vn(I,F)||F;let Ot,ht=[];for(;F;){if(Ot=vt.exec(F),!Ot){ht.push(F);break}{ht=ht.concat(Ot.slice(1));const sn=ht.pop();if(!sn)break;F=sn}}let $t=pe.getTimezoneOffset();$&&($t=lt($,$t),pe=function K(E,F,I){const $=I?-1:1,pe=E.getTimezoneOffset();return function qe(E,F){return(E=new Date(E.getTime())).setMinutes(E.getMinutes()+F),E}(E,$*(lt(F,pe)-pe))}(pe,$,!0));let Yt="";return ht.forEach(sn=>{const mn=function rn(E){if(jt[E])return jt[E];let F;switch(E){case"G":case"GG":case"GGG":F=O(it.Eras,at.Abbreviated);break;case"GGGG":F=O(it.Eras,at.Wide);break;case"GGGGG":F=O(it.Eras,at.Narrow);break;case"y":F=Ce(je.FullYear,1,0,!1,!0);break;case"yy":F=Ce(je.FullYear,2,0,!0,!0);break;case"yyy":F=Ce(je.FullYear,3,0,!1,!0);break;case"yyyy":F=Ce(je.FullYear,4,0,!1,!0);break;case"Y":F=dn(1);break;case"YY":F=dn(2,!0);break;case"YYY":F=dn(3);break;case"YYYY":F=dn(4);break;case"M":case"L":F=Ce(je.Month,1,1);break;case"MM":case"LL":F=Ce(je.Month,2,1);break;case"MMM":F=O(it.Months,at.Abbreviated);break;case"MMMM":F=O(it.Months,at.Wide);break;case"MMMMM":F=O(it.Months,at.Narrow);break;case"LLL":F=O(it.Months,at.Abbreviated,We.Standalone);break;case"LLLL":F=O(it.Months,at.Wide,We.Standalone);break;case"LLLLL":F=O(it.Months,at.Narrow,We.Standalone);break;case"w":F=Gt(1);break;case"ww":F=Gt(2);break;case"W":F=Gt(1,!0);break;case"d":F=Ce(je.Date,1);break;case"dd":F=Ce(je.Date,2);break;case"c":case"cc":F=Ce(je.Day,1);break;case"ccc":F=O(it.Days,at.Abbreviated,We.Standalone);break;case"cccc":F=O(it.Days,at.Wide,We.Standalone);break;case"ccccc":F=O(it.Days,at.Narrow,We.Standalone);break;case"cccccc":F=O(it.Days,at.Short,We.Standalone);break;case"E":case"EE":case"EEE":F=O(it.Days,at.Abbreviated);break;case"EEEE":F=O(it.Days,at.Wide);break;case"EEEEE":F=O(it.Days,at.Narrow);break;case"EEEEEE":F=O(it.Days,at.Short);break;case"a":case"aa":case"aaa":F=O(it.DayPeriods,at.Abbreviated);break;case"aaaa":F=O(it.DayPeriods,at.Wide);break;case"aaaaa":F=O(it.DayPeriods,at.Narrow);break;case"b":case"bb":case"bbb":F=O(it.DayPeriods,at.Abbreviated,We.Standalone,!0);break;case"bbbb":F=O(it.DayPeriods,at.Wide,We.Standalone,!0);break;case"bbbbb":F=O(it.DayPeriods,at.Narrow,We.Standalone,!0);break;case"B":case"BB":case"BBB":F=O(it.DayPeriods,at.Abbreviated,We.Format,!0);break;case"BBBB":F=O(it.DayPeriods,at.Wide,We.Format,!0);break;case"BBBBB":F=O(it.DayPeriods,at.Narrow,We.Format,!0);break;case"h":F=Ce(je.Hours,1,-12);break;case"hh":F=Ce(je.Hours,2,-12);break;case"H":F=Ce(je.Hours,1);break;case"HH":F=Ce(je.Hours,2);break;case"m":F=Ce(je.Minutes,1);break;case"mm":F=Ce(je.Minutes,2);break;case"s":F=Ce(je.Seconds,1);break;case"ss":F=Ce(je.Seconds,2);break;case"S":F=Ce(je.FractionalSeconds,1);break;case"SS":F=Ce(je.FractionalSeconds,2);break;case"SSS":F=Ce(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":F=M(At.Short);break;case"ZZZZZ":F=M(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":F=M(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":F=M(At.Long);break;default:return null}return jt[E]=F,F}(sn);Yt+=mn?mn(pe,I,$t):"''"===sn?"'":sn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yt}function fn(E,F,I){const $=new Date(0);return $.setFullYear(E,F,I),$.setHours(0,0,0),$}function vn(E,F){const I=function Nt(E){return(0,c.cg1)(E)[c.wAp.LocaleId]}(E);if(qt[I]=qt[I]||{},qt[I][F])return qt[I][F];let $="";switch(F){case"shortDate":$=Wt(E,Be.Short);break;case"mediumDate":$=Wt(E,Be.Medium);break;case"longDate":$=Wt(E,Be.Long);break;case"fullDate":$=Wt(E,Be.Full);break;case"shortTime":$=tn(E,Be.Short);break;case"mediumTime":$=tn(E,Be.Medium);break;case"longTime":$=tn(E,Be.Long);break;case"fullTime":$=tn(E,Be.Full);break;case"short":const pe=vn(E,"shortTime"),Je=vn(E,"shortDate");$=Hn(on(E,Be.Short),[pe,Je]);break;case"medium":const ht=vn(E,"mediumTime"),Ot=vn(E,"mediumDate");$=Hn(on(E,Be.Medium),[ht,Ot]);break;case"long":const $t=vn(E,"longTime"),Yt=vn(E,"longDate");$=Hn(on(E,Be.Long),[$t,Yt]);break;case"full":const sn=vn(E,"fullTime"),mn=vn(E,"fullDate");$=Hn(on(E,Be.Full),[sn,mn])}return $&&(qt[I][F]=$),$}function Hn(E,F){return F&&(E=E.replace(/\{([^}]+)}/g,function(I,$){return null!=F&&$ in F?F[$]:I})),E}function Un(E,F,I="-",$,pe){let Je="";(E<0||pe&&E<=0)&&(pe?E=1-E:(E=-E,Je=I));let ht=String(E);for(;ht.length<F;)ht="0"+ht;return $&&(ht=ht.substr(ht.length-F)),Je+ht}function Ce(E,F,I=0,$=!1,pe=!1){return function(Je,ht){let Ot=function le(E,F){switch(E){case je.FullYear:return F.getFullYear();case je.Month:return F.getMonth();case je.Date:return F.getDate();case je.Hours:return F.getHours();case je.Minutes:return F.getMinutes();case je.Seconds:return F.getSeconds();case je.FractionalSeconds:return F.getMilliseconds();case je.Day:return F.getDay();default:throw new Error(`Unknown DateType value "${E}".`)}}(E,Je);if((I>0||Ot>-I)&&(Ot+=I),E===je.Hours)0===Ot&&-12===I&&(Ot=12);else if(E===je.FractionalSeconds)return function In(E,F){return Un(E,3).substr(0,F)}(Ot,F);const $t=an(ht,$e.MinusSign);return Un(Ot,F,$t,$,pe)}}function O(E,F,I=We.Format,$=!1){return function(pe,Je){return function x(E,F,I,$,pe,Je){switch(I){case it.Months:return function rt(E,F,I){const $=(0,c.cg1)(E),Je=kn([$[c.wAp.MonthsFormat],$[c.wAp.MonthsStandalone]],F);return kn(Je,I)}(F,pe,$)[E.getMonth()];case it.Days:return function dt(E,F,I){const $=(0,c.cg1)(E),Je=kn([$[c.wAp.DaysFormat],$[c.wAp.DaysStandalone]],F);return kn(Je,I)}(F,pe,$)[E.getDay()];case it.DayPeriods:const ht=E.getHours(),Ot=E.getMinutes();if(Je){const Yt=function wn(E){const F=(0,c.cg1)(E);return _n(F),(F[c.wAp.ExtraData][2]||[]).map($=>"string"==typeof $?Mn($):[Mn($[0]),Mn($[1])])}(F),sn=function Ht(E,F,I){const $=(0,c.cg1)(E);_n($);const Je=kn([$[c.wAp.ExtraData][0],$[c.wAp.ExtraData][1]],F)||[];return kn(Je,I)||[]}(F,pe,$),mn=Yt.findIndex(Vn=>{if(Array.isArray(Vn)){const[V,k]=Vn,N=ht>=V.hours&&Ot>=V.minutes,te=ht<k.hours||ht===k.hours&&Ot<k.minutes;if(V.hours<k.hours){if(N&&te)return!0}else if(N||te)return!0}else if(Vn.hours===ht&&Vn.minutes===Ot)return!0;return!1});if(-1!==mn)return sn[mn]}return function Zt(E,F,I){const $=(0,c.cg1)(E),Je=kn([$[c.wAp.DayPeriodsFormat],$[c.wAp.DayPeriodsStandalone]],F);return kn(Je,I)}(F,pe,$)[ht<12?0:1];case it.Eras:return function Ct(E,F){return kn((0,c.cg1)(E)[c.wAp.Eras],F)}(F,$)[E.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(pe,Je,E,F,I,$)}}function M(E){return function(F,I,$){const pe=-1*$,Je=an(I,$e.MinusSign),ht=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(E){case At.Short:return(pe>=0?"+":"")+Un(ht,2,Je)+Un(Math.abs(pe%60),2,Je);case At.ShortGMT:return"GMT"+(pe>=0?"+":"")+Un(ht,1,Je);case At.Long:return"GMT"+(pe>=0?"+":"")+Un(ht,2,Je)+":"+Un(Math.abs(pe%60),2,Je);case At.Extended:return 0===$?"Z":(pe>=0?"+":"")+Un(ht,2,Je)+":"+Un(Math.abs(pe%60),2,Je);default:throw new Error(`Unknown zone width "${E}"`)}}}function Tt(E){return fn(E.getFullYear(),E.getMonth(),E.getDate()+(4-E.getDay()))}function Gt(E,F=!1){return function(I,$){let pe;if(F){const Je=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,ht=I.getDate();pe=1+Math.floor((ht+Je)/7)}else{const Je=Tt(I),ht=function pt(E){const F=fn(E,0,1).getDay();return fn(E,0,1+(F<=4?4:11)-F)}(Je.getFullYear()),Ot=Je.getTime()-ht.getTime();pe=1+Math.round(Ot/6048e5)}return Un(pe,E,an($,$e.MinusSign))}}function dn(E,F=!1){return function(I,$){return Un(Tt(I).getFullYear(),E,an($,$e.MinusSign),F)}}const jt={};function lt(E,F){E=E.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+E)/6e4;return isNaN(I)?F:I}function Le(E){return E instanceof Date&&!isNaN(E.valueOf())}class rr{}let Pr=(()=>{class E extends rr{constructor(I){super(),this.locale=I}getPluralCategory(I,$){switch(An($||this.locale)(I)){case He.Zero:return"zero";case He.One:return"one";case He.Two:return"two";case He.Few:return"few";case He.Many:return"many";default:return"other"}}}return E.\u0275fac=function(I){return new(I||E)(c.LFG(c.soG))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();function ai(E,F){F=encodeURIComponent(F);for(const I of E.split(";")){const $=I.indexOf("="),[pe,Je]=-1==$?[I,""]:[I.slice(0,$),I.slice($+1)];if(pe.trim()===F)return decodeURIComponent(Je)}return null}class yr{constructor(F,I,$,pe){this.$implicit=F,this.ngForOf=I,this.index=$,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ln=(()=>{class E{constructor(I,$,pe){this._viewContainer=I,this._template=$,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const $=this._viewContainer;I.forEachOperation((pe,Je,ht)=>{if(null==pe.previousIndex)$.createEmbeddedView(this._template,new yr(pe.item,this._ngForOf,-1,-1),null===ht?void 0:ht);else if(null==ht)$.remove(null===Je?void 0:Je);else if(null!==Je){const Ot=$.get(Je);$.move(Ot,ht),Gr(Ot,pe)}});for(let pe=0,Je=$.length;pe<Je;pe++){const Ot=$.get(pe).context;Ot.index=pe,Ot.count=Je,Ot.ngForOf=this._ngForOf}I.forEachIdentityChange(pe=>{Gr($.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(I,$){return!0}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},E.\u0275dir=c.lG2({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),E})();function Gr(E,F){E.context.$implicit=F.item}let Xn=(()=>{class E{constructor(I,$){this._viewContainer=I,this._context=new xn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){zr("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){zr("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,$){return!0}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.s_b),c.Y36(c.Rgc))},E.\u0275dir=c.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),E})();class xn{constructor(){this.$implicit=null,this.ngIf=null}}function zr(E,F){if(F&&!F.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,c.AaK)(F)}'.`)}class Ii{constructor(F,I){this._viewContainerRef=F,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(F){F&&!this._created?this.create():!F&&this._created&&this.destroy()}}let ir=(()=>{class E{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(I)}_matchCase(I){const $=I==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||$,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),$}_updateDefaultCases(I){if(this._defaultViews&&I!==this._defaultUsed){this._defaultUsed=I;for(let $=0;$<this._defaultViews.length;$++)this._defaultViews[$].enforceState(I)}}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275dir=c.lG2({type:E,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),E})(),Ar=(()=>{class E{constructor(I,$,pe){this.ngSwitch=pe,pe._addCase(),this._view=new Ii(I,$)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ir,9))},E.\u0275dir=c.lG2({type:E,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),E})(),Ei=(()=>{class E{constructor(I,$,pe){this._ngEl=I,this._differs=$,this._renderer=pe,this._ngStyle=null,this._differ=null}set ngStyle(I){this._ngStyle=I,!this._differ&&I&&(this._differ=this._differs.find(I).create())}ngDoCheck(){if(this._differ){const I=this._differ.diff(this._ngStyle);I&&this._applyChanges(I)}}_setStyle(I,$){const[pe,Je]=I.split(".");null!=($=null!=$&&Je?`${$}${Je}`:$)?this._renderer.setStyle(this._ngEl.nativeElement,pe,$):this._renderer.removeStyle(this._ngEl.nativeElement,pe)}_applyChanges(I){I.forEachRemovedItem($=>this._setStyle($.key,null)),I.forEachAddedItem($=>this._setStyle($.key,$.currentValue)),I.forEachChangedItem($=>this._setStyle($.key,$.currentValue))}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},E.\u0275dir=c.lG2({type:E,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),E})();function Cr(E,F){return new c.vHH(2100,"")}class ti{createSubscription(F,I){return F.subscribe({next:I,error:$=>{throw $}})}dispose(F){F.unsubscribe()}onDestroy(F){F.unsubscribe()}}class fr{createSubscription(F,I){return F.then(I,$=>{throw $})}dispose(F){}onDestroy(F){}}const Ki=new fr,Dr=new ti;let Fi=(()=>{class E{constructor(I){this._ref=I,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(I){return this._obj?I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue:(I&&this._subscribe(I),this._latestValue)}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,$=>this._updateLatestValue(I,$))}_selectStrategy(I){if((0,c.QGY)(I))return Ki;if((0,c.F4k)(I))return Dr;throw Cr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,$){I===this._obj&&(this._latestValue=$,this._ref.markForCheck())}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.sBO,16))},E.\u0275pipe=c.Yjl({name:"async",type:E,pure:!1}),E})();const Us=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let wi=(()=>{class E{constructor(I,$){this.locale=I,this.defaultTimezone=$}transform(I,$="mediumDate",pe,Je){var ht;if(null==I||""===I||I!=I)return null;try{return ln(I,$,Je||this.locale,null!==(ht=null!=pe?pe:this.defaultTimezone)&&void 0!==ht?ht:void 0)}catch(Ot){throw Cr()}}}return E.\u0275fac=function(I){return new(I||E)(c.Y36(c.soG,16),c.Y36(Us,24))},E.\u0275pipe=c.Yjl({name:"date",type:E,pure:!0}),E})(),Es=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({providers:[{provide:rr,useClass:Pr}]}),E})();const pi="browser";function Wn(E){return E===pi}function Si(E){return"server"===E}let ne=(()=>{class E{}return E.\u0275prov=(0,c.Yz7)({token:E,providedIn:"root",factory:()=>new y((0,c.LFG)(Ve),window)}),E})();class y{constructor(F,I){this.document=F,this.window=I,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const I=function L(E,F){const I=E.getElementById(F)||E.getElementsByName(F)[0];if(I)return I;if("function"==typeof E.createTreeWalker&&E.body&&(E.body.createShadowRoot||E.body.attachShadow)){const $=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let pe=$.currentNode;for(;pe;){const Je=pe.shadowRoot;if(Je){const ht=Je.getElementById(F)||Je.querySelector(`[name="${F}"]`);if(ht)return ht}pe=$.nextNode()}}return null}(this.document,F);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const I=this.window.history;I&&I.scrollRestoration&&(I.scrollRestoration=F)}}scrollToElement(F){const I=F.getBoundingClientRect(),$=I.left+this.window.pageXOffset,pe=I.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo($-Je[0],pe-Je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=_(this.window.history)||_(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch(F){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(F){return!1}}}function _(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class re{}},5e3:(xt,Ye,A)=>{A.d(Ye,{deG:()=>Yc,tb:()=>H0,AFp:()=>V0,ip1:()=>k_,CZH:()=>fh,hGG:()=>lC,z2F:()=>Op,sBO:()=>Uw,Sil:()=>L_,_Vd:()=>Ip,EJc:()=>G0,SBq:()=>Tp,qLn:()=>hc,vpe:()=>gl,tBr:()=>Is,XFs:()=>Ht,OlP:()=>Mr,zs3:()=>Ls,ZZ4:()=>Yg,aQg:()=>Qg,soG:()=>qg,YKP:()=>Qv,h0i:()=>ch,PXZ:()=>xw,R0b:()=>Oo,FiY:()=>vo,Lbi:()=>j0,g9A:()=>B0,n_E:()=>jg,Qsj:()=>fE,FYo:()=>Wv,JOm:()=>As,q3G:()=>yi,tp0:()=>to,Rgc:()=>xp,dDg:()=>q0,q4F:()=>Kv,GfV:()=>qv,s_b:()=>$g,ifc:()=>At,eFA:()=>Y0,G48:()=>Lw,Gpc:()=>ie,f3M:()=>Nl,X6Q:()=>Fw,_c5:()=>tC,VLi:()=>Aw,c2e:()=>$0,zSh:()=>If,wAp:()=>nt,vHH:()=>Ge,EiD:()=>cc,mCW:()=>Q,qzn:()=>Eo,JVY:()=>Pu,pB0:()=>sd,eBb:()=>za,L6k:()=>id,LAX:()=>wo,cg1:()=>U,kL8:()=>fe,yhl:()=>rd,dqk:()=>vn,sIi:()=>Lc,CqO:()=>Qu,QGY:()=>Xd,F4k:()=>ep,RDi:()=>_,AaK:()=>me,z3N:()=>bo,qOj:()=>kc,TTD:()=>Mi,_Bn:()=>$v,xp6:()=>em,uIk:()=>ul,ekj:()=>cp,Suo:()=>y0,Xpm:()=>Tt,lG2:()=>ae,Yz7:()=>Wt,cJS:()=>on,oAB:()=>lt,Yjl:()=>oe,Y36:()=>iu,_UZ:()=>ig,BQk:()=>au,ynx:()=>xo,qZA:()=>su,TgZ:()=>Jd,EpF:()=>sg,n5z:()=>Ds,Ikx:()=>i,LFG:()=>Ni,$8M:()=>mi,$Z:()=>Yd,NdJ:()=>Ko,CRH:()=>_0,kcU:()=>mu,O4$:()=>Oa,oxw:()=>ug,ALo:()=>a0,lcZ:()=>l0,xi3:()=>u0,Hsn:()=>cg,F$t:()=>tp,Q6J:()=>Jf,s9C:()=>np,iGM:()=>m0,MAs:()=>Zm,CHM:()=>gt,LSH:()=>Th,Udp:()=>up,YNc:()=>Km,W1O:()=>w0,_uU:()=>Gs,Oqu:()=>ds,AsE:()=>ih,Gf:()=>g0});var c=A(7579),D=A(727),W=A(8306),j=A(6451),Re=A(3099);function Te(t){for(let n in t)if(t[n]===Te)return n;throw Error("Could not find renamed property on target object.")}function Ve(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Ae(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const de=Te({__forward_ref__:Te});function ie(t){return t.__forward_ref__=ie,t.toString=function(){return me(this())},t}function be(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(de)&&t.__forward_ref__===ie}class Ge extends Error{constructor(n,s){super(function Ze(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function xe(t){return"string"==typeof t?t:null==t?"":String(t)}function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xe(t)}function ye(t,n){const s=n?` in ${n}`:"";throw new Ge(-201,`No provider for ${ut(t)} found${s}`)}function dt(t,n){null==t&&function rt(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return Zn(t,Tn)||Zn(t,_n)}function Zn(t,n){return t.hasOwnProperty(n)?t[n]:null}function On(t){return t&&(t.hasOwnProperty(An)||t.hasOwnProperty(wn))?t[An]:null}const Tn=Te({\u0275prov:Te}),An=Te({\u0275inj:Te}),_n=Te({ngInjectableDef:Te}),wn=Te({ngInjectorDef:Te});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let zn;function Mn(t){const n=zn;return zn=t,n}function Fn(t,n,s){const a=an(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ht.Optional?null:void 0!==n?n:void ye(me(t),"Injector")}function Qt(t){return{toString:t}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),At=(()=>{return(t=At||(At={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",At;var t})();const je="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,vn=je||"undefined"!=typeof global&&global||it||ln,In={},Ce=[],le=Te({\u0275cmp:Te}),O=Te({\u0275dir:Te}),x=Te({\u0275pipe:Te}),M=Te({\u0275mod:Te}),ee=Te({\u0275fac:Te}),Ie=Te({__NG_ELEMENT_ID__:Te});let pt=0;function Tt(t){return Qt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,d=t.features,m=t.pipes;return a.id+=pt++,a.inputs=K(t.inputs,s),a.outputs=K(t.outputs),d&&d.forEach(C=>C(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(dn):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(jt):null,a})}function dn(t){return Le(t)||function mt(t){return t[O]||null}(t)}function jt(t){return function Ut(t){return t[x]||null}(t)}const rn={};function lt(t){return Qt(()=>{const n={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(rn[t.id]=t.type),n})}function K(t,n){if(null==t)return In;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),s[u]=a,n&&(n[u]=d)}return s}const ae=Tt;function oe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Le(t){return t[le]||null}function Xe(t,n){const s=t[M]||null;if(!s&&!0===n)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return s}function ir(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ar(t){return Array.isArray(t)&&!0===t[1]}function bi(t){return 0!=(8&t.flags)}function hs(t){return 2==(2&t.flags)}function Br(t){return 1==(1&t.flags)}function xr(t){return null!==t.template}function Ei(t){return 0!=(512&t[2])}function Rr(t,n){return t.hasOwnProperty(ee)?t[ee]:null}class ji{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Mi(){return ui}function ui(t){return t.type.prototype.ngOnChanges&&(t.setInput=ri),bs}function bs(){const t=pi(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===In)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ri(t,n,s,a){const u=pi(t)||function ws(t,n){return t[Es]=n}(t,{previous:In,current:null}),d=u.current||(u.current={}),m=u.previous,C=this.declaredInputs[s],R=m[C];d[C]=new ji(R&&R.currentValue,n,m===In),t[a]=n}Mi.ngInherit=!0;const Es="__ngSimpleChanges__";function pi(t){return t[Es]||null}let y;function _(t){y=t}function re(t){return!!t.listen}const E={createRenderer:(t,n)=>function L(){return void 0!==y?y:"undefined"!=typeof document?document:void 0}()};function I(t){for(;Array.isArray(t);)t=t[0];return t}function Je(t,n){return I(n[t])}function ht(t,n){return I(n[t.index])}function $t(t,n){return t.data[n]}function Yt(t,n){return t[n]}function sn(t,n){const s=n[t];return ir(s)?s:s[0]}function mn(t){return 4==(4&t[2])}function Vn(t){return 128==(128&t[2])}function k(t,n){return null==n?null:t[n]}function N(t){t[18]=0}function te(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Qe={lFrame:Cs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function B(){return Qe.bindingsEnabled}function ge(){return Qe.lFrame.lView}function Ue(){return Qe.lFrame.tView}function gt(t){return Qe.lFrame.contextLView=t,t[8]}function bt(){let t=Mt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Mt(){return Qe.lFrame.currentTNode}function bn(t,n){const s=Qe.lFrame;s.currentTNode=t,s.isParent=n}function Gn(){return Qe.lFrame.isParent}function er(){Qe.lFrame.isParent=!1}function kr(){return Qe.isInCheckNoChangesMode}function jn(t){Qe.isInCheckNoChangesMode=t}function sr(){const t=Qe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function cr(){return Qe.lFrame.bindingIndex++}function Wr(t){const n=Qe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function qs(t,n){const s=Qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,Sa(n)}function Sa(t){Qe.lFrame.currentDirectiveIndex=t}function yl(){return Qe.lFrame.currentQueryIndex}function Qo(t){Qe.lFrame.currentQueryIndex=t}function Ra(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function No(t,n,s){if(s&Ht.SkipSelf){let u=n,d=t;for(;!(u=u.parent,null!==u||s&Ht.Host||(u=Ra(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;n=u,t=d}const a=Qe.lFrame=Ks();return a.currentTNode=n,a.lView=t,!0}function ho(t){const n=Ks(),s=t[1];Qe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Ks(){const t=Qe.lFrame,n=null===t?null:t.child;return null===n?Cs(t):n}function Cs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function _l(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vl=_l;function ko(){const t=_l();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xi(){return Qe.lFrame.selectedIndex}function xs(t){Qe.lFrame.selectedIndex=t}function Fr(){const t=Qe.lFrame;return $t(t.tView,t.selectedIndex)}function Oa(){Qe.lFrame.currentNamespace="svg"}function mu(){!function tc(){Qe.lFrame.currentNamespace=null}()}function mo(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:X}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),C&&((t.contentHooks||(t.contentHooks=[])).push(s,C),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,C)),R&&(t.viewHooks||(t.viewHooks=[])).push(-s,R),z&&((t.viewHooks||(t.viewHooks=[])).push(s,z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,z)),null!=X&&(t.destroyHooks||(t.destroyHooks=[])).push(s,X)}}function Fo(t,n,s){Zs(t,n,3,s)}function ci(t,n,s,a){(3&t[2])===s&&Zs(t,n,s,a)}function Pa(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Zs(t,n,s,a){const d=null!=a?a:-1,m=n.length-1;let C=0;for(let R=void 0!==a?65535&t[18]:0;R<m;R++)if("number"==typeof n[R+1]){if(C=n[R],null!=a&&C>=a)break}else n[R]<0&&(t[18]+=65536),(C<d||-1==d)&&(go(t,s,n,R),t[18]=(4294901760&t[18])+R+2),R++}function go(t,n,s,a){const u=s[a]<0,d=s[a+1],C=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class Ri{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ci(t,n,s){const a=re(t);let u=0;for(;u<s.length;){const d=s[u];if("number"==typeof d){if(0!==d)break;u++;const m=s[u++],C=s[u++],R=s[u++];a?t.setAttribute(n,C,R,m):n.setAttributeNS(m,C,R)}else{const m=d,C=s[++u];Cl(m)?a&&t.setProperty(n,m,C):a?t.setAttribute(n,m,C):n.setAttribute(m,C),u++}}return u}function wl(t){return 3===t||4===t||6===t}function Cl(t){return 64===t.charCodeAt(0)}function Rs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?s=u:0===s||gu(t,s,u,null,-1===s||2===s?n[++a]:null)}}return t}function gu(t,n,s,a,u){let d=0,m=t.length;if(-1===n)m=-1;else for(;d<t.length;){const C=t[d++];if("number"==typeof C){if(C===n){m=-1;break}if(C>n){m=d-1;break}}}for(;d<t.length;){const C=t[d];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==m&&(t.splice(m,0,n),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}function ii(t){return-1!==t}function _o(t){return 32767&t}function Os(t,n){let s=function Dl(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let ea=!0;function ta(t){const n=ea;return ea=t,n}let Lo=0;function Vt(t,n){const s=S(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Lr(a.data,t),Lr(n,null),Lr(a.blueprint,null));const u=w(t,n),d=t.injectorIndex;if(ii(u)){const m=_o(u),C=Os(u,n),R=C[1].data;for(let z=0;z<8;z++)n[d+z]=C[m+z]|R[m+z]}return n[d+8]=u,d}function Lr(t,n){t.push(0,0,0,0,0,0,0,0,n)}function S(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function w(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=n;for(;null!==u;){const d=u[1],m=d.type;if(a=2===m?d.declTNode:1===m?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function g(t,n,s){!function Il(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ie)&&(a=s[Ie]),null==a&&(a=s[Ie]=Lo++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,s)}function H(t,n,s){if(s&Ht.Optional)return t;ye(n,"NodeInjector")}function q(t,n,s,a){if(s&Ht.Optional&&void 0===a&&(a=null),0==(s&(Ht.Self|Ht.Host))){const u=t[9],d=Mn(void 0);try{return u?u.get(n,a,s&Ht.Optional):Fn(n,a,s&Ht.Optional)}finally{Mn(d)}}return H(a,n,s)}function Y(t,n,s,a=Ht.Default,u){if(null!==t){const d=function _r(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ie)?t[Ie]:void 0;return"number"==typeof n?n>=0?255&n:yt:n}(s);if("function"==typeof d){if(!No(n,t,a))return a&Ht.Host?H(u,s,a):q(n,s,a,u);try{const m=d(a);if(null!=m||a&Ht.Optional)return m;ye(s)}finally{vl()}}else if("number"==typeof d){let m=null,C=S(t,n),R=-1,z=a&Ht.Host?n[16][6]:null;for((-1===C||a&Ht.SkipSelf)&&(R=-1===C?w(t,n):n[C+8],-1!==R&&Ys(a,!1)?(m=n[1],C=_o(R),n=Os(R,n)):C=-1);-1!==C;){const X=n[1];if(vr(d,C,X.data)){const ve=hn(C,n,s,m,a,z);if(ve!==ce)return ve}R=n[C+8],-1!==R&&Ys(a,n[1].data[C+8]===z)&&vr(d,C,n)?(m=X,C=_o(R),n=Os(R,n)):C=-1}}}return q(n,s,a,u)}const ce={};function yt(){return new Gi(bt(),ge())}function hn(t,n,s,a,u,d){const m=n[1],C=m.data[t+8],X=Yn(C,m,s,null==a?hs(C)&&ea:a!=m&&0!=(3&C.type),u&Ht.Host&&d===C);return null!==X?Cn(n,m,X,C):ce}function Yn(t,n,s,a,u){const d=t.providerIndexes,m=n.data,C=1048575&d,R=t.directiveStart,X=d>>20,Ke=u?C+X:t.directiveEnd;for(let ct=a?C:C+X;ct<Ke;ct++){const It=m[ct];if(ct<R&&s===It||ct>=R&&It.type===s)return ct}if(u){const ct=m[R];if(ct&&xr(ct)&&ct.type===s)return R}return null}function Cn(t,n,s,a){let u=t[s];const d=n.data;if(function Jo(t){return t instanceof Ri}(u)){const m=u;m.resolving&&function De(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${t}${s}`)}(ut(d[s]));const C=ta(m.canSeeViewProviders);m.resolving=!0;const R=m.injectImpl?Mn(m.injectImpl):null;No(t,a,Ht.Default);try{u=t[s]=m.factory(void 0,d,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Vs(t,n,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(a){const m=ui(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],n)}finally{null!==R&&Mn(R),ta(C),m.resolving=!1,vl()}}return u}function vr(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Ys(t,n){return!(t&Ht.Self||t&Ht.Host&&n)}class Gi{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return Y(this._tNode,this._lView,n,a,s)}}function Ds(t){return Qt(()=>{const n=t.prototype.constructor,s=n[ee]||Ns(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[ee]||Ns(u);if(d&&d!==s)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Ns(t){return ot(t)?()=>{const n=Ns(be(t));return n&&n()}:Rr(t)}function mi(t){return function P(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const d=s[u];if(wl(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(d===n)return s[u+1];u+=2}}}return null}(bt(),t)}const zi="__parameters__";function Hr(t,n,s){return Qt(()=>{const a=function yu(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(n);function u(...d){if(this instanceof u)return a.apply(this,d),this;const m=new u(...d);return C.annotation=m,C;function C(R,z,X){const ve=R.hasOwnProperty(zi)?R[zi]:Object.defineProperty(R,zi,{value:[]})[zi];for(;ve.length<=X;)ve.push(null);return(ve[X]=ve[X]||[]).push(m),R}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class Mr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Wt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yc=new Mr("AnalyzeForEntryComponents");function Pi(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Pi(a,n)):n!==t&&n.push(a)}return n}function Ji(t,n){t.forEach(s=>Array.isArray(s)?Ji(s,n):n(s))}function ra(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function cn(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function as(t,n,s){let a=eo(t,n);return a>=0?t[1|a]=s:(a=~a,function Sl(t,n,s,a){let u=t.length;if(u==n)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function Fa(t,n){const s=eo(t,n);if(s>=0)return t[1|s]}function eo(t,n){return function Ol(t,n,s){let a=0,u=t.length>>s;for(;u!==a;){const d=a+(u-a>>1),m=t[d<<s];if(n===m)return d<<s;m>n?u=d:a=d+1}return~(u<<s)}(t,n,1)}const oa={},Va="__NG_DI_FLAG__",Uo="ngTempTokenPath",mh=/\n/gm,bu="__source",yh=Te({provide:String,useValue:Te});let Ba;function Eu(t){const n=Ba;return Ba=t,n}function _h(t,n=Ht.Default){if(void 0===Ba)throw new Ge(203,"");return null===Ba?Fn(t,void 0,n):Ba.get(t,n&Ht.Optional?null:void 0,n)}function Ni(t,n=Ht.Default){return(function kn(){return zn}()||_h)(be(t),n)}const Nl=Ni;function Vo(t){const n=[];for(let s=0;s<t.length;s++){const a=be(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ge(900,"");let u,d=Ht.Default;for(let m=0;m<a.length;m++){const C=a[m],R=ic(C);"number"==typeof R?-1===R?u=C.token:d|=R:u=C}n.push(Ni(u,d))}else n.push(Ni(a))}return n}function ks(t,n){return t[Va]=n,t.prototype[Va]=n,t}function ic(t){return t[Va]}const Is=ks(Hr("Inject",t=>({token:t})),-1),vo=ks(Hr("Optional"),8),to=ks(Hr("SkipSelf"),4);let Su;function ua(t){var n;return(null===(n=function oc(){if(void 0===Su&&(Su=null,vn.trustedTypes))try{Su=vn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Su}())||void 0===n?void 0:n.createHTML(t))||t}class js{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wh extends js{getTypeName(){return"HTML"}}class Ch extends js{getTypeName(){return"Style"}}class si extends js{getTypeName(){return"Script"}}class Ou extends js{getTypeName(){return"URL"}}class Ga extends js{getTypeName(){return"ResourceURL"}}function bo(t){return t instanceof js?t.changingThisBreaksApplicationSecurity:t}function Eo(t,n){const s=rd(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function rd(t){return t instanceof js&&t.getTypeName()||null}function Pu(t){return new wh(t)}function id(t){return new Ch(t)}function za(t){return new si(t)}function wo(t){return new Ou(t)}function sd(t){return new Ga(t)}class od{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(ua(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Fl{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=ua(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=ua(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let u=s.length-1;0<u;u--){const m=s.item(u).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&n.removeAttribute(m)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const h=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,T=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Q(t){return(t=String(t)).match(h)||t.match(T)?t:"unsafe:"+t}function st(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function St(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const en=st("area,br,col,hr,img,wbr"),un=st("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=st("rp,rt"),Ho=St(en,St(un,st("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),St(or,st("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),St(or,un)),Nu=st("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wa=st("srcset"),ku=St(Nu,Wa,st("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),st("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ll=st("script,style,template");class qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Ho.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ll.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),m=d.name,C=m.toLowerCase();if(!ku.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let R=d.value;Nu[C]&&(R=Q(R)),Wa[C]&&(t=R,R=(t=String(t)).split(",").map(n=>Q(n.trim())).join(", ")),this.buf.push(" ",m,'="',uc(R),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Ho.hasOwnProperty(s)&&!en.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(uc(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const fa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ul=/([^\#-~ |!])/g;function uc(t){return t.replace(/&/g,"&amp;").replace(fa,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ul,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pa;function cc(t,n){let s=null;try{pa=pa||function lc(t){const n=new Fl(t);return function b(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch(t){return!1}}()?new od(n):n}(t);let a=n?String(n):"";s=pa.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=s.innerHTML,s=pa.getInertBodyElement(a)}while(a!==d);return ua((new qa).sanitizeChildren(Ih(s)||s))}finally{if(s){const a=Ih(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ih(t){return"content"in t&&function Np(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function Th(t){const n=function Vl(){const t=ge();return t&&t[12]}();return n?n.sanitize(yi.URL,t)||"":Eo(t,"URL")?bo(t):Q(xe(t))}const Sh="__ngContext__";function ls(t,n){t[Sh]=n}function xh(t){const n=function dc(t){return t[Sh]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Ka(t){return t.ngOriginalError}function ry(t,...n){t.error(...n)}class hc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function Lu(t){return t&&t.ngErrorLogger||ry}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Ka(n);for(;s&&Ka(s);)s=Ka(s);return s||null}}const us=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vn))();function di(t){return t instanceof Function?t():t}var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();function Oh(t,n){return undefined(t,n)}function Pt(t){const n=t[3];return Ar(n)?n[3]:n}function Nh(t){return Xa(t[13])}function jl(t){return Xa(t[4])}function Xa(t){for(;null!==t&&!Ar(t);)t=t[4];return t}function oo(t,n,s,a,u){if(null!=a){let d,m=!1;Ar(a)?d=a:ir(a)&&(m=!0,a=a[0]);const C=I(a);0===t&&null!==s?null==u?Vh(n,s,C):$l(n,s,C,u||null,!0):1===t&&null!==s?$l(n,s,C,u||null,!0):2===t?function $h(t,n,s){const a=Vu(t,n);a&&function uy(t,n,s,a){re(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,C,m):3===t&&n.destroyNode(C),null!=d&&function rl(t,n,s,a,u){const d=s[7];d!==I(s)&&oo(n,t,a,d,u);for(let C=10;C<s.length;C++){const R=s[C];yc(R[1],R,t,n,a,d)}}(n,t,d,s,u)}}function ys(t,n,s){if(re(t))return t.createElement(n,s);{const a=null!==s?function ne(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(n):t.createElementNS(a,n)}}function hd(t,n){const s=t[9],a=s.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,te(u,-1)),s.splice(a,1)}function fd(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&hd(u,a),n>0&&(t[s-1][4]=a[4]);const d=Ml(t,10+n);!function kh(t,n){yc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Hl(t,n){if(!(256&n[2])){const s=n[11];re(s)&&s.destroyNode&&yc(t,n,s,3,null,null),function Kp(t){let n=t[13];if(!n)return tl(t[1],t);for(;n;){let s=null;if(ir(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)ir(n)&&tl(n[1],n),n=n[3];null===n&&(n=t),ir(n)&&tl(n[1],n),s=n&&n[4]}n=s}}(n)}}function tl(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function pc(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=n[s[a]];if(!(u instanceof Ri)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const C=u[d[m]],R=d[m+1];try{R.call(C)}finally{}}else try{d.call(u)}finally{}}}}(t,n),function Uu(t,n){const s=t.cleanup,a=n[7];let u=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],C="function"==typeof m?m(n):I(n[m]),R=a[u=s[d+2]],z=s[d+3];"boolean"==typeof z?C.removeEventListener(s[d],R,z):z>=0?a[u=z]():a[u=-z].unsubscribe(),d+=2}else{const m=a[u=s[d+1]];s[d].call(m)}if(null!==a){for(let d=u+1;d<a.length;d++)a[d]();n[7]=null}}(t,n),1===n[1].type&&re(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Ar(n[3])){s!==n[3]&&hd(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Uh(t,n,s){return function pd(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===At.None||u===At.Emulated)return null}return ht(a,s)}(t,n.parent,s)}function $l(t,n,s,a,u){re(t)?t.insertBefore(n,s,a,u):n.insertBefore(s,a,u)}function Vh(t,n,s){re(t)?t.appendChild(n,s):n.appendChild(s)}function Bh(t,n,s,a,u){null!==a?$l(t,n,s,a,u):Vh(t,n,s)}function Vu(t,n){return re(t)?t.parentNode(n):n.parentNode}function jh(t,n,s){return Ms(t,n,s)}let Ms=function Hh(t,n,s){return 40&t.type?ht(t,s):null};function Bu(t,n,s,a){const u=Uh(t,a,n),d=n[11],C=jh(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(s))for(let R=0;R<s.length;R++)Bh(d,u,s[R],C,!1);else Bh(d,u,s,C,!1)}function gc(t,n){if(null!==n){const s=n.type;if(3&s)return ht(n,t);if(4&s)return nl(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return gc(t,a);{const u=t[n.index];return Ar(u)?nl(-1,u):I(u)}}if(32&s)return Oh(n,t)()||I(t[n.index]);{const a=ga(t,n);return null!==a?Array.isArray(a)?a[0]:gc(Pt(t[16]),a):gc(t,n.next)}}return null}function ga(t,n){return null!==n?t[16][6].projection[n.projection]:null}function nl(t,n){const s=10+t+1;if(s<n.length){const a=n[s],u=a[1].firstChild;if(null!==u)return gc(a,u)}return n[7]}function ya(t,n,s,a,u,d,m){for(;null!=s;){const C=a[s.index],R=s.type;if(m&&0===n&&(C&&ls(I(C),a),s.flags|=4),64!=(64&s.flags))if(8&R)ya(t,n,s.child,a,u,d,!1),oo(n,t,u,C,d);else if(32&R){const z=Oh(s,a);let X;for(;X=z();)oo(n,t,u,X,d);oo(n,t,u,C,d)}else 16&R?Gh(t,n,a,s,u,d):oo(n,t,u,C,d);s=m?s.projectionNext:s.next}}function yc(t,n,s,a,u,d){ya(s,a,t.firstChild,n,u,d,!1)}function Gh(t,n,s,a,u,d){const m=s[16],R=m[6].projection[a.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)oo(n,t,u,R[z],d);else ya(t,n,R,m[3],u,d,!0)}function gd(t,n,s){re(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function yd(t,n,s){re(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Yp(t,n,s){let a=t.length;for(;;){const u=t.indexOf(n,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=n.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}s=u+1}}const Qp="ng-template";function dy(t,n,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==Yp(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function _c(t){return 4===t.type&&t.value!==Qp}function Hu(t,n,s){return n===(4!==t.type||s?t.value:Qp)}function Jp(t,n,s){let a=4;const u=t.attrs||[],d=function _d(t){for(let n=0;n<t.length;n++)if(wl(t[n]))return n;return t.length}(u);let m=!1;for(let C=0;C<n.length;C++){const R=n[C];if("number"!=typeof R){if(!m)if(4&a){if(a=2|1&a,""!==R&&!Hu(t,R,s)||""===R&&1===n.length){if(Do(a))return!1;m=!0}}else{const z=8&a?R:n[++C];if(8&a&&null!==t.attrs){if(!dy(t.attrs,z,s)){if(Do(a))return!1;m=!0}continue}const ve=hy(8&a?"class":R,u,_c(t),s);if(-1===ve){if(Do(a))return!1;m=!0;continue}if(""!==z){let Ke;Ke=ve>d?"":u[ve+1].toLowerCase();const ct=8&a?Ke:null;if(ct&&-1!==Yp(ct,z,0)||2&a&&z!==Ke){if(Do(a))return!1;m=!0}}}}else{if(!m&&!Do(a)&&!Do(R))return!1;if(m&&Do(R))continue;m=!1,a=R|1&a}}return Do(a)||m}function Do(t){return 0==(1&t)}function hy(t,n,s,a){if(null===n)return-1;let u=0;if(a||!s){let d=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)d=!0;else{if(1===m||2===m){let C=n[++u];for(;"string"==typeof C;)C=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=d?1:2}return-1}return function fy(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function zh(t,n,s=!1){for(let a=0;a<n.length;a++)if(Jp(t,n[a],s))return!0;return!1}function Xp(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function vd(t,n){return t?":not("+n.trim()+")":n}function Wh(t){let n=t[0],s=1,a=2,u="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const C=t[++s];u+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!Do(m)&&(n+=vd(d,u),u=""),a=m,d=d||!Do(a);s++}return""!==u&&(n+=vd(d,u)),n}const Kn={};function em(t){qh(Ue(),ge(),xi()+t,kr())}function qh(t,n,s,a){if(!a)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&Fo(n,d,s)}else{const d=t.preOrderHooks;null!==d&&ci(n,d,0,s)}xs(s)}function bc(t,n){return t<<17|n<<2}function Io(t){return t>>17&32767}function Ec(t){return 2|t}function _a(t){return(131068&t)>>2}function wd(t,n){return-131069&t|n<<2}function Cd(t){return 1|t}function pm(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],d=s[a+1];if(-1!==d){const m=t.data[d];Qo(u),m.contentQueries(2,n[d],d)}}}function Cc(t,n,s,a,u,d,m,C,R,z){const X=n.blueprint.slice();return X[0]=u,X[2]=140|a,N(X),X[3]=X[15]=t,X[8]=s,X[10]=m||t&&t[10],X[11]=C||t&&t[11],X[12]=R||t&&t[12]||null,X[9]=z||t&&t[9]||null,X[6]=d,X[16]=2==n.type?t[16]:X,X}function zo(t,n,s,a,u){let d=t.data[n];if(null===d)d=function Dc(t,n,s,a,u){const d=Mt(),m=Gn(),R=t.data[n]=function lf(t,n,s,a,u,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,n,a,u);return null===t.firstChild&&(t.firstChild=R),null!==d&&(m?null==d.child&&null!==R.parent&&(d.child=R):null===d.next&&(d.next=R)),R}(t,n,s,a,u),function Ws(){return Qe.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=u;const m=function gn(){const t=Qe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return bn(d,!0),d}function Ao(t,n,s,a){if(0===s)return-1;const u=n.length;for(let d=0;d<s;d++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function ql(t,n,s){ho(n);try{const a=t.viewQuery;null!==a&&Fd(1,a,s);const u=t.template;null!==u&&Sd(t,n,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pm(t,n),t.staticViewQueries&&Fd(2,t.viewQuery,s);const d=t.components;null!==d&&function wy(t,n){for(let s=0;s<n.length;s++)My(t,n[s])}(n,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,ko()}}function va(t,n,s,a){const u=n[2];if(256==(256&u))return;ho(n);const d=kr();try{N(n),function mr(t){return Qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Sd(t,n,s,2,a);const m=3==(3&u);if(!d)if(m){const z=t.preOrderCheckHooks;null!==z&&Fo(n,z,null)}else{const z=t.preOrderHooks;null!==z&&ci(n,z,0,null),Pa(n,0)}if(function vf(t){for(let n=Nh(t);null!==n;n=jl(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const u=s[a],d=u[3];0==(1024&u[2])&&te(d,1),u[2]|=1024}}}(n),function _f(t){for(let n=Nh(t);null!==n;n=jl(n))for(let s=10;s<n.length;s++){const a=n[s],u=a[1];Vn(a)&&va(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&pm(t,n),!d)if(m){const z=t.contentCheckHooks;null!==z&&Fo(n,z)}else{const z=t.contentHooks;null!==z&&ci(n,z,1),Pa(n,1)}!function by(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)xs(~u);else{const d=u,m=s[++a],C=s[++a];qs(m,d),C(2,n[d])}}}finally{xs(-1)}}(t,n);const C=t.components;null!==C&&function Ey(t,n){for(let s=0;s<n.length;s++)bf(t,n[s])}(n,C);const R=t.viewQuery;if(null!==R&&Fd(2,R,a),!d)if(m){const z=t.viewCheckHooks;null!==z&&Fo(n,z)}else{const z=t.viewHooks;null!==z&&ci(n,z,2),Pa(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,te(n[3],-1))}finally{ko()}}function Ic(t,n,s,a){const u=n[10],d=!kr(),m=mn(n);try{d&&!m&&u.begin&&u.begin(),m&&ql(t,n,a),va(t,n,s,a)}finally{d&&!m&&u.end&&u.end()}}function Sd(t,n,s,a,u){const d=xi(),m=2&a;try{xs(-1),m&&n.length>20&&qh(t,n,20,kr()),s(a,u)}finally{xs(d)}}function af(t,n,s){if(bi(n)){const u=n.directiveEnd;for(let d=n.directiveStart;d<u;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}function Tc(t,n,s){!B()||(function pf(t,n,s,a){const u=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||Vt(s,n),ls(a,n);const m=s.initialInputs;for(let C=u;C<d;C++){const R=t.data[C],z=xr(R);z&&yf(n,s,R);const X=Cn(n,t,C,s);ls(X,n),null!==m&&_m(0,C-u,X,R,0,m),z&&(sn(s.index,n)[8]=X)}}(t,n,s,ht(s,n)),128==(128&s.flags)&&function Ay(t,n,s){const a=s.directiveStart,u=s.directiveEnd,m=s.index,C=function co(){return Qe.lFrame.currentDirectiveIndex}();try{xs(m);for(let R=a;R<u;R++){const z=t.data[R],X=n[R];Sa(R),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Pd(z,X)}}finally{xs(-1),Sa(C)}}(t,n,s))}function Ac(t,n,s=ht){const a=n.localNames;if(null!==a){let u=n.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],C=-1===m?s(n,t):t[m];t[u++]=C}}}function ba(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Mc(t,n,s,a,u,d,m,C,R,z){const X=20+a,ve=X+u,Ke=function Cy(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:Kn);return s}(X,ve),ct="function"==typeof z?z():z;return Ke[1]={type:t,blueprint:Ke,template:s,queries:null,viewQuery:C,declTNode:n,data:Ke.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:R,consts:ct,incompleteFirstPass:!1}}function mm(t,n,s,a){const u=wm(n);null===s?u.push(a):(u.push(s),t.firstCreatePass&&Cm(t).push(a,u.length-1))}function Sc(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,u):s[a]=[n,u]}return s}function rs(t,n,s,a,u,d,m,C){const R=ht(n,s);let X,z=n.inputs;!C&&null!=z&&(X=z[a])?(Vd(t,s,X,a,u),hs(n)&&function cf(t,n){const s=sn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function gm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=m?m(u,n.value||"",a):u,re(d)?d.setProperty(R,a,u):Cl(a)||(R.setProperty?R.setProperty(a,u):R[a]=u))}function ff(t,n,s,a){let u=!1;if(B()){const d=function ym(t,n,s){const a=t.directiveRegistry;let u=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];zh(s,m.selectors,!1)&&(u||(u=[]),g(Vt(s,n),t,m.type),xr(m)?(Nd(t,s),u.unshift(m)):u.push(m))}return u}(t,n,s),m=null===a?null:{"":-1};if(null!==d){u=!0,Kl(s,t.data.length,d.length);for(let X=0;X<d.length;X++){const ve=d[X];ve.providersResolver&&ve.providersResolver(ve)}let C=!1,R=!1,z=Ao(t,n,d.length,null);for(let X=0;X<d.length;X++){const ve=d[X];s.mergedAttrs=Rs(s.mergedAttrs,ve.hostAttrs),Ea(t,s,n,z,ve),gf(z,ve,m),null!==ve.contentQueries&&(s.flags|=8),(null!==ve.hostBindings||null!==ve.hostAttrs||0!==ve.hostVars)&&(s.flags|=128);const Ke=ve.type.prototype;!C&&(Ke.ngOnChanges||Ke.ngOnInit||Ke.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),C=!0),!R&&(Ke.ngOnChanges||Ke.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),R=!0),z++}!function uf(t,n){const a=n.directiveEnd,u=t.data,d=n.attrs,m=[];let C=null,R=null;for(let z=n.directiveStart;z<a;z++){const X=u[z],ve=X.inputs,Ke=null===d||_c(n)?null:zu(ve,d);m.push(Ke),C=Sc(ve,z,C),R=Sc(X.outputs,z,R)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=16),C.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=m,n.inputs=C,n.outputs=R}(t,s)}m&&function mf(t,n,s){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const d=s[n[u+1]];if(null==d)throw new Ge(-301,!1);a.push(n[u],d)}}}(s,a,m)}return s.mergedAttrs=Rs(s.mergedAttrs,s.attrs),u}function Od(t,n,s,a,u,d){const m=d.hostBindings;if(m){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const R=~n.index;(function Ty(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=R&&C.push(R),C.push(a,u,m)}}function Pd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Nd(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function gf(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;xr(n)&&(s[""]=t)}}function Kl(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Ea(t,n,s,a,u){t.data[a]=u;const d=u.factory||(u.factory=Rr(u.type)),m=new Ri(d,xr(u),null);t.blueprint[a]=m,s[a]=m,Od(t,n,0,a,Ao(t,s,u.hostVars,Kn),u)}function yf(t,n,s){const a=ht(n,t),u=ba(s),d=t[10],m=Wu(t,Cc(t,u,null,s.onPush?64:16,a,n,d,d.createRenderer(a,s),null,null));t[n.index]=m}function Ss(t,n,s,a,u,d){const m=ht(t,n);!function sl(t,n,s,a,u,d,m){if(null==d)re(t)?t.removeAttribute(n,u,s):n.removeAttribute(u);else{const C=null==m?xe(d):m(d,a||"",u);re(t)?t.setAttribute(n,u,C,s):s?n.setAttributeNS(s,u,C):n.setAttribute(u,C)}}(n[11],m,d,t.value,s,a,u)}function _m(t,n,s,a,u,d){const m=d[n];if(null!==m){const C=a.setInput;for(let R=0;R<m.length;){const z=m[R++],X=m[R++],ve=m[R++];null!==C?a.setInput(s,ve,z,X):s[X]=ve}}}function zu(t,n){let s=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return s}function vm(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function bf(t,n){const s=sn(n,t);if(Vn(s)){const a=s[1];80&s[2]?va(a,s,a.template,s[8]):s[5]>0&&xc(s)}}function xc(t){for(let a=Nh(t);null!==a;a=jl(a))for(let u=10;u<a.length;u++){const d=a[u];if(1024&d[2]){const m=d[1];va(m,d,m.template,d[8])}else d[5]>0&&xc(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=sn(s[a],t);Vn(u)&&u[5]>0&&xc(u)}}function My(t,n){const s=sn(n,t),a=s[1];(function Sy(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),ql(a,s,s[8])}function Wu(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Rc(t){for(;t;){t[2]|=64;const n=Pt(t);if(Ei(t)&&!n)return t;t=n}return null}function Ef(t,n,s){const a=n[10];a.begin&&a.begin();try{va(t,n,t.template,s)}catch(u){throw Ud(n,u),u}finally{a.end&&a.end()}}function wf(t){!function kd(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=xh(s),u=a[1];Ic(u,a,u.template,s)}}(t[8])}function Fd(t,n,s){Qo(0),n(t,s)}const Ry=(()=>Promise.resolve(null))();function wm(t){return t[7]||(t[7]=[])}function Cm(t){return t.cleanup||(t.cleanup=[])}function Ud(t,n){const s=t[9],a=s?s.get(hc,null):null;a&&a.handleError(n)}function Vd(t,n,s,a,u){for(let d=0;d<s.length;){const m=s[d++],C=s[d++],R=n[m],z=t.data[m];null!==z.setInput?z.setInput(R,u,a,C):R[C]=u}}function wa(t,n,s){const a=Je(n,t);!function dd(t,n,s){re(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function qu(t,n,s){let a=s?t.styles:null,u=s?t.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const C=n[m];"number"==typeof C?d=C:1==d?u=Ae(u,C):2==d&&(a=Ae(a,C+": "+n[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const Oc=new Mr("INJECTOR",-1);class Df{get(n,s=oa){if(s===oa){const a=new Error(`NullInjectorError: No provider for ${me(n)}!`);throw a.name="NullInjectorError",a}return s}}const If=new Mr("Set Injector scope."),Zl={},Ny={};let Pc;function Dm(){return void 0===Pc&&(Pc=new Df),Pc}function Bd(t,n=null,s=null,a){const u=Im(t,n,s,a);return u._resolveInjectorDefTypes(),u}function Im(t,n=null,s=null,a){return new Tf(t,s,n||Dm(),a)}class Tf{constructor(n,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&Ji(s,C=>this.processProvider(C,n,s)),Ji([n],C=>this.processInjectorType(C,[],d)),this.records.set(Oc,ol(void 0,this));const m=this.records.get(If);this.scope=null!=m?m.value:null,this.source=u||("object"==typeof n?null:me(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=oa,a=Ht.Default){this.assertNotDestroyed();const u=Eu(this),d=Mn(void 0);try{if(!(a&Ht.SkipSelf)){let C=this.records.get(n);if(void 0===C){const R=function Ly(t){return"function"==typeof t||"object"==typeof t&&t instanceof Mr}(n)&&an(n);C=R&&this.injectableDefInScope(R)?ol(Nc(n),Zl):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(a&Ht.Self?Dm():this.parent).get(n,s=a&Ht.Optional&&s===oa?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Uo]=m[Uo]||[]).unshift(me(n)),u)throw m;return function sc(t,n,s,a){const u=t[Uo];throw n[bu]&&u.unshift(n[bu]),t.message=function Cu(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=me(n);if(Array.isArray(n))u=n.map(me).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let C=n[m];d.push(m+":"+("string"==typeof C?JSON.stringify(C):me(C)))}u=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(mh,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[Uo]=null,t}(m,n,"R3InjectorError",this.source)}throw m}finally{Mn(d),Eu(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(me(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processInjectorType(n,s,a){if(!(n=be(n)))return!1;let u=On(n);const d=null==u&&n.ngModule||void 0,m=void 0===d?n:d,C=-1!==a.indexOf(m);if(void 0!==d&&(u=On(d)),null==u)return!1;if(null!=u.imports&&!C){let X;a.push(m);try{Ji(u.imports,ve=>{this.processInjectorType(ve,s,a)&&(void 0===X&&(X=[]),X.push(ve))})}finally{}if(void 0!==X)for(let ve=0;ve<X.length;ve++){const{ngModule:Ke,providers:ct}=X[ve];Ji(ct,It=>this.processProvider(It,Ke,ct||Ce))}}this.injectorDefTypes.add(m);const R=Rr(m)||(()=>new m);this.records.set(m,ol(R,Zl));const z=u.providers;if(null!=z&&!C){const X=n;Ji(z,ve=>this.processProvider(ve,X,z))}return void 0!==d&&void 0!==n.providers}processProvider(n,s,a){let u=al(n=be(n))?n:be(n&&n.provide);const d=function Ku(t,n,s){return Tm(t)?ol(void 0,t.useValue):ol(Mf(t),Zl)}(n);if(al(n)||!0!==n.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=ol(void 0,Zl,!0),m.factory=()=>Vo(m.multi),this.records.set(u,m)),u=n,m.multi.push(n)}this.records.set(u,d)}hydrate(n,s){return s.value===Zl&&(s.value=Ny,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Fy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=be(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Nc(t){const n=an(t),s=null!==n?n.factory:Rr(t);if(null!==s)return s;if(t instanceof Mr)throw new Ge(204,!1);if(t instanceof Function)return function Af(t){const n=t.length;if(n>0)throw cn(n,"?"),new Ge(204,!1);const s=function Bn(t){const n=t&&(t[Tn]||t[_n]);if(n){const s=function Pn(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ge(204,!1)}function Mf(t,n,s){let a;if(al(t)){const u=be(t);return Rr(u)||Nc(u)}if(Tm(t))a=()=>be(t.useValue);else if(function Ca(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Vo(t.deps||[]));else if(function Sf(t){return!(!t||!t.useExisting)}(t))a=()=>Ni(be(t.useExisting));else{const u=be(t&&(t.useClass||t.provide));if(!function xf(t){return!!t.deps}(t))return Rr(u)||Nc(u);a=()=>new u(...Vo(t.deps))}return a}function ol(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Tm(t){return null!==t&&"object"==typeof t&&yh in t}function al(t){return"function"==typeof t}let Ls=(()=>{class t{static create(s,a){var u;if(Array.isArray(s))return Bd({name:""},a,s,"");{const d=null!==(u=s.name)&&void 0!==u?u:"";return Bd({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=oa,t.NULL=new Df,t.\u0275prov=Wt({token:t,providedIn:"any",factory:()=>Ni(Oc)}),t.__NG_ELEMENT_ID__=-1,t})();function Bm(t,n){mo(xh(t)[1],bt())}function kc(t){let n=function Uf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let u;if(xr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ge(903,"");u=n.\u0275dir}if(u){if(s){a.push(u);const m=t;m.inputs=Fc(t.inputs),m.declaredInputs=Fc(t.declaredInputs),m.outputs=Fc(t.outputs);const C=u.hostBindings;C&&Hm(t,C);const R=u.viewQuery,z=u.contentQueries;if(R&&Gd(t,R),z&&Bf(t,z),Ve(t.inputs,u.inputs),Ve(t.declaredInputs,u.declaredInputs),Ve(t.outputs,u.outputs),xr(u)&&u.data.animation){const X=t.data;X.animation=(X.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let m=0;m<d.length;m++){const C=d[m];C&&C.ngInherit&&C(t),C===kc&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Vf(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=Rs(u.hostAttrs,s=Rs(s,u.hostAttrs))}}(a)}function Fc(t){return t===In?{}:t===Ce?[]:t}function Gd(t,n){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{n(a,u),s(a,u)}:n}function Bf(t,n){const s=t.contentQueries;t.contentQueries=s?(a,u,d)=>{n(a,u,d),s(a,u,d)}:n}function Hm(t,n){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{n(a,u),s(a,u)}:n}let Da=null;function ll(){if(!Da){const t=vn.Symbol;if(t&&t.iterator)Da=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Da=a)}}}return Da}function Lc(t){return!!$f(t)&&(Array.isArray(t)||!(t instanceof Map)&&ll()in t)}function $f(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mo(t,n,s){return t[n]=s}function _s(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Yl(t,n,s,a){const u=_s(t,n,s);return _s(t,n+1,a)||u}function ul(t,n,s,a){const u=ge();return _s(u,cr(),n)&&(Ue(),Ss(Fr(),u,t,n,s,a)),ul}function cl(t,n,s,a){return _s(t,cr(),s)?n+xe(s)+a:Kn}function Jl(t,n,s,a,u,d){const C=Yl(t,function pr(){return Qe.lFrame.bindingIndex}(),s,u);return Wr(2),C?n+xe(s)+a+xe(u)+d:Kn}function Km(t,n,s,a,u,d,m,C){const R=ge(),z=Ue(),X=t+20,ve=z.firstCreatePass?function qm(t,n,s,a,u,d,m,C,R){const z=n.consts,X=zo(n,t,4,m||null,k(z,C));ff(n,s,X,k(z,R)),mo(n,X);const ve=X.tViews=Mc(2,X,a,u,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z);return null!==n.queries&&(n.queries.template(n,X),ve.queries=n.queries.embeddedTView(X)),X}(X,z,R,n,s,a,u,d,m):z.data[X];bn(ve,!1);const Ke=R[11].createComment("");Bu(z,R,Ke,ve),ls(Ke,R),Wu(R,R[X]=vm(Ke,R,Ke,ve)),Br(ve)&&Tc(z,R,ve),null!=m&&Ac(R,ve,C)}function Zm(t){return Yt(function Qr(){return Qe.lFrame.contextLView}(),20+t)}function iu(t,n=Ht.Default){const s=ge();return null===s?Ni(t,n):Y(bt(),s,be(t),n)}function Yd(){throw new Error("invalid")}function Jf(t,n,s){const a=ge();return _s(a,cr(),n)&&rs(Ue(),Fr(),a,t,n,a[11],s,!1),Jf}function Yu(t,n,s,a,u){const m=u?"class":"style";Vd(t,s,n.inputs[m],m,a)}function Jd(t,n,s,a){const u=ge(),d=Ue(),m=20+t,C=u[11],R=u[m]=ys(C,n,function po(){return Qe.lFrame.currentNamespace}()),z=d.firstCreatePass?function Qd(t,n,s,a,u,d,m){const C=n.consts,z=zo(n,t,2,u,k(C,d));return ff(n,s,z,k(C,m)),null!==z.attrs&&qu(z,z.attrs,!1),null!==z.mergedAttrs&&qu(z,z.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,z),z}(m,d,u,0,n,s,a):d.data[m];bn(z,!0);const X=z.mergedAttrs;null!==X&&Ci(C,R,X);const ve=z.classes;null!==ve&&yd(C,R,ve);const Ke=z.styles;null!==Ke&&gd(C,R,Ke),64!=(64&z.flags)&&Bu(d,u,R,z),0===function ur(){return Qe.lFrame.elementDepthCount}()&&ls(R,u),function dr(){Qe.lFrame.elementDepthCount++}(),Br(z)&&(Tc(d,u,z),af(d,z,u)),null!==a&&Ac(u,z)}function su(){let t=bt();Gn()?er():(t=t.parent,bn(t,!1));const n=t;!function G(){Qe.lFrame.elementDepthCount--}();const s=Ue();s.firstCreatePass&&(mo(s,t),bi(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Xo(t){return 0!=(16&t.flags)}(n)&&Yu(s,n,ge(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function os(t){return 0!=(32&t.flags)}(n)&&Yu(s,n,ge(),n.stylesWithoutHost,!1)}function ig(t,n,s,a){Jd(t,n,s,a),su()}function xo(t,n,s){const a=ge(),u=Ue(),d=t+20,m=u.firstCreatePass?function ou(t,n,s,a,u){const d=n.consts,m=k(d,a),C=zo(n,t,8,"ng-container",m);return null!==m&&qu(C,m,!0),ff(n,s,C,k(d,u)),null!==n.queries&&n.queries.elementStart(n,C),C}(d,u,a,n,s):u.data[d];bn(m,!0);const C=a[d]=a[11].createComment("");Bu(u,a,C,m),ls(C,a),Br(m)&&(Tc(u,a,m),af(u,m,a)),null!=s&&Ac(a,m)}function au(){let t=bt();const n=Ue();Gn()?er():(t=t.parent,bn(t,!1)),n.firstCreatePass&&(mo(n,t),bi(t)&&n.queries.elementEnd(t))}function sg(){return ge()}function Xd(t){return!!t&&"function"==typeof t.then}function ep(t){return!!t&&"function"==typeof t.subscribe}const Qu=ep;function Ko(t,n,s,a){const u=ge(),d=Ue(),m=bt();return function ag(t,n,s,a,u,d,m,C){const R=Br(a),X=t.firstCreatePass&&Cm(t),ve=n[8],Ke=wm(n);let ct=!0;if(3&a.type||C){const nn=ht(a,n),En=C?C(nn):nn,Rt=Ke.length,Nn=C?hr=>C(I(hr[a.index])):a.index;if(re(s)){let hr=null;if(!C&&R&&(hr=function Qy(t,n,s,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const m=u[d];if(m===s&&u[d+1]===a){const C=n[7],R=u[d+2];return C.length>R?C[R]:null}"string"==typeof m&&(d+=2)}return null}(t,n,u,a.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=d,hr.__ngLastListenerFn__=d,ct=!1;else{d=eh(a,n,ve,d,!1);const Vr=s.listen(En,u,d);Ke.push(d,Vr),X&&X.push(u,Nn,Rt,Rt+1)}}else d=eh(a,n,ve,d,!0),En.addEventListener(u,d,m),Ke.push(d),X&&X.push(u,Nn,Rt,m)}else d=eh(a,n,ve,d,!1);const It=a.outputs;let Kt;if(ct&&null!==It&&(Kt=It[u])){const nn=Kt.length;if(nn)for(let En=0;En<nn;En+=2){const Po=n[Kt[En]][Kt[En+1]].subscribe(d),Kc=Ke.length;Ke.push(d,Po),X&&X.push(u,a.index,Kc,-(Kc+1))}}}(d,u,u[11],m,t,n,!!s,a),Ko}function lg(t,n,s,a){try{return!1!==s(a)}catch(u){return Ud(t,u),!1}}function eh(t,n,s,a,u){return function d(m){if(m===Function)return a;const C=2&t.flags?sn(t.index,n):n;0==(32&n[2])&&Rc(C);let R=lg(n,0,a,m),z=d.__ngNextListenerFn__;for(;z;)R=lg(n,0,z,m)&&R,z=z.__ngNextListenerFn__;return u&&!1===R&&(m.preventDefault(),m.returnValue=!1),R}}function ug(t=1){return function fo(t){return(Qe.lFrame.contextLView=function pu(t,n){for(;t>0;)n=n[15],t--;return n}(t,Qe.lFrame.contextLView))[8]}(t)}function Jy(t,n){let s=null;const a=function il(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let u=0;u<n.length;u++){const d=n[u];if("*"!==d){if(null===a?zh(t,d,!0):Xp(a,d))return u}else s=u}return s}function tp(t){const n=ge()[16][6];if(!n.projection){const a=n.projection=cn(t?t.length:1,null),u=a.slice();let d=n.child;for(;null!==d;){const m=t?Jy(d,t):0;null!==m&&(u[m]?u[m].projectionNext=d:a[m]=d,u[m]=d),d=d.next}}}function cg(t,n=0,s){const a=ge(),u=Ue(),d=zo(u,20+t,16,null,s||null);null===d.projection&&(d.projection=n),er(),64!=(64&d.flags)&&function ju(t,n,s){Gh(n[11],0,n,s,Uh(t,s,n),jh(s.parent||n[6],s,n))}(u,a,d)}function np(t,n,s){return th(t,"",n,"",s),np}function th(t,n,s,a,u){const d=ge(),m=cl(d,n,s,a);return m!==Kn&&rs(Ue(),Fr(),d,t,m,d[11],u,!1),th}function pg(t,n,s,a,u){const d=t[s+1],m=null===n;let C=a?Io(d):_a(d),R=!1;for(;0!==C&&(!1===R||m);){const X=t[C+1];lu(t[C],n)&&(R=!0,t[C+1]=a?Cd(X):Ec(X)),C=a?Io(X):_a(X)}R&&(t[s+1]=a?Ec(d):Cd(d))}function lu(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&eo(t,n)>=0}function up(t,n,s){return $s(t,n,s,!1),up}function cp(t,n){return $s(t,n,null,!0),cp}function $s(t,n,s,a){const u=ge(),d=Ue(),m=Wr(2);d.firstUpdatePass&&function Eg(t,n,s,a){const u=t.data;if(null===u[s+1]){const d=u[xi()],m=function dp(t,n){return n>=t.expandoStartIndex}(t,s);(function fl(t,n){return 0!=(t.flags&(n?16:32))})(d,a)&&null===n&&!m&&(n=!1),n=function i_(t,n,s,a){const u=function xa(t){const n=Qe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(s=du(s=cu(null,t,n,s,a),n.attrs,a),d=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(s=cu(u,t,n,s,a),null===d){let R=function hp(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==_a(a))return t[Io(a)]}(t,n,a);void 0!==R&&Array.isArray(R)&&(R=cu(null,t,n,R[1],a),R=du(R,n.attrs,a),function wg(t,n,s,a){t[Io(s?n.classBindings:n.styleBindings)]=a}(t,n,a,R))}else d=function Cg(t,n,s){let a;const u=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<u;d++)a=du(a,t[d].hostAttrs,s);return du(a,n.attrs,s)}(t,n,a)}return void 0!==d&&(a?n.residualClasses=d:n.residualStyles=d),s}(u,d,n,a),function fg(t,n,s,a,u,d){let m=d?n.classBindings:n.styleBindings,C=Io(m),R=_a(m);t[a]=s;let X,z=!1;if(Array.isArray(s)){const ve=s;X=ve[1],(null===X||eo(ve,X)>0)&&(z=!0)}else X=s;if(u)if(0!==R){const Ke=Io(t[C+1]);t[a+1]=bc(Ke,C),0!==Ke&&(t[Ke+1]=wd(t[Ke+1],a)),t[C+1]=function tm(t,n){return 131071&t|n<<17}(t[C+1],a)}else t[a+1]=bc(C,0),0!==C&&(t[C+1]=wd(t[C+1],a)),C=a;else t[a+1]=bc(R,0),0===C?C=a:t[R+1]=wd(t[R+1],a),R=a;z&&(t[a+1]=Ec(t[a+1])),pg(t,X,a,!0),pg(t,X,a,!1),function hl(t,n,s,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&eo(d,n)>=0&&(s[a+1]=Cd(s[a+1]))}(n,X,t,a,d),m=bc(C,R),d?n.classBindings=m:n.styleBindings=m}(u,d,n,s,m,a)}}(d,t,m,a),n!==Kn&&_s(u,m,n)&&function Gc(t,n,s,a,u,d,m,C){if(!(3&n.type))return;const R=t.data,z=R[C+1];zc(function nm(t){return 1==(1&t)}(z)?Tg(R,n,s,u,_a(z),m):void 0)||(zc(d)||function Kh(t){return 2==(2&t)}(z)&&(d=Tg(R,null,s,u,C,m)),function Gl(t,n,s,a,u){const d=re(t);if(n)u?d?t.addClass(s,a):s.classList.add(a):d?t.removeClass(s,a):s.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:As.DashCase;if(null==u)d?t.removeStyle(s,a,m):s.style.removeProperty(a);else{const C="string"==typeof u&&u.endsWith("!important");C&&(u=u.slice(0,-10),m|=As.Important),d?t.setStyle(s,a,u,m):s.style.setProperty(a,u,C?"important":"")}}}(a,m,Je(xi(),s),u,d))}(d,d.data[xi()],u,u[11],t,u[m+1]=function Ag(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=me(bo(t)))),t}(n,s),a,m)}function cu(t,n,s,a,u){let d=null;const m=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<m&&(d=n[C],a=du(a,d.hostAttrs,u),d!==t);)C++;return null!==t&&(s.directiveStylingLast=C),a}function du(t,n,s){const a=s?1:2;let u=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?u=m:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),as(t,m,!!s||n[++d]))}return void 0===t?null:t}function Tg(t,n,s,a,u,d){const m=null===n;let C;for(;u>0;){const R=t[u],z=Array.isArray(R),X=z?R[1]:R,ve=null===X;let Ke=s[u+1];Ke===Kn&&(Ke=ve?Ce:void 0);let ct=ve?Fa(Ke,a):X===a?Ke:void 0;if(z&&!zc(ct)&&(ct=Fa(R,a)),zc(ct)&&(C=ct,m))return C;const It=t[u+1];u=m?Io(It):_a(It)}if(null!==n){let R=d?n.residualClasses:n.residualStyles;null!=R&&(C=Fa(R,a))}return C}function zc(t){return void 0!==t}function Gs(t,n=""){const s=ge(),a=Ue(),u=t+20,d=a.firstCreatePass?zo(a,u,1,n,null):a.data[u],m=s[u]=function cd(t,n){return re(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Bu(a,s,m,d),bn(d,!1)}function ds(t){return rh("",t,""),ds}function rh(t,n,s){const a=ge(),u=cl(a,t,n,s);return u!==Kn&&wa(a,xi(),u),rh}function ih(t,n,s,a,u){const d=ge(),m=Jl(d,t,n,s,a,u);return m!==Kn&&wa(d,xi(),m),ih}function i(t,n,s){const a=ge();return _s(a,cr(),n)&&rs(Ue(),Fr(),a,t,n,a[11],s,!0),i}const r=void 0;var l=["en",[["a","p"],["AM","PM"],r],[["AM","PM"],r,r],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],r,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",r,"{1} 'at' {0}",r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function o(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let f={};function U(t){const n=function kt(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Pe(n);if(s)return s;const a=n.split("-")[0];if(s=Pe(a),s)return s;if("en"===a)return l;throw new Error(`Missing locale data for the locale "${t}".`)}function fe(t){return U(t)[nt.PluralCase]}function Pe(t){return t in f||(f[t]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[t]),f[t]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const tr="en-US";let ah=tr;function g_(t,n,s,a,u){if(t=be(t),Array.isArray(t))for(let d=0;d<t.length;d++)g_(t[d],n,s,a,u);else{const d=Ue(),m=ge();let C=al(t)?t:be(t.provide),R=Mf(t);const z=bt(),X=1048575&z.providerIndexes,ve=z.directiveStart,Ke=z.providerIndexes>>20;if(al(t)||!t.multi){const ct=new Ri(R,u,iu),It=__(C,n,u?X:X+Ke,ve);-1===It?(g(Vt(z,m),d,C),y_(d,t,n.length),n.push(C),z.directiveStart++,z.directiveEnd++,u&&(z.providerIndexes+=1048576),s.push(ct),m.push(ct)):(s[It]=ct,m[It]=ct)}else{const ct=__(C,n,X+Ke,ve),It=__(C,n,X,X+Ke),Kt=ct>=0&&s[ct],nn=It>=0&&s[It];if(u&&!nn||!u&&!Kt){g(Vt(z,m),d,C);const En=function aE(t,n,s,a,u){const d=new Ri(t,s,iu);return d.multi=[],d.index=n,d.componentProviders=0,Hv(d,u,a&&!s),d}(u?oE:sE,s.length,u,a,R);!u&&nn&&(s[It].providerFactory=En),y_(d,t,n.length,0),n.push(C),z.directiveStart++,z.directiveEnd++,u&&(z.providerIndexes+=1048576),s.push(En),m.push(En)}else y_(d,t,ct>-1?ct:It,Hv(s[u?It:ct],R,!u&&a));!u&&a&&nn&&s[It].componentProviders++}}}function y_(t,n,s,a){const u=al(n),d=function ky(t){return!!t.useClass}(n);if(u||d){const R=(d?be(n.useClass):n).prototype.ngOnDestroy;if(R){const z=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const X=z.indexOf(s);-1===X?z.push(s,[a,R]):z[X+1].push(a,R)}else z.push(s,R)}}}function Hv(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function __(t,n,s,a){for(let u=s;u<a;u++)if(n[u]===t)return u;return-1}function sE(t,n,s,a){return v_(this.multi,[])}function oE(t,n,s,a){const u=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=Cn(s,s[1],this.providerFactory.index,a);d=C.slice(0,m),v_(u,d);for(let R=m;R<C.length;R++)d.push(C[R])}else d=[],v_(u,d);return d}function v_(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function $v(t,n=[]){return s=>{s.providersResolver=(a,u)=>function iE(t,n,s){const a=Ue();if(a.firstCreatePass){const u=xr(t);g_(s,a.data,a.blueprint,u,!0),g_(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class Gv{}class cE{resolveComponentFactory(n){throw function uE(t){const n=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Ip=(()=>{class t{}return t.NULL=new cE,t})();function dE(){return uh(bt(),ge())}function uh(t,n){return new Tp(ht(t,n))}let Tp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=dE,t})();function hE(t){return t instanceof Tp?t.nativeElement:t}class Wv{}let fE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function mE(){const t=ge(),s=sn(bt().index,t);return function pE(t){return t[11]}(ir(s)?s:t)}(),t})(),gE=(()=>{class t{}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>null}),t})();class qv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Kv=new qv("13.2.2"),b_={};function Bg(t,n,s,a,u=!1){for(;null!==s;){const d=n[s.index];if(null!==d&&a.push(I(d)),Ar(d))for(let C=10;C<d.length;C++){const R=d[C],z=R[1].firstChild;null!==z&&Bg(R[1],R,z,a)}const m=s.type;if(8&m)Bg(t,n,s.child,a);else if(32&m){const C=Oh(s,n);let R;for(;R=C();)a.push(R)}else if(16&m){const C=ga(n,s);if(Array.isArray(C))a.push(...C);else{const R=Pt(n[16]);Bg(R[1],R,C,a,!0)}}s=u?s.projectionNext:s.next}return a}class Ap{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Bg(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ar(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(fd(n,a),Ml(s,a))}this._attachedToViewContainer=!1}Hl(this._lView[1],this._lView)}onDestroy(n){mm(this._lView[1],this._lView,null,n)}markForCheck(){Rc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ef(this._lView[1],this._lView,this.context)}checkNoChanges(){!function bm(t,n,s){jn(!0);try{Ef(t,n,s)}finally{jn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function el(t,n){yc(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ge(902,"");this._appRef=n}}class yE extends Ap{constructor(n){super(n),this._view=n}detectChanges(){wf(this._view)}checkNoChanges(){!function Em(t){jn(!0);try{wf(t)}finally{jn(!1)}}(this._view)}get context(){return null}}class Zv extends Ip{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Le(n);return new E_(s,this.ngModule)}}function Yv(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const vE=new Mr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>us});class E_ extends Gv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function vc(t){return t.map(Wh).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Yv(this.componentDef.inputs)}get outputs(){return Yv(this.componentDef.outputs)}create(n,s,a,u){const d=(u=u||this.ngModule)?function bE(t,n){return{get:(s,a,u)=>{const d=t.get(s,b_,u);return d!==b_||a===b_?d:n.get(s,a,u)}}}(n,u.injector):n,m=d.get(Wv,E),C=d.get(gE,null),R=m.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",X=a?function Rd(t,n,s){if(re(t))return t.selectRootElement(n,s===At.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(R,a,this.componentDef.encapsulation):ys(m.createRenderer(null,this.componentDef),z,function _E(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(z)),ve=this.componentDef.onPush?576:528,Ke=function Vm(t,n){return{components:[],scheduler:t||us,clean:Ry,playerHandler:n||null,flags:0}}(),ct=Mc(0,null,null,1,0,null,null,null,null,null),It=Cc(null,ct,Ke,ve,null,null,m,R,C,d);let Kt,nn;ho(It);try{const En=function Lm(t,n,s,a,u,d){const m=s[1];s[20]=t;const R=zo(m,20,2,"#host",null),z=R.mergedAttrs=n.hostAttrs;null!==z&&(qu(R,z,!0),null!==t&&(Ci(u,t,z),null!==R.classes&&yd(u,t,R.classes),null!==R.styles&&gd(u,t,R.styles)));const X=a.createRenderer(t,n),ve=Cc(s,ba(n),null,n.onPush?64:16,s[20],R,a,X,d||null,null);return m.firstCreatePass&&(g(Vt(R,s),m,n.type),Nd(m,R),Kl(R,s.length,1)),Wu(s,ve),s[20]=ve}(X,this.componentDef,It,m,R);if(X)if(a)Ci(R,X,["ng-version",Kv.full]);else{const{attrs:Rt,classes:Nn}=function bd(t){const n=[],s=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&n.push(d,t[++a]):8===u&&s.push(d);else{if(!Do(u))break;u=d}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Rt&&Ci(R,X,Rt),Nn&&Nn.length>0&&yd(R,X,Nn.join(" "))}if(nn=$t(ct,20),void 0!==s){const Rt=nn.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const hr=s[Nn];Rt.push(null!=hr?Array.from(hr):null)}}Kt=function Um(t,n,s,a,u){const d=s[1],m=function hf(t,n,s){const a=bt();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Ea(t,a,n,Ao(t,n,1,null),s));const u=Cn(n,t,a.directiveStart,a);ls(u,n);const d=ht(a,n);return d&&ls(d,n),u}(d,s,n);if(a.components.push(m),t[8]=m,u&&u.forEach(R=>R(m,n)),n.contentQueries){const R=bt();n.contentQueries(1,m,R.directiveStart)}const C=bt();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(xs(C.index),Od(s[1],C,0,C.directiveStart,C.directiveEnd,n),Pd(n,m)),m}(En,this.componentDef,It,Ke,[Bm]),ql(ct,It,null)}finally{ko()}return new wE(this.componentType,Kt,uh(nn,It),It,nn)}}class wE extends class lE{}{constructor(n,s,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new yE(u),this.componentType=n}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ch{}class Qv{}const dh=new Map;class e0 extends ch{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zv(this);const a=Xe(n);this._bootstrapComponents=di(a.bootstrap),this._r3Injector=Im(n,s,[{provide:ch,useValue:this},{provide:Ip,useValue:this.componentFactoryResolver}],me(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Ls.THROW_IF_NOT_FOUND,a=Ht.Default){return n===Ls||n===ch||n===Oc?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class w_ extends Qv{constructor(n){super(),this.moduleType=n,null!==Xe(n)&&function DE(t){const n=new Set;!function s(a){const u=Xe(a,!0),d=u.id;null!==d&&(function Jv(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${me(n)} vs ${me(n.name)}`)}(d,dh.get(d),a),dh.set(d,a));const m=di(u.imports);for(const C of m)n.has(C)||(n.add(C),s(C))}(t)}(n)}create(n){return new e0(this.moduleType,n)}}function Mp(t,n){const s=t[n];return s===Kn?void 0:s}function a0(t,n){const s=Ue();let a;const u=t+20;s.firstCreatePass?(a=function kE(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const d=a.factory||(a.factory=Rr(a.type)),m=Mn(iu);try{const C=ta(!1),R=d();return ta(C),function Wf(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,ge(),u,R),R}finally{Mn(m)}}function l0(t,n,s){const a=t+20,u=ge(),d=Yt(u,a);return Sp(u,a)?function t0(t,n,s,a,u,d){const m=n+s;return _s(t,m,u)?Mo(t,m+1,d?a.call(d,u):a(u)):Mp(t,m+1)}(u,sr(),n,d.transform,s,d):d.transform(s)}function u0(t,n,s,a){const u=t+20,d=ge(),m=Yt(d,u);return Sp(d,u)?function n0(t,n,s,a,u,d,m){const C=n+s;return Yl(t,C,u,d)?Mo(t,C+2,m?a.call(m,u,d):a(u,d)):Mp(t,C+2)}(d,sr(),n,m.transform,s,a,m):m.transform(s,a)}function Sp(t,n){return t[1].data[n].pure}function C_(t){return n=>{setTimeout(t,void 0,n)}}const gl=class VE extends c.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var u,d,m;let C=n,R=s||(()=>null),z=a;if(n&&"object"==typeof n){const ve=n;C=null===(u=ve.next)||void 0===u?void 0:u.bind(ve),R=null===(d=ve.error)||void 0===d?void 0:d.bind(ve),z=null===(m=ve.complete)||void 0===m?void 0:m.bind(ve)}this.__isAsync&&(R=C_(R),C&&(C=C_(C)),z&&(z=C_(z)));const X=super.subscribe({next:C,error:R,complete:z});return n instanceof D.w0&&n.add(X),X}};function BE(){return this._results[ll()]()}class jg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ll(),a=jg.prototype;a[s]||(a[s]=BE)}get changes(){return this._changes||(this._changes=new gl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const u=Pi(n);(this._changesDetected=!function Al(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=n[a];if(s&&(u=s(u),d=s(d)),d!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xp=(()=>{class t{}return t.__NG_ELEMENT_ID__=$E,t})();const jE=xp,HE=class extends jE{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Cc(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),ql(s,a,n),new Ap(a)}};function $E(){return Hg(bt(),ge())}function Hg(t,n){return 4&t.type?new HE(n,t,uh(t,n)):null}let $g=(()=>{class t{}return t.__NG_ELEMENT_ID__=GE,t})();function GE(){return h0(bt(),ge())}const zE=$g,c0=class extends zE{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){const n=w(this._hostTNode,this._hostLView);if(ii(n)){const s=Os(n,this._hostLView),a=_o(n);return new Gi(s[1].data[a+8],s)}return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=d0(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const u=n.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(n,s,a,u,d){const m=n&&!function Qs(t){return"function"==typeof t}(n);let C;if(m)C=s;else{const ve=s||{};C=ve.index,a=ve.injector,u=ve.projectableNodes,d=ve.ngModuleRef}const R=m?n:new E_(Le(n)),z=a||this.parentInjector;if(!d&&null==R.ngModule&&z){const ve=z.get(ch,null);ve&&(d=ve)}const X=R.create(z,u,void 0,d);return this.insert(X.hostView,C),X}insert(n,s){const a=n._lView,u=a[1];if(function V(t){return Ar(t[3])}(a)){const X=this.indexOf(n);if(-1!==X)this.detach(X);else{const ve=a[3],Ke=new c0(ve,ve[6],ve[3]);Ke.detach(Ke.indexOf(n))}}const d=this._adjustIndex(s),m=this._lContainer;!function Lh(t,n,s,a){const u=10+a,d=s.length;a>0&&(s[u-1][4]=n),a<d-10?(n[4]=s[u],ra(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const m=n[17];null!==m&&s!==m&&function Zp(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(m,n);const C=n[19];null!==C&&C.insertView(t),n[2]|=128}(u,a,m,d);const C=nl(d,m),R=a[11],z=Vu(R,m[7]);return null!==z&&function Fh(t,n,s,a,u,d){a[0]=u,a[6]=n,yc(t,a,s,1,u,d)}(u,m[6],R,a,z,C),n.attachToViewContainerRef(),ra(D_(m),d,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=d0(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=fd(this._lContainer,s);a&&(Ml(D_(this._lContainer),s),Hl(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=fd(this._lContainer,s);return a&&null!=Ml(D_(this._lContainer),s)?new Ap(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function d0(t){return t[8]}function D_(t){return t[8]||(t[8]=[])}function h0(t,n){let s;const a=n[t.index];if(Ar(a))s=a;else{let u;if(8&t.type)u=I(a);else{const d=n[11];u=d.createComment("");const m=ht(t,n);$l(d,Vu(d,m),u,function cy(t,n){return re(t)?t.nextSibling(n):n.nextSibling}(d,m),!1)}n[t.index]=s=vm(a,n,u,t),Wu(n,s)}return new c0(s,t,n)}class I_{constructor(n){this.queryList=n,this.matches=null}clone(){return new I_(this.queryList)}setDirty(){this.queryList.setDirty()}}class T_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);u.push(this.queries[m.indexInDeclarationView].clone())}return new T_(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==E0(n,s).matches&&this.queries[s].setDirty()}}class f0{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class A_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(n,u);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new A_(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class M_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new M_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(n,s,KE(s,d)),this.matchTNodeWithReadOption(n,s,Yn(s,n,d,!1,!1))}else a===xp?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Yn(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Tp||u===$g||u===xp&&4&s.type)this.addMatch(s.index,-2);else{const d=Yn(s,n,u,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function KE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function YE(t,n,s,a){return-1===s?function ZE(t,n){return 11&t.type?uh(t,n):4&t.type?Hg(t,n):null}(n,t):-2===s?function QE(t,n,s){return s===Tp?uh(n,t):s===xp?Hg(n,t):s===$g?h0(n,t):void 0}(t,n,a):Cn(t,t[1],s,n)}function p0(t,n,s,a){const u=n[19].queries[a];if(null===u.matches){const d=t.data,m=s.matches,C=[];for(let R=0;R<m.length;R+=2){const z=m[R];C.push(z<0?null:YE(n,d[z],m[R+1],s.metadata.read))}u.matches=C}return u.matches}function S_(t,n,s,a){const u=t.queries.getByIndex(s),d=u.matches;if(null!==d){const m=p0(t,n,u,s);for(let C=0;C<d.length;C+=2){const R=d[C];if(R>0)a.push(m[C/2]);else{const z=d[C+1],X=n[-R];for(let ve=10;ve<X.length;ve++){const Ke=X[ve];Ke[17]===Ke[3]&&S_(Ke[1],Ke,z,a)}if(null!==X[9]){const ve=X[9];for(let Ke=0;Ke<ve.length;Ke++){const ct=ve[Ke];S_(ct[1],ct,z,a)}}}}}return a}function m0(t){const n=ge(),s=Ue(),a=yl();Qo(a+1);const u=E0(s,a);if(t.dirty&&mn(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?S_(s,n,a,[]):p0(s,n,u,a);t.reset(d,hE),t.notifyOnChanges()}return!0}return!1}function g0(t,n,s){const a=Ue();a.firstCreatePass&&(b0(a,new f0(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),v0(a,ge(),n)}function y0(t,n,s,a){const u=Ue();if(u.firstCreatePass){const d=bt();b0(u,new f0(n,s,a),d.index),function XE(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}v0(u,ge(),s)}function _0(){return function JE(t,n){return t[19].queries[n].queryList}(ge(),yl())}function v0(t,n,s){const a=new jg(4==(4&s));mm(t,n,a,a.destroy),null===n[19]&&(n[19]=new T_),n[19].queries.push(new I_(a))}function b0(t,n,s){null===t.queries&&(t.queries=new A_),t.queries.track(new M_(n,s))}function E0(t,n){return t.queries.getByIndex(n)}function w0(t,n){return Hg(t,n)}function Wg(...t){}const k_=new Mr("Application Initializer");let fh=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Wg,this.reject=Wg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(Xd(d))s.push(d);else if(Qu(d)){const m=new Promise((C,R)=>{d.subscribe({complete:C,error:R})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Ni(k_,8))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const V0=new Mr("AppId"),yw={provide:V0,useFactory:function gw(){return`${F_()}${F_()}${F_()}`},deps:[]};function F_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const B0=new Mr("Platform Initializer"),j0=new Mr("Platform ID"),H0=new Mr("appBootstrapListener");let $0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const qg=new Mr("LocaleId"),G0=new Mr("DefaultCurrencyCode");class _w{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let L_=(()=>{class t{compileModuleSync(s){return new w_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=di(Xe(s).declarations).reduce((m,C)=>{const R=Le(C);return R&&m.push(new E_(R)),m},[]);return new _w(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();const bw=(()=>Promise.resolve(0))();function U_(t){"undefined"==typeof Zone?bw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ew(){let t=vn.requestAnimationFrame,n=vn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Dw(t){const n=()=>{!function Cw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,B_(t),t.isCheckStableRunning=!0,V_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),B_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,d,m,C)=>{try{return z0(t),s.invokeTask(u,d,m,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),W0(t)}},onInvoke:(s,a,u,d,m,C,R)=>{try{return z0(t),s.invoke(u,d,m,C,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),W0(t)}},onHasTask:(s,a,u,d)=>{s.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,B_(t),V_(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,u,d)=>(s.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,u){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+u,n,ww,Wg,Wg);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const ww={};function V_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function z0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function W0(t){t._nesting--,V_(t)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,u){return n.apply(s,a)}}let q0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oo.assertNotInAngularZone(),U_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(Ni(Oo))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})(),K0=(()=>{class t{constructor(){this._applications=new Map,j_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return j_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();class Tw{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function Aw(t){j_=t}let Ma,j_=new Tw;const Z0=new Mr("AllowMultipleToken");class xw{constructor(n,s){this.name=n,this.token=s}}function Y0(t,n,s=[]){const a=`Platform: ${n}`,u=new Mr(a);return(d=[])=>{let m=Q0();if(!m||m.injector.get(Z0,!1))if(t)t(s.concat(d).concat({provide:u,useValue:!0}));else{const C=s.concat(d).concat({provide:u,useValue:!0},{provide:If,useValue:"platform"});!function Rw(t){if(Ma&&!Ma.destroyed&&!Ma.injector.get(Z0,!1))throw new Ge(400,"");Ma=t.get(J0);const n=t.get(B0,null);n&&n.forEach(s=>s())}(Ls.create({providers:C,name:a}))}return function Ow(t){const n=Q0();if(!n)throw new Ge(401,"");return n}()}}function Q0(){return Ma&&!Ma.destroyed?Ma:null}let J0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const C=function Pw(t,n){let s;return s="noop"===t?new Iw:("zone.js"===t?void 0:t)||new Oo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),R=[{provide:Oo,useValue:C}];return C.run(()=>{const z=Ls.create({providers:R,parent:this.injector,name:s.moduleType.name}),X=s.create(z),ve=X.injector.get(hc,null);if(!ve)throw new Ge(402,"");return C.runOutsideAngular(()=>{const Ke=C.onError.subscribe({next:ct=>{ve.handleError(ct)}});X.onDestroy(()=>{H_(this._modules,X),Ke.unsubscribe()})}),function Nw(t,n,s){try{const a=s();return Xd(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(ve,C,()=>{const Ke=X.injector.get(fh);return Ke.runInitializers(),Ke.donePromise.then(()=>(function Lg(t){dt(t,"Expected localeId to be defined"),"string"==typeof t&&(ah=t.toLowerCase().replace(/_/g,"-"))}(X.injector.get(qg,tr)||tr),this._moduleDoBootstrap(X),X))})})}bootstrapModule(s,a=[]){const u=X0({},a);return function Mw(t,n,s){const a=new w_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(s){const a=s.injector.get(Op);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Ge(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Ni(Ls))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();function X0(t,n){return Array.isArray(n)?n.reduce(X0,t):Object.assign(Object.assign({},t),n)}let Op=(()=>{class t{constructor(s,a,u,d,m){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new W.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),R=new W.y(z=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{Oo.assertNotInAngularZone(),U_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{Oo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{X.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,j.T)(C,R.pipe((0,Re.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ge(405,"");let u;u=s instanceof Gv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const d=function Sw(t){return t.isBoundToModule}(u)?void 0:this._injector.get(ch),C=u.create(Ls.NULL,[],a||u.selector,d),R=C.location.nativeElement,z=C.injector.get(q0,null),X=z&&C.injector.get(K0);return z&&X&&X.registerApplication(R,z),C.onDestroy(()=>{this.detachView(C.hostView),H_(this.components,C),X&&X.unregisterApplication(R)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ge(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;H_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(H0,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Ni(Oo),Ni(Ls),Ni(hc),Ni(Ip),Ni(fh))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})();function H_(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let tb=!0,nb=!1;function Fw(){return nb=!0,tb}function Lw(){if(nb)throw new Error("Cannot enable prod mode after platform setup.");tb=!1}let Uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vw,t})();function Vw(t){return function Bw(t,n,s){if(hs(t)&&!s){const a=sn(t.index,n);return new Ap(a,a)}return 47&t.type?new Ap(n[16],n):null}(bt(),ge(),16==(16&t))}class ob{constructor(){}supports(n){return Lc(n)}create(n){return new Ww(n)}}const zw=(t,n)=>n;class Ww{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||zw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,u=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<lb(a,u,d)?s:a,C=lb(m,u,d),R=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{d||(d=[]);const z=C-u,X=R-u;if(z!=X){for(let Ke=0;Ke<z;Ke++){const ct=Ke<d.length?d[Ke]:d[Ke]=0,It=ct+Ke;X<=It&&It<z&&(d[Ke]=ct+1)}d[m.previousIndex]=X-z}}C!==R&&n(m,C,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Lc(n))throw new Ge(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,d,m,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)d=n[C],m=this._trackByFn(C,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,C)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,C),a=!0),s=s._next}else u=0,function Gm(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[ll()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,C=>{m=this._trackByFn(u,C),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,C,m,u)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,m,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,u){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,d,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,d,u)):n=this._addAfter(new qw(s,a),d,u),n}_verifyReinsertion(n,s,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?n=this._reinsertAfter(d,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,d=n._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new ab),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ab),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class ab{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Kw,this.map.set(s,a)),a.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(t,n,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+n+u}class ub{constructor(){}supports(n){return n instanceof Map||$f(n)}create(){return new Zw}}class Zw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||$f(n)))throw new Ge(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const d=u._prev,m=u._next;return d&&(d._next=m),m&&(m._prev=d),u._next=null,u._prev=null,u}const a=new Yw(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Yw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cb(){return new Yg([new ob])}let Yg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||cb()),deps:[[t,new to,new vo]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Ge(901,"")}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:cb}),t})();function db(){return new Qg([new ub])}let Qg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||db()),deps:[[t,new to,new vo]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ge(901,"")}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:db}),t})();const Qw=[new ub],Xw=new Yg([new ob]),eC=new Qg(Qw),tC=Y0(null,"core",[{provide:j0,useValue:"unknown"},{provide:J0,deps:[Ls]},{provide:K0,deps:[]},{provide:$0,deps:[]}]),oC=[{provide:Op,useClass:Op,deps:[Oo,Ls,hc,Ip,fh]},{provide:vE,deps:[Oo],useFactory:function aC(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:fh,useClass:fh,deps:[[new vo,k_]]},{provide:L_,useClass:L_,deps:[]},yw,{provide:Yg,useFactory:function nC(){return Xw},deps:[]},{provide:Qg,useFactory:function rC(){return eC},deps:[]},{provide:qg,useFactory:function iC(t){return t||function sC(){return"undefined"!=typeof $localize&&$localize.locale||tr}()},deps:[[new Is(qg),new vo,new to]]},{provide:G0,useValue:"USD"}];let lC=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Ni(Op))},t.\u0275mod=lt({type:t}),t.\u0275inj=on({providers:oC}),t})()},3075:(xt,Ye,A)=>{A.d(Ye,{Fj:()=>Ne,sg:()=>Li,u5:()=>$t,a5:()=>On,JJ:()=>Ht,F:()=>vi,On:()=>Ar,kI:()=>tt});var c=A(5e3),D=A(9808),W=A(8996),j=A(4128),Re=A(4004);let Te=(()=>{class V{constructor(N,te){this._renderer=N,this._elementRef=te,this.onChange=Qe=>{},this.onTouched=()=>{}}setProperty(N,te){this._renderer.setProperty(this._elementRef.nativeElement,N,te)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(c.Qsj),c.Y36(c.SBq))},V.\u0275dir=c.lG2({type:V}),V})(),Ve=(()=>{class V extends Te{}return V.\u0275fac=function(){let k;return function(te){return(k||(k=c.n5z(V)))(te||V)}}(),V.\u0275dir=c.lG2({type:V,features:[c.qOj]}),V})();const me=new c.OlP("NgValueAccessor"),ie={provide:me,useExisting:(0,c.Gpc)(()=>Ne),multi:!0},ot=new c.OlP("CompositionEventMode");let Ne=(()=>{class V extends Te{constructor(N,te,Qe){super(N,te),this._compositionMode=Qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const V=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ot,8))},V.\u0275dir=c.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,te){1&N&&c.NdJ("input",function(Jt){return te._handleInput(Jt.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(Jt){return te._compositionEnd(Jt.target.value)})},features:[c._Bn([ie]),c.qOj]}),V})();function Ge(V){return null==V||0===V.length}function Ze(V){return null!=V&&"number"==typeof V.length}const xe=new c.OlP("NgValidators"),ut=new c.OlP("NgAsyncValidators"),De=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(k){return function ke(V){return k=>{if(Ge(k.value)||Ge(V))return null;const N=parseFloat(k.value);return!isNaN(N)&&N<V?{min:{min:V,actual:k.value}}:null}}(k)}static max(k){return function ye(V){return k=>{if(Ge(k.value)||Ge(V))return null;const N=parseFloat(k.value);return!isNaN(N)&&N>V?{max:{max:V,actual:k.value}}:null}}(k)}static required(k){return function he(V){return Ge(V.value)?{required:!0}:null}(k)}static requiredTrue(k){return function ze(V){return!0===V.value?null:{required:!0}}(k)}static email(k){return function we(V){return Ge(V.value)||De.test(V.value)?null:{email:!0}}(k)}static minLength(k){return function Fe(V){return k=>Ge(k.value)||!Ze(k.value)?null:k.value.length<V?{minlength:{requiredLength:V,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Me(V){return k=>Ze(k.value)&&k.value.length>V?{maxlength:{requiredLength:V,actualLength:k.value.length}}:null}(k)}static pattern(k){return function He(V){if(!V)return We;let k,N;return"string"==typeof V?(N="","^"!==V.charAt(0)&&(N+="^"),N+=V,"$"!==V.charAt(V.length-1)&&(N+="$"),k=new RegExp(N)):(N=V.toString(),k=V),te=>{if(Ge(te.value))return null;const Qe=te.value;return k.test(Qe)?null:{pattern:{requiredPattern:N,actualValue:Qe}}}}(k)}static nullValidator(k){return null}static compose(k){return dt(k)}static composeAsync(k){return Ct(k)}}function We(V){return null}function at(V){return null!=V}function Be(V){const k=(0,c.QGY)(V)?(0,W.D)(V):V;return(0,c.CqO)(k),k}function $e(V){let k={};return V.forEach(N=>{k=null!=N?Object.assign(Object.assign({},k),N):k}),0===Object.keys(k).length?null:k}function Et(V,k){return k.map(N=>N(V))}function Zt(V){return V.map(k=>function Nt(V){return!V.validate}(k)?k:N=>k.validate(N))}function dt(V){if(!V)return null;const k=V.filter(at);return 0==k.length?null:function(N){return $e(Et(N,k))}}function rt(V){return null!=V?dt(Zt(V)):null}function Ct(V){if(!V)return null;const k=V.filter(at);return 0==k.length?null:function(N){const te=Et(N,k).map(Be);return(0,j.D)(te).pipe((0,Re.U)($e))}}function _t(V){return null!=V?Ct(Zt(V)):null}function Ft(V,k){return null===V?[k]:Array.isArray(V)?[...V,k]:[V,k]}function Wt(V){return V._rawValidators}function tn(V){return V._rawAsyncValidators}function on(V){return V?Array.isArray(V)?V:[V]:[]}function an(V,k){return Array.isArray(V)?V.includes(k):V===k}function Zn(V,k){const N=on(k);return on(V).forEach(Qe=>{an(N,Qe)||N.push(Qe)}),N}function Bn(V,k){return on(k).filter(N=>!an(V,N))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=rt(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=_t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,N){return!!this.control&&this.control.hasError(k,N)}getError(k,N){return this.control?this.control.getError(k,N):null}}class On extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tn extends Pn{get formDirective(){return null}get path(){return null}}let Ht=(()=>{class V extends class An{constructor(k){this._cd=k}is(k){var N,te,Qe;return"submitted"===k?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(Qe=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===Qe?void 0:Qe[k])}}{constructor(N){super(N)}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(On,2))},V.\u0275dir=c.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,te){2&N&&c.ekj("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))},features:[c.qOj]}),V})();function Ce(V,k){M(V,k),k.valueAccessor.writeValue(V.value),function Ie(V,k){k.valueAccessor.registerOnChange(N=>{V._pendingValue=N,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Tt(V,k)})}(V,k),function Gt(V,k){const N=(te,Qe)=>{k.valueAccessor.writeValue(te),Qe&&k.viewToModelUpdate(te)};V.registerOnChange(N),k._registerOnDestroy(()=>{V._unregisterOnChange(N)})}(V,k),function pt(V,k){k.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Tt(V,k),"submit"!==V.updateOn&&V.markAsTouched()})}(V,k),function x(V,k){if(k.valueAccessor.setDisabledState){const N=te=>{k.valueAccessor.setDisabledState(te)};V.registerOnDisabledChange(N),k._registerOnDestroy(()=>{V._unregisterOnDisabledChange(N)})}}(V,k)}function le(V,k,N=!0){const te=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(te),k.valueAccessor.registerOnTouched(te)),ee(V,k),V&&(k._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function O(V,k){V.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(k)})}function M(V,k){const N=Wt(V);null!==k.validator?V.setValidators(Ft(N,k.validator)):"function"==typeof N&&V.setValidators([N]);const te=tn(V);null!==k.asyncValidator?V.setAsyncValidators(Ft(te,k.asyncValidator)):"function"==typeof te&&V.setAsyncValidators([te]);const Qe=()=>V.updateValueAndValidity();O(k._rawValidators,Qe),O(k._rawAsyncValidators,Qe)}function ee(V,k){let N=!1;if(null!==V){if(null!==k.validator){const Qe=Wt(V);if(Array.isArray(Qe)&&Qe.length>0){const Jt=Qe.filter(ur=>ur!==k.validator);Jt.length!==Qe.length&&(N=!0,V.setValidators(Jt))}}if(null!==k.asyncValidator){const Qe=tn(V);if(Array.isArray(Qe)&&Qe.length>0){const Jt=Qe.filter(ur=>ur!==k.asyncValidator);Jt.length!==Qe.length&&(N=!0,V.setAsyncValidators(Jt))}}}const te=()=>{};return O(k._rawValidators,te),O(k._rawAsyncValidators,te),N}function Tt(V,k){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function dn(V,k){M(V,k)}function ae(V,k){V._syncPendingControls(),k.forEach(N=>{const te=N.control;"submit"===te.updateOn&&te._pendingChange&&(N.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function Le(V,k){const N=V.indexOf(k);N>-1&&V.splice(N,1)}const Xe="VALID",Ee="INVALID",se="PENDING",Se="DISABLED";function wt(V){return(Dt(V)?V.validators:V)||null}function Bt(V){return Array.isArray(V)?rt(V):V||null}function yn(V,k){return(Dt(k)?k.asyncValidators:V)||null}function Lt(V){return Array.isArray(V)?_t(V):V||null}function Dt(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}const pn=V=>V instanceof Or,$n=V=>V instanceof Pr;function lr(V){return pn(V)?V.value:V.getRawValue()}function nr(V,k){const N=$n(V),te=V.controls;if(!(N?Object.keys(te):te).length)throw new c.vHH(1e3,"");if(!te[k])throw new c.vHH(1001,"")}function gr(V,k){$n(V),V._forEachChild((te,Qe)=>{if(void 0===k[Qe])throw new c.vHH(1002,"")})}class rr{constructor(k,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=N,this._composedValidatorFn=Bt(this._rawValidators),this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Xe}get invalid(){return this.status===Ee}get pending(){return this.status==se}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=Bt(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=Lt(k)}addValidators(k){this.setValidators(Zn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Zn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Bn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Bn(k,this._rawAsyncValidators))}hasValidator(k){return an(this._rawValidators,k)}hasAsyncValidator(k){return an(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=se,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const N=this._parentMarkedDirty(k.onlySelf);this.status=Se,this.errors=null,this._forEachChild(te=>{te.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:N})),this._onDisabledChange.forEach(te=>te(!0))}enable(k={}){const N=this._parentMarkedDirty(k.onlySelf);this.status=Xe,this._forEachChild(te=>{te.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:N})),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xe||this.status===se)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:Xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=se,this._hasOwnPendingAsyncValidator=!0;const N=Be(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,N={}){this.errors=k,this._updateControlsErrors(!1!==N.emitEvent)}get(k){return function ft(V,k,N){if(null==k||(Array.isArray(k)||(k=k.split(N)),Array.isArray(k)&&0===k.length))return null;let te=V;return k.forEach(Qe=>{te=$n(te)?te.controls.hasOwnProperty(Qe)?te.controls[Qe]:null:(V=>V instanceof Rn)(te)&&te.at(Qe)||null}),te}(this,k,".")}getError(k,N){const te=N?this.get(N):this;return te&&te.errors?te.errors[k]:null}hasError(k,N){return!!this.getError(k,N)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(se)?se:this._anyControlsHaveStatus(Ee)?Ee:Xe}_anyControlsHaveStatus(k){return this._anyControls(N=>N.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Dt(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Or extends rr{constructor(k=null,N,te){super(wt(N),yn(te,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dt(N)&&N.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(k)?k.value:k)}setValue(k,N={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(k,N={}){this.setValue(k,N)}reset(k=this.defaultValue,N={}){this._applyFormState(k),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Le(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Le(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class Pr extends rr{constructor(k,N,te){super(wt(N),yn(te,N)),this.controls=k,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,N){return this.controls[k]?this.controls[k]:(this.controls[k]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(k,N,te={}){this.registerControl(k,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(k,N={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(k,N,te={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],N&&this.registerControl(k,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,N={}){gr(this,k),Object.keys(k).forEach(te=>{nr(this,te),this.controls[te].setValue(k[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(k,N={}){null!=k&&(Object.keys(k).forEach(te=>{this.controls[te]&&this.controls[te].patchValue(k[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(k={},N={}){this._forEachChild((te,Qe)=>{te.reset(k[Qe],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(k,N,te)=>(k[te]=lr(N),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(N,te)=>!!te._syncPendingControls()||N);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(N=>{const te=this.controls[N];te&&k(te,N)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const N of Object.keys(this.controls)){const te=this.controls[N];if(this.contains(N)&&k(te))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,N,te)=>((N.enabled||this.disabled)&&(k[te]=N.value),k))}_reduceChildren(k,N){let te=k;return this._forEachChild((Qe,Jt)=>{te=N(te,Qe,Jt)}),te}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Rn extends rr{constructor(k,N,te){super(wt(N),yn(te,N)),this.controls=k,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,N={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(k,N,te={}){this.controls.splice(k,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(k,N={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(k,N,te={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),N&&(this.controls.splice(k,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,N={}){gr(this,k),k.forEach((te,Qe)=>{nr(this,Qe),this.at(Qe).setValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(k,N={}){null!=k&&(k.forEach((te,Qe)=>{this.at(Qe)&&this.at(Qe).patchValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(k=[],N={}){this._forEachChild((te,Qe)=>{te.reset(k[Qe],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(k=>lr(k))}clear(k={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((N,te)=>!!te._syncPendingControls()||N,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((N,te)=>{k(N,te)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(N=>N.enabled&&k(N))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const ai={provide:Tn,useExisting:(0,c.Gpc)(()=>vi)},Sr=(()=>Promise.resolve(null))();let vi=(()=>{class V extends Tn{constructor(N,te){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Pr({},rt(N),_t(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Sr.then(()=>{const te=this._findContainer(N.path);N.control=te.registerControl(N.name,N.control),Ce(N.control,N),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Sr.then(()=>{const te=this._findContainer(N.path);te&&te.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Sr.then(()=>{const te=this._findContainer(N.path),Qe=new Pr({});dn(Qe,N),te.registerControl(N.name,Qe),Qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Sr.then(()=>{const te=this._findContainer(N.path);te&&te.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,te){Sr.then(()=>{this.form.get(N.path).setValue(te)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,ae(this.form,this._directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(xe,10),c.Y36(ut,10))},V.\u0275dir=c.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,te){1&N&&c.NdJ("submit",function(Jt){return te.onSubmit(Jt)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ai]),c.qOj]}),V})();const Ii={provide:On,useExisting:(0,c.Gpc)(()=>Ar)},ir=(()=>Promise.resolve(null))();let Ar=(()=>{class V extends On{constructor(N,te,Qe,Jt,ur){super(),this._changeDetectorRef=ur,this.control=new Or,this._registered=!1,this.update=new c.vpe,this._parent=N,this._setValidators(te),this._setAsyncValidators(Qe),this.valueAccessor=function oe(V,k){if(!k)return null;let N,te,Qe;return Array.isArray(k),k.forEach(Jt=>{Jt.constructor===Ne?N=Jt:function K(V){return Object.getPrototypeOf(V.constructor)===Ve}(Jt)?te=Jt:Qe=Jt}),Qe||te||N||null}(0,Jt)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const te=N.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),function qe(V,k){if(!V.hasOwnProperty("model"))return!1;const N=V.model;return!!N.isFirstChange()||!Object.is(k,N.currentValue)}(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ce(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){ir.then(()=>{var te;this.control.setValue(N,{emitViewToModelChange:!1}),null===(te=this._changeDetectorRef)||void 0===te||te.markForCheck()})}_updateDisabled(N){const te=N.isDisabled.currentValue,Qe=""===te||te&&"false"!==te;ir.then(()=>{var Jt;Qe&&!this.control.disabled?this.control.disable():!Qe&&this.control.disabled&&this.control.enable(),null===(Jt=this._changeDetectorRef)||void 0===Jt||Jt.markForCheck()})}_getPath(N){return this._parent?function In(V,k){return[...k.path,V]}(N,this._parent):[N]}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(Tn,9),c.Y36(xe,10),c.Y36(ut,10),c.Y36(me,10),c.Y36(c.sBO,8))},V.\u0275dir=c.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ii]),c.qOj,c.TTD]}),V})(),Nr=(()=>{class V{}return V.\u0275fac=function(N){return new(N||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({}),V})();const Ti={provide:Tn,useExisting:(0,c.Gpc)(()=>Li)};let Li=(()=>{class V extends Tn{constructor(N,te){super(),this.validators=N,this.asyncValidators=te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(N),this._setAsyncValidators(te)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ee(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const te=this.form.get(N.path);return Ce(te,N),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),te}getControl(N){return this.form.get(N.path)}removeControl(N){le(N.control||null,N,!1),Le(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,te){this.form.get(N.path).setValue(te)}onSubmit(N){return this.submitted=!0,ae(this.form,this.directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const te=N.control,Qe=this.form.get(N.path);te!==Qe&&(le(te||null,N),pn(Qe)&&(Ce(Qe,N),N.control=Qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const te=this.form.get(N.path);dn(te,N),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const te=this.form.get(N.path);te&&function jt(V,k){return ee(V,k)}(te,N)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M(this.form,this),this._oldForm&&ee(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(N){return new(N||V)(c.Y36(xe,10),c.Y36(ut,10))},V.\u0275dir=c.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(N,te){1&N&&c.NdJ("submit",function(Jt){return te.onSubmit(Jt)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ti]),c.qOj,c.TTD]}),V})(),Ot=(()=>{class V{}return V.\u0275fac=function(N){return new(N||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[[Nr]]}),V})(),$t=(()=>{class V{}return V.\u0275fac=function(N){return new(N||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[Ot]}),V})()},7423:(xt,Ye,A)=>{A.d(Ye,{lW:()=>ie,ot:()=>ot});var c=A(5e3),D=A(508),W=A(6360),j=A(8255);const Re=["mat-button",""],Te=["*"],Ae=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],de=(0,D.pj)((0,D.Id)((0,D.Kr)(class{constructor(Ne){this._elementRef=Ne}})));let ie=(()=>{class Ne extends de{constructor(Ze,xe,ut){super(Ze),this._focusMonitor=xe,this._animationMode=ut,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const De of Ae)this._hasHostAttributes(De)&&this._getHostElement().classList.add(De);Ze.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ze,xe){Ze?this._focusMonitor.focusVia(this._getHostElement(),Ze,xe):this._getHostElement().focus(xe)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Ze){return Ze.some(xe=>this._getHostElement().hasAttribute(xe))}}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)(c.Y36(c.SBq),c.Y36(j.tE),c.Y36(W.Qb,8))},Ne.\u0275cmp=c.Xpm({type:Ne,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Ze,xe){if(1&Ze&&c.Gf(D.wG,5),2&Ze){let ut;c.iGM(ut=c.CRH())&&(xe.ripple=ut.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Ze,xe){2&Ze&&(c.uIk("disabled",xe.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===xe._animationMode)("mat-button-disabled",xe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:Re,ngContentSelectors:Te,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Ze,xe){1&Ze&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&Ze&&(c.xp6(2),c.ekj("mat-button-ripple-round",xe.isRoundButton||xe.isIconButton),c.Q6J("matRippleDisabled",xe._isRippleDisabled())("matRippleCentered",xe.isIconButton)("matRippleTrigger",xe._getHostElement()))},directives:[D.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ne})(),ot=(()=>{class Ne{}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)},Ne.\u0275mod=c.oAB({type:Ne}),Ne.\u0275inj=c.cJS({imports:[[D.si,D.BQ],D.BQ]}),Ne})()},9224:(xt,Ye,A)=>{A.d(Ye,{a8:()=>ke,hq:()=>ot,dn:()=>de,QW:()=>ze});var c=A(5e3),D=A(6360),W=A(508);const j=["*",[["mat-card-footer"]]],Re=["*","mat-card-footer"];let de=(()=>{class we{}return we.\u0275fac=function(Me){return new(Me||we)},we.\u0275dir=c.lG2({type:we,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),we})(),ot=(()=>{class we{constructor(){this.align="start"}}return we.\u0275fac=function(Me){return new(Me||we)},we.\u0275dir=c.lG2({type:we,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(Me,He){2&Me&&c.ekj("mat-card-actions-align-end","end"===He.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),we})(),ke=(()=>{class we{constructor(Me){this._animationMode=Me}}return we.\u0275fac=function(Me){return new(Me||we)(c.Y36(D.Qb,8))},we.\u0275cmp=c.Xpm({type:we,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(Me,He){2&Me&&c.ekj("_mat-animation-noopable","NoopAnimations"===He._animationMode)},exportAs:["matCard"],ngContentSelectors:Re,decls:2,vars:0,template:function(Me,He){1&Me&&(c.F$t(j),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),we})(),ze=(()=>{class we{}return we.\u0275fac=function(Me){return new(Me||we)},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({imports:[[W.BQ],W.BQ]}),we})()},508:(xt,Ye,A)=>{A.d(Ye,{rD:()=>Wt,BQ:()=>tt,wG:()=>Mn,si:()=>Fn,pj:()=>we,Kr:()=>Fe,Id:()=>ze,FD:()=>He,sb:()=>Me});var c=A(5e3),D=A(226),j=A(9808),Re=A(925),Te=A(8255),Ve=A(3191),me=A(7579),Ae=A(6360);const De=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function ut(){return!0}});let tt=(()=>{class le{constructor(x,M,ee){this._sanityChecks=M,this._document=ee,this._hasDoneGlobalChecks=!1,x._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(x){return!(0,Re.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[x])}}return le.\u0275fac=function(x){return new(x||le)(c.LFG(Te.qm),c.LFG(De,8),c.LFG(j.K0))},le.\u0275mod=c.oAB({type:le}),le.\u0275inj=c.cJS({imports:[[D.vT],D.vT]}),le})();function ze(le){return class extends le{constructor(...O){super(...O),this._disabled=!1}get disabled(){return this._disabled}set disabled(O){this._disabled=(0,Ve.Ig)(O)}}}function we(le,O){return class extends le{constructor(...x){super(...x),this.defaultColor=O,this.color=O}get color(){return this._color}set color(x){const M=x||this.defaultColor;M!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),M&&this._elementRef.nativeElement.classList.add(`mat-${M}`),this._color=M)}}}function Fe(le){return class extends le{constructor(...O){super(...O),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(O){this._disableRipple=(0,Ve.Ig)(O)}}}function Me(le,O=0){return class extends le{constructor(...x){super(...x),this._tabIndex=O,this.defaultTabIndex=O}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(x){this._tabIndex=null!=x?(0,Ve.su)(x):this.defaultTabIndex}}}function He(le){return class extends le{constructor(...O){super(...O),this.stateChanges=new me.x,this.errorState=!1}updateErrorState(){const O=this.errorState,Ie=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ie!==O&&(this.errorState=Ie,this.stateChanges.next())}}}let Wt=(()=>{class le{isErrorState(x,M){return!!(x&&x.invalid&&(x.touched||M&&M.submitted))}}return le.\u0275fac=function(x){return new(x||le)},le.\u0275prov=c.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();class Bn{constructor(O,x,M){this._renderer=O,this.element=x,this.config=M,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pn={enterDuration:225,exitDuration:150},Tn=(0,Re.i$)({passive:!0}),An=["mousedown","touchstart"],_n=["mouseup","mouseleave","touchend","touchcancel"];class wn{constructor(O,x,M,ee){this._target=O,this._ngZone=x,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,ee.isBrowser&&(this._containerElement=(0,Ve.fI)(M))}fadeInRipple(O,x,M={}){const ee=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ie=Object.assign(Object.assign({},Pn),M.animation);M.centered&&(O=ee.left+ee.width/2,x=ee.top+ee.height/2);const pt=M.radius||function zn(le,O,x){const M=Math.max(Math.abs(le-x.left),Math.abs(le-x.right)),ee=Math.max(Math.abs(O-x.top),Math.abs(O-x.bottom));return Math.sqrt(M*M+ee*ee)}(O,x,ee),Tt=O-ee.left,Gt=x-ee.top,dn=Ie.enterDuration,jt=document.createElement("div");jt.classList.add("mat-ripple-element"),jt.style.left=Tt-pt+"px",jt.style.top=Gt-pt+"px",jt.style.height=2*pt+"px",jt.style.width=2*pt+"px",null!=M.color&&(jt.style.backgroundColor=M.color),jt.style.transitionDuration=`${dn}ms`,this._containerElement.appendChild(jt),function Ht(le){window.getComputedStyle(le).getPropertyValue("opacity")}(jt),jt.style.transform="scale(1)";const rn=new Bn(this,jt,M);return rn.state=0,this._activeRipples.add(rn),M.persistent||(this._mostRecentTransientRipple=rn),this._runTimeoutOutsideZone(()=>{const lt=rn===this._mostRecentTransientRipple;rn.state=1,!M.persistent&&(!lt||!this._isPointerDown)&&rn.fadeOut()},dn),rn}fadeOutRipple(O){const x=this._activeRipples.delete(O);if(O===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!x)return;const M=O.element,ee=Object.assign(Object.assign({},Pn),O.config.animation);M.style.transitionDuration=`${ee.exitDuration}ms`,M.style.opacity="0",O.state=2,this._runTimeoutOutsideZone(()=>{O.state=3,M.remove()},ee.exitDuration)}fadeOutAll(){this._activeRipples.forEach(O=>O.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(O=>{O.config.persistent||O.fadeOut()})}setupTriggerEvents(O){const x=(0,Ve.fI)(O);!x||x===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=x,this._registerEvents(An))}handleEvent(O){"mousedown"===O.type?this._onMousedown(O):"touchstart"===O.type?this._onTouchStart(O):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_n),this._pointerUpEventsRegistered=!0)}_onMousedown(O){const x=(0,Te.X6)(O),M=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!x&&!M&&(this._isPointerDown=!0,this.fadeInRipple(O.clientX,O.clientY,this._target.rippleConfig))}_onTouchStart(O){if(!this._target.rippleDisabled&&!(0,Te.yG)(O)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const x=O.changedTouches;for(let M=0;M<x.length;M++)this.fadeInRipple(x[M].clientX,x[M].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(O=>{!O.config.persistent&&(1===O.state||O.config.terminateOnPointerUp&&0===O.state)&&O.fadeOut()}))}_runTimeoutOutsideZone(O,x=0){this._ngZone.runOutsideAngular(()=>setTimeout(O,x))}_registerEvents(O){this._ngZone.runOutsideAngular(()=>{O.forEach(x=>{this._triggerElement.addEventListener(x,this,Tn)})})}_removeTriggerEvents(){this._triggerElement&&(An.forEach(O=>{this._triggerElement.removeEventListener(O,this,Tn)}),this._pointerUpEventsRegistered&&_n.forEach(O=>{this._triggerElement.removeEventListener(O,this,Tn)}))}}const kn=new c.OlP("mat-ripple-global-options");let Mn=(()=>{class le{constructor(x,M,ee,Ie,pt){this._elementRef=x,this._animationMode=pt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ie||{},this._rippleRenderer=new wn(this,M,x,ee)}get disabled(){return this._disabled}set disabled(x){x&&this.fadeOutAllNonPersistent(),this._disabled=x,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(x){this._trigger=x,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(x,M=0,ee){return"number"==typeof x?this._rippleRenderer.fadeInRipple(x,M,Object.assign(Object.assign({},this.rippleConfig),ee)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),x))}}return le.\u0275fac=function(x){return new(x||le)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Re.t4),c.Y36(kn,8),c.Y36(Ae.Qb,8))},le.\u0275dir=c.lG2({type:le,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(x,M){2&x&&c.ekj("mat-ripple-unbounded",M.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),le})(),Fn=(()=>{class le{}return le.\u0275fac=function(x){return new(x||le)},le.\u0275mod=c.oAB({type:le}),le.\u0275inj=c.cJS({imports:[[tt,Re.ud],tt]}),le})()},9212:(xt,Ye,A)=>{A.d(Ye,{pp:()=>Ce,To:()=>le,ib:()=>it,yz:()=>Hn,yK:()=>In});var c=A(5e3),D=A(3191),W=A(7579),j=A(727);let be=(()=>{class O{constructor(){this._listeners=[]}notify(M,ee){for(let Ie of this._listeners)Ie(M,ee)}listen(M){return this._listeners.push(M),()=>{this._listeners=this._listeners.filter(ee=>M!==ee)}}ngOnDestroy(){this._listeners=[]}}return O.\u0275fac=function(M){return new(M||O)},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Ne=0;const Ge=new c.OlP("CdkAccordion");let Ze=(()=>{class O{constructor(){this._stateChanges=new W.x,this._openCloseAllActions=new W.x,this.id="cdk-accordion-"+Ne++,this._multi=!1}get multi(){return this._multi}set multi(M){this._multi=(0,D.Ig)(M)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(M){this._stateChanges.next(M)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return O.\u0275fac=function(M){return new(M||O)},O.\u0275dir=c.lG2({type:O,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[c._Bn([{provide:Ge,useExisting:O}]),c.TTD]}),O})(),xe=0,ut=(()=>{class O{constructor(M,ee,Ie){this.accordion=M,this._changeDetectorRef=ee,this._expansionDispatcher=Ie,this._openCloseAllSubscription=j.w0.EMPTY,this.closed=new c.vpe,this.opened=new c.vpe,this.destroyed=new c.vpe,this.expandedChange=new c.vpe,this.id="cdk-accordion-child-"+xe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=Ie.listen((pt,Tt)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Tt&&this.id!==pt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(M){M=(0,D.Ig)(M),this._expanded!==M&&(this._expanded=M,this.expandedChange.emit(M),M?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,D.Ig)(M)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(M=>{this.disabled||(this.expanded=M)})}}return O.\u0275fac=function(M){return new(M||O)(c.Y36(Ge,12),c.Y36(c.sBO),c.Y36(be))},O.\u0275dir=c.lG2({type:O,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[c._Bn([{provide:Ge,useValue:void 0}])]}),O})(),De=(()=>{class O{}return O.\u0275fac=function(M){return new(M||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();var tt=A(9808);class Me{attach(x){return this._attachedHost=x,x.attach(this)}detach(){let x=this._attachedHost;null!=x&&(this._attachedHost=null,x.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(x){this._attachedHost=x}}class He extends Me{constructor(x,M,ee,Ie){super(),this.component=x,this.viewContainerRef=M,this.injector=ee,this.componentFactoryResolver=Ie}}class We extends Me{constructor(x,M,ee){super(),this.templateRef=x,this.viewContainerRef=M,this.context=ee}get origin(){return this.templateRef.elementRef}attach(x,M=this.context){return this.context=M,super.attach(x)}detach(){return this.context=void 0,super.detach()}}class at extends Me{constructor(x){super(),this.element=x instanceof c.SBq?x.nativeElement:x}}let rt=(()=>{class O extends class Be{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(x){return x instanceof He?(this._attachedPortal=x,this.attachComponentPortal(x)):x instanceof We?(this._attachedPortal=x,this.attachTemplatePortal(x)):this.attachDomPortal&&x instanceof at?(this._attachedPortal=x,this.attachDomPortal(x)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(x){this._disposeFn=x}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(M,ee,Ie){super(),this._componentFactoryResolver=M,this._viewContainerRef=ee,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=pt=>{const Tt=pt.element,Gt=this._document.createComment("dom-portal");pt.setAttachedHost(this),Tt.parentNode.insertBefore(Gt,Tt),this._getRootNode().appendChild(Tt),this._attachedPortal=pt,super.setDisposeFn(()=>{Gt.parentNode&&Gt.parentNode.replaceChild(Tt,Gt)})},this._document=Ie}get portal(){return this._attachedPortal}set portal(M){this.hasAttached()&&!M&&!this._isInitialized||(this.hasAttached()&&super.detach(),M&&super.attach(M),this._attachedPortal=M||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(M){M.setAttachedHost(this);const ee=null!=M.viewContainerRef?M.viewContainerRef:this._viewContainerRef,pt=(M.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(M.component),Tt=ee.createComponent(pt,ee.length,M.injector||ee.injector);return ee!==this._viewContainerRef&&this._getRootNode().appendChild(Tt.hostView.rootNodes[0]),super.setDisposeFn(()=>Tt.destroy()),this._attachedPortal=M,this._attachedRef=Tt,this.attached.emit(Tt),Tt}attachTemplatePortal(M){M.setAttachedHost(this);const ee=this._viewContainerRef.createEmbeddedView(M.templateRef,M.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=M,this._attachedRef=ee,this.attached.emit(ee),ee}_getRootNode(){const M=this._viewContainerRef.element.nativeElement;return M.nodeType===M.ELEMENT_NODE?M:M.parentNode}}return O.\u0275fac=function(M){return new(M||O)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(tt.K0))},O.\u0275dir=c.lG2({type:O,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),O})(),_t=(()=>{class O{}return O.\u0275fac=function(M){return new(M||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();var Wt=A(508),tn=A(8255),on=A(1884),an=A(8675),Zn=A(9300),Bn=A(5698),Pn=A(1159),On=A(6360),Tn=A(515),An=A(6451),_n=A(1777);const wn=["body"];function Ht(O,x){}const zn=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kn=["mat-expansion-panel-header","*","mat-action-row"];function Mn(O,x){if(1&O&&c._UZ(0,"span",2),2&O){const M=c.oxw();c.Q6J("@indicatorRotate",M._getExpandedState())}}const Fn=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Xt=["mat-panel-title","mat-panel-description","*"],Qt=new c.OlP("MAT_ACCORDION"),Dn="225ms cubic-bezier(0.4,0.0,0.2,1)",qt={indicatorRotate:(0,_n.X$)("indicatorRotate",[(0,_n.SB)("collapsed, void",(0,_n.oB)({transform:"rotate(0deg)"})),(0,_n.SB)("expanded",(0,_n.oB)({transform:"rotate(180deg)"})),(0,_n.eR)("expanded <=> collapsed, void => collapsed",(0,_n.jt)(Dn))]),bodyExpansion:(0,_n.X$)("bodyExpansion",[(0,_n.SB)("collapsed, void",(0,_n.oB)({height:"0px",visibility:"hidden"})),(0,_n.SB)("expanded",(0,_n.oB)({height:"*",visibility:"visible"})),(0,_n.eR)("expanded <=> collapsed, void => collapsed",(0,_n.jt)(Dn))])};let vt=(()=>{class O{constructor(M){this._template=M}}return O.\u0275fac=function(M){return new(M||O)(c.Y36(c.Rgc))},O.\u0275dir=c.lG2({type:O,selectors:[["ng-template","matExpansionPanelContent",""]]}),O})(),At=0;const je=new c.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let it=(()=>{class O extends ut{constructor(M,ee,Ie,pt,Tt,Gt,dn){super(M,ee,Ie),this._viewContainerRef=pt,this._animationMode=Gt,this._hideToggle=!1,this.afterExpand=new c.vpe,this.afterCollapse=new c.vpe,this._inputChanges=new W.x,this._headerId="mat-expansion-panel-header-"+At++,this._bodyAnimationDone=new W.x,this.accordion=M,this._document=Tt,this._bodyAnimationDone.pipe((0,on.x)((jt,rn)=>jt.fromState===rn.fromState&&jt.toState===rn.toState)).subscribe(jt=>{"void"!==jt.fromState&&("expanded"===jt.toState?this.afterExpand.emit():"collapsed"===jt.toState&&this.afterCollapse.emit())}),dn&&(this.hideToggle=dn.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(M){this._hideToggle=(0,D.Ig)(M)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(M){this._togglePosition=M}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,an.O)(null),(0,Zn.h)(()=>this.expanded&&!this._portal),(0,Bn.q)(1)).subscribe(()=>{this._portal=new We(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(M){this._inputChanges.next(M)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const M=this._document.activeElement,ee=this._body.nativeElement;return M===ee||ee.contains(M)}return!1}}return O.\u0275fac=function(M){return new(M||O)(c.Y36(Qt,12),c.Y36(c.sBO),c.Y36(be),c.Y36(c.s_b),c.Y36(tt.K0),c.Y36(On.Qb,8),c.Y36(je,8))},O.\u0275cmp=c.Xpm({type:O,selectors:[["mat-expansion-panel"]],contentQueries:function(M,ee,Ie){if(1&M&&c.Suo(Ie,vt,5),2&M){let pt;c.iGM(pt=c.CRH())&&(ee._lazyContent=pt.first)}},viewQuery:function(M,ee){if(1&M&&c.Gf(wn,5),2&M){let Ie;c.iGM(Ie=c.CRH())&&(ee._body=Ie.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(M,ee){2&M&&c.ekj("mat-expanded",ee.expanded)("_mat-animation-noopable","NoopAnimations"===ee._animationMode)("mat-expansion-panel-spacing",ee._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[c._Bn([{provide:Qt,useValue:void 0}]),c.qOj,c.TTD],ngContentSelectors:kn,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(M,ee){1&M&&(c.F$t(zn),c.Hsn(0),c.TgZ(1,"div",0,1),c.NdJ("@bodyExpansion.done",function(pt){return ee._bodyAnimationDone.next(pt)}),c.TgZ(3,"div",2),c.Hsn(4,1),c.YNc(5,Ht,0,0,"ng-template",3),c.qZA(),c.Hsn(6,2),c.qZA()),2&M&&(c.xp6(1),c.Q6J("@bodyExpansion",ee._getExpandedState())("id",ee.id),c.uIk("aria-labelledby",ee._headerId),c.xp6(4),c.Q6J("cdkPortalOutlet",ee._portal))},directives:[rt],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[qt.bodyExpansion]},changeDetection:0}),O})();class fn{}const vn=(0,Wt.sb)(fn);let Hn=(()=>{class O extends vn{constructor(M,ee,Ie,pt,Tt,Gt,dn){super(),this.panel=M,this._element=ee,this._focusMonitor=Ie,this._changeDetectorRef=pt,this._animationMode=Gt,this._parentChangeSubscription=j.w0.EMPTY;const jt=M.accordion?M.accordion._stateChanges.pipe((0,Zn.h)(rn=>!(!rn.hideToggle&&!rn.togglePosition))):Tn.E;this.tabIndex=parseInt(dn||"")||0,this._parentChangeSubscription=(0,An.T)(M.opened,M.closed,jt,M._inputChanges.pipe((0,Zn.h)(rn=>!!(rn.hideToggle||rn.disabled||rn.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),M.closed.pipe((0,Zn.h)(()=>M._containsFocus())).subscribe(()=>Ie.focusVia(ee,"program")),Tt&&(this.expandedHeight=Tt.expandedHeight,this.collapsedHeight=Tt.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const M=this._isExpanded();return M&&this.expandedHeight?this.expandedHeight:!M&&this.collapsedHeight?this.collapsedHeight:null}_keydown(M){switch(M.keyCode){case Pn.L_:case Pn.K5:(0,Pn.Vb)(M)||(M.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(M))}}focus(M,ee){M?this._focusMonitor.focusVia(this._element,M,ee):this._element.nativeElement.focus(ee)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(M=>{M&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return O.\u0275fac=function(M){return new(M||O)(c.Y36(it,1),c.Y36(c.SBq),c.Y36(tn.tE),c.Y36(c.sBO),c.Y36(je,8),c.Y36(On.Qb,8),c.$8M("tabindex"))},O.\u0275cmp=c.Xpm({type:O,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(M,ee){1&M&&c.NdJ("click",function(){return ee._toggle()})("keydown",function(pt){return ee._keydown(pt)}),2&M&&(c.uIk("id",ee.panel._headerId)("tabindex",ee.tabIndex)("aria-controls",ee._getPanelId())("aria-expanded",ee._isExpanded())("aria-disabled",ee.panel.disabled),c.Udp("height",ee._getHeaderHeight()),c.ekj("mat-expanded",ee._isExpanded())("mat-expansion-toggle-indicator-after","after"===ee._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===ee._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===ee._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[c.qOj],ngContentSelectors:Xt,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(M,ee){1&M&&(c.F$t(Fn),c.TgZ(0,"span",0),c.Hsn(1),c.Hsn(2,1),c.Hsn(3,2),c.qZA(),c.YNc(4,Mn,1,1,"span",1)),2&M&&(c.xp6(4),c.Q6J("ngIf",ee._showToggle()))},directives:[tt.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[qt.indicatorRotate]},changeDetection:0}),O})(),In=(()=>{class O{}return O.\u0275fac=function(M){return new(M||O)},O.\u0275dir=c.lG2({type:O,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),O})(),Ce=(()=>{class O extends Ze{constructor(){super(...arguments),this._ownHeaders=new c.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(M){this._hideToggle=(0,D.Ig)(M)}ngAfterContentInit(){this._headers.changes.pipe((0,an.O)(this._headers)).subscribe(M=>{this._ownHeaders.reset(M.filter(ee=>ee.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new tn.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(M){this._keyManager.onKeydown(M)}_handleHeaderFocus(M){this._keyManager.updateActiveItem(M)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return O.\u0275fac=function(){let x;return function(ee){return(x||(x=c.n5z(O)))(ee||O)}}(),O.\u0275dir=c.lG2({type:O,selectors:[["mat-accordion"]],contentQueries:function(M,ee,Ie){if(1&M&&c.Suo(Ie,Hn,5),2&M){let pt;c.iGM(pt=c.CRH())&&(ee._headers=pt)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(M,ee){2&M&&c.ekj("mat-accordion-multi",ee.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[c._Bn([{provide:Qt,useExisting:O}]),c.qOj]}),O})(),le=(()=>{class O{}return O.\u0275fac=function(M){return new(M||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({imports:[[tt.ez,Wt.BQ,De,_t]]}),O})()},4106:(xt,Ye,A)=>{A.d(Ye,{G_:()=>Qt,KE:()=>Dn,Eo:()=>Wt,lN:()=>qt});var c=A(3191),D=A(5e3),W=A(8306),j=A(7579),Re=A(8372);let Te=(()=>{class vt{create(je){return"undefined"==typeof MutationObserver?null:new MutationObserver(je)}}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275prov=D.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})(),Ve=(()=>{class vt{constructor(je){this._mutationObserverFactory=je,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((je,it)=>this._cleanupObserver(it))}observe(je){const it=(0,c.fI)(je);return new W.y(ln=>{const vn=this._observeElement(it).subscribe(ln);return()=>{vn.unsubscribe(),this._unobserveElement(it)}})}_observeElement(je){if(this._observedElements.has(je))this._observedElements.get(je).count++;else{const it=new j.x,ln=this._mutationObserverFactory.create(fn=>it.next(fn));ln&&ln.observe(je,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(je,{observer:ln,stream:it,count:1})}return this._observedElements.get(je).stream}_unobserveElement(je){this._observedElements.has(je)&&(this._observedElements.get(je).count--,this._observedElements.get(je).count||this._cleanupObserver(je))}_cleanupObserver(je){if(this._observedElements.has(je)){const{observer:it,stream:ln}=this._observedElements.get(je);it&&it.disconnect(),ln.complete(),this._observedElements.delete(je)}}}return vt.\u0275fac=function(je){return new(je||vt)(D.LFG(Te))},vt.\u0275prov=D.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})(),me=(()=>{class vt{constructor(je,it,ln){this._contentObserver=je,this._elementRef=it,this._ngZone=ln,this.event=new D.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(je){this._disabled=(0,c.Ig)(je),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(je){this._debounce=(0,c.su)(je),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const je=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?je.pipe((0,Re.b)(this.debounce)):je).subscribe(this.event)})}_unsubscribe(){var je;null===(je=this._currentSubscription)||void 0===je||je.unsubscribe()}}return vt.\u0275fac=function(je){return new(je||vt)(D.Y36(Ve),D.Y36(D.SBq),D.Y36(D.R0b))},vt.\u0275dir=D.lG2({type:vt,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),vt})(),Ae=(()=>{class vt{}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275mod=D.oAB({type:vt}),vt.\u0275inj=D.cJS({providers:[Te]}),vt})();var de=A(9808),ie=A(508),be=A(6451),ot=A(4968),Ne=A(8675),Ge=A(2722),Ze=A(5698),xe=A(1777),ut=A(6360),De=A(226),tt=A(925);const ke=["connectionContainer"],ye=["inputContainer"],he=["label"];function ze(vt,At){1&vt&&(D.ynx(0),D.TgZ(1,"div",14),D._UZ(2,"div",15),D._UZ(3,"div",16),D._UZ(4,"div",17),D.qZA(),D.TgZ(5,"div",18),D._UZ(6,"div",15),D._UZ(7,"div",16),D._UZ(8,"div",17),D.qZA(),D.BQk())}function we(vt,At){if(1&vt){const je=D.EpF();D.TgZ(0,"div",19),D.NdJ("cdkObserveContent",function(){return D.CHM(je),D.oxw().updateOutlineGap()}),D.Hsn(1,1),D.qZA()}if(2&vt){const je=D.oxw();D.Q6J("cdkObserveContentDisabled","outline"!=je.appearance)}}function Fe(vt,At){if(1&vt&&(D.ynx(0),D.Hsn(1,2),D.TgZ(2,"span"),D._uU(3),D.qZA(),D.BQk()),2&vt){const je=D.oxw(2);D.xp6(3),D.Oqu(je._control.placeholder)}}function Me(vt,At){1&vt&&D.Hsn(0,3,["*ngSwitchCase","true"])}function He(vt,At){1&vt&&(D.TgZ(0,"span",23),D._uU(1," *"),D.qZA())}function We(vt,At){if(1&vt){const je=D.EpF();D.TgZ(0,"label",20,21),D.NdJ("cdkObserveContent",function(){return D.CHM(je),D.oxw().updateOutlineGap()}),D.YNc(2,Fe,4,1,"ng-container",12),D.YNc(3,Me,1,0,"ng-content",12),D.YNc(4,He,2,0,"span",22),D.qZA()}if(2&vt){const je=D.oxw();D.ekj("mat-empty",je._control.empty&&!je._shouldAlwaysFloat())("mat-form-field-empty",je._control.empty&&!je._shouldAlwaysFloat())("mat-accent","accent"==je.color)("mat-warn","warn"==je.color),D.Q6J("cdkObserveContentDisabled","outline"!=je.appearance)("id",je._labelId)("ngSwitch",je._hasLabel()),D.uIk("for",je._control.id)("aria-owns",je._control.id),D.xp6(2),D.Q6J("ngSwitchCase",!1),D.xp6(1),D.Q6J("ngSwitchCase",!0),D.xp6(1),D.Q6J("ngIf",!je.hideRequiredMarker&&je._control.required&&!je._control.disabled)}}function at(vt,At){1&vt&&(D.TgZ(0,"div",24),D.Hsn(1,4),D.qZA())}function Be(vt,At){if(1&vt&&(D.TgZ(0,"div",25),D._UZ(1,"span",26),D.qZA()),2&vt){const je=D.oxw();D.xp6(1),D.ekj("mat-accent","accent"==je.color)("mat-warn","warn"==je.color)}}function $e(vt,At){if(1&vt&&(D.TgZ(0,"div"),D.Hsn(1,5),D.qZA()),2&vt){const je=D.oxw();D.Q6J("@transitionMessages",je._subscriptAnimationState)}}function Et(vt,At){if(1&vt&&(D.TgZ(0,"div",30),D._uU(1),D.qZA()),2&vt){const je=D.oxw(2);D.Q6J("id",je._hintLabelId),D.xp6(1),D.Oqu(je.hintLabel)}}function Nt(vt,At){if(1&vt&&(D.TgZ(0,"div",27),D.YNc(1,Et,2,2,"div",28),D.Hsn(2,6),D._UZ(3,"div",29),D.Hsn(4,7),D.qZA()),2&vt){const je=D.oxw();D.Q6J("@transitionMessages",je._subscriptAnimationState),D.xp6(1),D.Q6J("ngIf",je.hintLabel)}}const Zt=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Ct=new D.OlP("MatError"),Ft={transitionMessages:(0,xe.X$)("transitionMessages",[(0,xe.SB)("enter",(0,xe.oB)({opacity:1,transform:"translateY(0%)"})),(0,xe.eR)("void => enter",[(0,xe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,xe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wt=(()=>{class vt{}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275dir=D.lG2({type:vt}),vt})();const Bn=new D.OlP("MatHint");let On=(()=>{class vt{}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275dir=D.lG2({type:vt,selectors:[["mat-label"]]}),vt})(),Tn=(()=>{class vt{}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275dir=D.lG2({type:vt,selectors:[["mat-placeholder"]]}),vt})();const An=new D.OlP("MatPrefix"),wn=new D.OlP("MatSuffix");let zn=0;const Fn=(0,ie.pj)(class{constructor(vt){this._elementRef=vt}},"primary"),Xt=new D.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Qt=new D.OlP("MatFormField");let Dn=(()=>{class vt extends Fn{constructor(je,it,ln,fn,vn,Hn,Un){super(je),this._changeDetectorRef=it,this._dir=ln,this._defaults=fn,this._platform=vn,this._ngZone=Hn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new j.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zn++,this._labelId="mat-form-field-label-"+zn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Un,this.appearance=fn&&fn.appearance?fn.appearance:"legacy",this._hideRequiredMarker=!(!fn||null==fn.hideRequiredMarker)&&fn.hideRequiredMarker}get appearance(){return this._appearance}set appearance(je){const it=this._appearance;this._appearance=je||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&it!==je&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(je){this._hideRequiredMarker=(0,c.Ig)(je)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(je){this._hintLabel=je,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(je){je!==this._floatLabel&&(this._floatLabel=je||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(je){this._explicitFormFieldControl=je}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const je=this._control;je.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${je.controlType}`),je.stateChanges.pipe((0,Ne.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),je.ngControl&&je.ngControl.valueChanges&&je.ngControl.valueChanges.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,be.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ne.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ne.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(je){const it=this._control?this._control.ngControl:null;return it&&it[je]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ot.R)(this._label.nativeElement,"transitionend").pipe((0,Ze.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let je=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&je.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const it=this._hintChildren?this._hintChildren.find(fn=>"start"===fn.align):null,ln=this._hintChildren?this._hintChildren.find(fn=>"end"===fn.align):null;it?je.push(it.id):this._hintLabel&&je.push(this._hintLabelId),ln&&je.push(ln.id)}else this._errorChildren&&je.push(...this._errorChildren.map(it=>it.id));this._control.setDescribedByIds(je)}}_validateControlChild(){}updateOutlineGap(){const je=this._label?this._label.nativeElement:null,it=this._connectionContainerRef.nativeElement,ln=".mat-form-field-outline-start",fn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!je||!je.children.length||!je.textContent.trim()){const Ce=it.querySelectorAll(`${ln}, ${fn}`);for(let le=0;le<Ce.length;le++)Ce[le].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let vn=0,Hn=0;const Un=it.querySelectorAll(ln),In=it.querySelectorAll(fn);if(this._label&&this._label.nativeElement.children.length){const Ce=it.getBoundingClientRect();if(0===Ce.width&&0===Ce.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const le=this._getStartEnd(Ce),O=je.children,x=this._getStartEnd(O[0].getBoundingClientRect());let M=0;for(let ee=0;ee<O.length;ee++)M+=O[ee].offsetWidth;vn=Math.abs(x-le)-5,Hn=M>0?.75*M+10:0}for(let Ce=0;Ce<Un.length;Ce++)Un[Ce].style.width=`${vn}px`;for(let Ce=0;Ce<In.length;Ce++)In[Ce].style.width=`${Hn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(je){return this._dir&&"rtl"===this._dir.value?je.right:je.left}_isAttachedToDOM(){const je=this._elementRef.nativeElement;if(je.getRootNode){const it=je.getRootNode();return it&&it!==je}return document.documentElement.contains(je)}}return vt.\u0275fac=function(je){return new(je||vt)(D.Y36(D.SBq),D.Y36(D.sBO),D.Y36(De.Is,8),D.Y36(Xt,8),D.Y36(tt.t4),D.Y36(D.R0b),D.Y36(ut.Qb,8))},vt.\u0275cmp=D.Xpm({type:vt,selectors:[["mat-form-field"]],contentQueries:function(je,it,ln){if(1&je&&(D.Suo(ln,Wt,5),D.Suo(ln,Wt,7),D.Suo(ln,On,5),D.Suo(ln,On,7),D.Suo(ln,Tn,5),D.Suo(ln,Ct,5),D.Suo(ln,Bn,5),D.Suo(ln,An,5),D.Suo(ln,wn,5)),2&je){let fn;D.iGM(fn=D.CRH())&&(it._controlNonStatic=fn.first),D.iGM(fn=D.CRH())&&(it._controlStatic=fn.first),D.iGM(fn=D.CRH())&&(it._labelChildNonStatic=fn.first),D.iGM(fn=D.CRH())&&(it._labelChildStatic=fn.first),D.iGM(fn=D.CRH())&&(it._placeholderChild=fn.first),D.iGM(fn=D.CRH())&&(it._errorChildren=fn),D.iGM(fn=D.CRH())&&(it._hintChildren=fn),D.iGM(fn=D.CRH())&&(it._prefixChildren=fn),D.iGM(fn=D.CRH())&&(it._suffixChildren=fn)}},viewQuery:function(je,it){if(1&je&&(D.Gf(ke,7),D.Gf(ye,5),D.Gf(he,5)),2&je){let ln;D.iGM(ln=D.CRH())&&(it._connectionContainerRef=ln.first),D.iGM(ln=D.CRH())&&(it._inputContainerRef=ln.first),D.iGM(ln=D.CRH())&&(it._label=ln.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(je,it){2&je&&D.ekj("mat-form-field-appearance-standard","standard"==it.appearance)("mat-form-field-appearance-fill","fill"==it.appearance)("mat-form-field-appearance-outline","outline"==it.appearance)("mat-form-field-appearance-legacy","legacy"==it.appearance)("mat-form-field-invalid",it._control.errorState)("mat-form-field-can-float",it._canLabelFloat())("mat-form-field-should-float",it._shouldLabelFloat())("mat-form-field-has-label",it._hasFloatingLabel())("mat-form-field-hide-placeholder",it._hideControlPlaceholder())("mat-form-field-disabled",it._control.disabled)("mat-form-field-autofilled",it._control.autofilled)("mat-focused",it._control.focused)("ng-untouched",it._shouldForward("untouched"))("ng-touched",it._shouldForward("touched"))("ng-pristine",it._shouldForward("pristine"))("ng-dirty",it._shouldForward("dirty"))("ng-valid",it._shouldForward("valid"))("ng-invalid",it._shouldForward("invalid"))("ng-pending",it._shouldForward("pending"))("_mat-animation-noopable",!it._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[D._Bn([{provide:Qt,useExisting:vt}]),D.qOj],ngContentSelectors:dt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(je,it){1&je&&(D.F$t(Zt),D.TgZ(0,"div",0),D.TgZ(1,"div",1,2),D.NdJ("click",function(fn){return it._control.onContainerClick&&it._control.onContainerClick(fn)}),D.YNc(3,ze,9,0,"ng-container",3),D.YNc(4,we,2,1,"div",4),D.TgZ(5,"div",5,6),D.Hsn(7),D.TgZ(8,"span",7),D.YNc(9,We,5,16,"label",8),D.qZA(),D.qZA(),D.YNc(10,at,2,0,"div",9),D.qZA(),D.YNc(11,Be,2,4,"div",10),D.TgZ(12,"div",11),D.YNc(13,$e,2,1,"div",12),D.YNc(14,Nt,5,2,"div",13),D.qZA(),D.qZA()),2&je&&(D.xp6(3),D.Q6J("ngIf","outline"==it.appearance),D.xp6(1),D.Q6J("ngIf",it._prefixChildren.length),D.xp6(5),D.Q6J("ngIf",it._hasFloatingLabel()),D.xp6(1),D.Q6J("ngIf",it._suffixChildren.length),D.xp6(1),D.Q6J("ngIf","outline"!=it.appearance),D.xp6(1),D.Q6J("ngSwitch",it._getDisplayedMessages()),D.xp6(1),D.Q6J("ngSwitchCase","error"),D.xp6(1),D.Q6J("ngSwitchCase","hint"))},directives:[de.O5,me,de.RF,de.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Ft.transitionMessages]},changeDetection:0}),vt})(),qt=(()=>{class vt{}return vt.\u0275fac=function(je){return new(je||vt)},vt.\u0275mod=D.oAB({type:vt}),vt.\u0275inj=D.cJS({imports:[[de.ez,ie.BQ,Ae],ie.BQ]}),vt})()},8326:(xt,Ye,A)=>{A.d(Ye,{Hw:()=>mt,Ps:()=>Ut});var c=A(5e3),D=A(508),W=A(3191),j=A(9808),Re=A(8306),Te=A(576),me=A(9646),Ae=A(4128),de=A(727),ie=A(8505),be=A(4004),ot=A(262),Ne=A(8746),Ge=A(3099),Ze=A(5698),xe=A(4351),ut=A(9300);class De{}class ke{constructor(Ee){this.normalizedNames=new Map,this.lazyUpdate=null,Ee?this.lazyInit="string"==typeof Ee?()=>{this.headers=new Map,Ee.split("\n").forEach(se=>{const Se=se.indexOf(":");if(Se>0){const ft=se.slice(0,Se),wt=ft.toLowerCase(),Bt=se.slice(Se+1).trim();this.maybeSetNormalizedName(ft,wt),this.headers.has(wt)?this.headers.get(wt).push(Bt):this.headers.set(wt,[Bt])}})}:()=>{this.headers=new Map,Object.keys(Ee).forEach(se=>{let Se=Ee[se];const ft=se.toLowerCase();"string"==typeof Se&&(Se=[Se]),Se.length>0&&(this.headers.set(ft,Se),this.maybeSetNormalizedName(se,ft))})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const se=this.headers.get(Ee.toLowerCase());return se&&se.length>0?se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,se){return this.clone({name:Ee,value:se,op:"a"})}set(Ee,se){return this.clone({name:Ee,value:se,op:"s"})}delete(Ee,se){return this.clone({name:Ee,value:se,op:"d"})}maybeSetNormalizedName(Ee,se){this.normalizedNames.has(se)||this.normalizedNames.set(se,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(se=>{this.headers.set(se,Ee.headers.get(se)),this.normalizedNames.set(se,Ee.normalizedNames.get(se))})}clone(Ee){const se=new ke;return se.lazyInit=this.lazyInit&&this.lazyInit instanceof ke?this.lazyInit:this,se.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),se}applyUpdate(Ee){const se=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let Se=Ee.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(Ee.name,se);const ft=("a"===Ee.op?this.headers.get(se):void 0)||[];ft.push(...Se),this.headers.set(se,ft);break;case"d":const wt=Ee.value;if(wt){let Bt=this.headers.get(se);if(!Bt)return;Bt=Bt.filter(yn=>-1===wt.indexOf(yn)),0===Bt.length?(this.headers.delete(se),this.normalizedNames.delete(se)):this.headers.set(se,Bt)}else this.headers.delete(se),this.normalizedNames.delete(se)}}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(se=>Ee(this.normalizedNames.get(se),this.headers.get(se)))}}class ye{encodeKey(Ee){return Fe(Ee)}encodeValue(Ee){return Fe(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const ze=/%(\d[a-f0-9])/gi,we={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Fe(Xe){return encodeURIComponent(Xe).replace(ze,(Ee,se)=>{var Se;return null!==(Se=we[se])&&void 0!==Se?Se:Ee})}function Me(Xe){return`${Xe}`}class He{constructor(Ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ee.encoder||new ye,Ee.fromString){if(Ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function he(Xe,Ee){const se=new Map;return Xe.length>0&&Xe.replace(/^\?/,"").split("&").forEach(ft=>{const wt=ft.indexOf("="),[Bt,yn]=-1==wt?[Ee.decodeKey(ft),""]:[Ee.decodeKey(ft.slice(0,wt)),Ee.decodeValue(ft.slice(wt+1))],Lt=se.get(Bt)||[];Lt.push(yn),se.set(Bt,Lt)}),se}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(se=>{const Se=Ee.fromObject[se];this.map.set(se,Array.isArray(Se)?Se:[Se])})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const se=this.map.get(Ee);return se?se[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,se){return this.clone({param:Ee,value:se,op:"a"})}appendAll(Ee){const se=[];return Object.keys(Ee).forEach(Se=>{const ft=Ee[Se];Array.isArray(ft)?ft.forEach(wt=>{se.push({param:Se,value:wt,op:"a"})}):se.push({param:Se,value:ft,op:"a"})}),this.clone(se)}set(Ee,se){return this.clone({param:Ee,value:se,op:"s"})}delete(Ee,se){return this.clone({param:Ee,value:se,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const se=this.encoder.encodeKey(Ee);return this.map.get(Ee).map(Se=>se+"="+this.encoder.encodeValue(Se)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const se=new He({encoder:this.encoder});return se.cloneFrom=this.cloneFrom||this,se.updates=(this.updates||[]).concat(Ee),se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const se=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];se.push(Me(Ee.value)),this.map.set(Ee.param,se);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let Se=this.map.get(Ee.param)||[];const ft=Se.indexOf(Me(Ee.value));-1!==ft&&Se.splice(ft,1),Se.length>0?this.map.set(Ee.param,Se):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class at{constructor(){this.map=new Map}set(Ee,se){return this.map.set(Ee,se),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function $e(Xe){return"undefined"!=typeof ArrayBuffer&&Xe instanceof ArrayBuffer}function Et(Xe){return"undefined"!=typeof Blob&&Xe instanceof Blob}function Nt(Xe){return"undefined"!=typeof FormData&&Xe instanceof FormData}class dt{constructor(Ee,se,Se,ft){let wt;if(this.url=se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ee.toUpperCase(),function Be(Xe){switch(Xe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==Se?Se:null,wt=ft):wt=Se,wt&&(this.reportProgress=!!wt.reportProgress,this.withCredentials=!!wt.withCredentials,wt.responseType&&(this.responseType=wt.responseType),wt.headers&&(this.headers=wt.headers),wt.context&&(this.context=wt.context),wt.params&&(this.params=wt.params)),this.headers||(this.headers=new ke),this.context||(this.context=new at),this.params){const Bt=this.params.toString();if(0===Bt.length)this.urlWithParams=se;else{const yn=se.indexOf("?");this.urlWithParams=se+(-1===yn?"?":yn<se.length-1?"&":"")+Bt}}else this.params=new He,this.urlWithParams=se}serializeBody(){return null===this.body?null:$e(this.body)||Et(this.body)||Nt(this.body)||function Zt(Xe){return"undefined"!=typeof URLSearchParams&&Xe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof He?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nt(this.body)?null:Et(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof He?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ee={}){var se;const Se=Ee.method||this.method,ft=Ee.url||this.url,wt=Ee.responseType||this.responseType,Bt=void 0!==Ee.body?Ee.body:this.body,yn=void 0!==Ee.withCredentials?Ee.withCredentials:this.withCredentials,Lt=void 0!==Ee.reportProgress?Ee.reportProgress:this.reportProgress;let Dt=Ee.headers||this.headers,pn=Ee.params||this.params;const $n=null!==(se=Ee.context)&&void 0!==se?se:this.context;return void 0!==Ee.setHeaders&&(Dt=Object.keys(Ee.setHeaders).reduce((wr,lr)=>wr.set(lr,Ee.setHeaders[lr]),Dt)),Ee.setParams&&(pn=Object.keys(Ee.setParams).reduce((wr,lr)=>wr.set(lr,Ee.setParams[lr]),pn)),new dt(Se,ft,Bt,{params:pn,headers:Dt,context:$n,reportProgress:Lt,responseType:wt,withCredentials:yn})}}var rt=(()=>((rt=rt||{})[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt))();class Ft extends class Ct{constructor(Ee,se=200,Se="OK"){this.headers=Ee.headers||new ke,this.status=void 0!==Ee.status?Ee.status:se,this.statusText=Ee.statusText||Se,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Ee={}){super(Ee),this.type=rt.Response,this.body=void 0!==Ee.body?Ee.body:null}clone(Ee={}){return new Ft({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}function tn(Xe,Ee){return{body:Ee,headers:Xe.headers,context:Xe.context,observe:Xe.observe,params:Xe.params,reportProgress:Xe.reportProgress,responseType:Xe.responseType,withCredentials:Xe.withCredentials}}let on=(()=>{class Xe{constructor(se){this.handler=se}request(se,Se,ft={}){let wt;if(se instanceof dt)wt=se;else{let Lt,Dt;Lt=ft.headers instanceof ke?ft.headers:new ke(ft.headers),ft.params&&(Dt=ft.params instanceof He?ft.params:new He({fromObject:ft.params})),wt=new dt(se,Se,void 0!==ft.body?ft.body:null,{headers:Lt,context:ft.context,params:Dt,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const Bt=(0,me.of)(wt).pipe((0,xe.b)(Lt=>this.handler.handle(Lt)));if(se instanceof dt||"events"===ft.observe)return Bt;const yn=Bt.pipe((0,ut.h)(Lt=>Lt instanceof Ft));switch(ft.observe||"body"){case"body":switch(wt.responseType){case"arraybuffer":return yn.pipe((0,be.U)(Lt=>{if(null!==Lt.body&&!(Lt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Lt.body}));case"blob":return yn.pipe((0,be.U)(Lt=>{if(null!==Lt.body&&!(Lt.body instanceof Blob))throw new Error("Response is not a Blob.");return Lt.body}));case"text":return yn.pipe((0,be.U)(Lt=>{if(null!==Lt.body&&"string"!=typeof Lt.body)throw new Error("Response is not a string.");return Lt.body}));default:return yn.pipe((0,be.U)(Lt=>Lt.body))}case"response":return yn;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(se,Se={}){return this.request("DELETE",se,Se)}get(se,Se={}){return this.request("GET",se,Se)}head(se,Se={}){return this.request("HEAD",se,Se)}jsonp(se,Se){return this.request("JSONP",se,{params:(new He).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(se,Se={}){return this.request("OPTIONS",se,Se)}patch(se,Se,ft={}){return this.request("PATCH",se,tn(ft,Se))}post(se,Se,ft={}){return this.request("POST",se,tn(ft,Se))}put(se,Se,ft={}){return this.request("PUT",se,tn(ft,Se))}}return Xe.\u0275fac=function(se){return new(se||Xe)(c.LFG(De))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();var Hn=A(2313);const Un=["*"];let In;function le(Xe){var Ee;return(null===(Ee=function Ce(){if(void 0===In&&(In=null,"undefined"!=typeof window)){const Xe=window;void 0!==Xe.trustedTypes&&(In=Xe.trustedTypes.createPolicy("angular#components",{createHTML:Ee=>Ee}))}return In}())||void 0===Ee?void 0:Ee.createHTML(Xe))||Xe}function O(Xe){return Error(`Unable to find icon with the name "${Xe}"`)}function M(Xe){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Xe}".`)}function ee(Xe){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Xe}".`)}class Ie{constructor(Ee,se,Se){this.url=Ee,this.svgText=se,this.options=Se}}let pt=(()=>{class Xe{constructor(se,Se,ft,wt){this._httpClient=se,this._sanitizer=Se,this._errorHandler=wt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=ft}addSvgIcon(se,Se,ft){return this.addSvgIconInNamespace("",se,Se,ft)}addSvgIconLiteral(se,Se,ft){return this.addSvgIconLiteralInNamespace("",se,Se,ft)}addSvgIconInNamespace(se,Se,ft,wt){return this._addSvgIconConfig(se,Se,new Ie(ft,null,wt))}addSvgIconResolver(se){return this._resolvers.push(se),this}addSvgIconLiteralInNamespace(se,Se,ft,wt){const Bt=this._sanitizer.sanitize(c.q3G.HTML,ft);if(!Bt)throw ee(ft);const yn=le(Bt);return this._addSvgIconConfig(se,Se,new Ie("",yn,wt))}addSvgIconSet(se,Se){return this.addSvgIconSetInNamespace("",se,Se)}addSvgIconSetLiteral(se,Se){return this.addSvgIconSetLiteralInNamespace("",se,Se)}addSvgIconSetInNamespace(se,Se,ft){return this._addSvgIconSetConfig(se,new Ie(Se,null,ft))}addSvgIconSetLiteralInNamespace(se,Se,ft){const wt=this._sanitizer.sanitize(c.q3G.HTML,Se);if(!wt)throw ee(Se);const Bt=le(wt);return this._addSvgIconSetConfig(se,new Ie("",Bt,ft))}registerFontClassAlias(se,Se=se){return this._fontCssClassesByAlias.set(se,Se),this}classNameForFontAlias(se){return this._fontCssClassesByAlias.get(se)||se}setDefaultFontSetClass(se){return this._defaultFontSetClass=se,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(se){const Se=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,se);if(!Se)throw M(se);const ft=this._cachedIconsByUrl.get(Se);return ft?(0,me.of)(dn(ft)):this._loadSvgIconFromConfig(new Ie(se,null)).pipe((0,ie.b)(wt=>this._cachedIconsByUrl.set(Se,wt)),(0,be.U)(wt=>dn(wt)))}getNamedSvgIcon(se,Se=""){const ft=jt(Se,se);let wt=this._svgIconConfigs.get(ft);if(wt)return this._getSvgFromConfig(wt);if(wt=this._getIconConfigFromResolvers(Se,se),wt)return this._svgIconConfigs.set(ft,wt),this._getSvgFromConfig(wt);const Bt=this._iconSetConfigs.get(Se);return Bt?this._getSvgFromIconSetConfigs(se,Bt):function Ve(Xe,Ee){const se=(0,Te.m)(Xe)?Xe:()=>Xe,Se=ft=>ft.error(se());return new Re.y(Ee?ft=>Ee.schedule(Se,0,ft):Se)}(O(ft))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(se){return se.svgText?(0,me.of)(dn(this._svgElementFromConfig(se))):this._loadSvgIconFromConfig(se).pipe((0,be.U)(Se=>dn(Se)))}_getSvgFromIconSetConfigs(se,Se){const ft=this._extractIconWithNameFromAnySet(se,Se);if(ft)return(0,me.of)(ft);const wt=Se.filter(Bt=>!Bt.svgText).map(Bt=>this._loadSvgIconSetFromConfig(Bt).pipe((0,ot.K)(yn=>{const Dt=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,Bt.url)} failed: ${yn.message}`;return this._errorHandler.handleError(new Error(Dt)),(0,me.of)(null)})));return(0,Ae.D)(wt).pipe((0,be.U)(()=>{const Bt=this._extractIconWithNameFromAnySet(se,Se);if(!Bt)throw O(se);return Bt}))}_extractIconWithNameFromAnySet(se,Se){for(let ft=Se.length-1;ft>=0;ft--){const wt=Se[ft];if(wt.svgText&&wt.svgText.toString().indexOf(se)>-1){const Bt=this._svgElementFromConfig(wt),yn=this._extractSvgIconFromSet(Bt,se,wt.options);if(yn)return yn}}return null}_loadSvgIconFromConfig(se){return this._fetchIcon(se).pipe((0,ie.b)(Se=>se.svgText=Se),(0,be.U)(()=>this._svgElementFromConfig(se)))}_loadSvgIconSetFromConfig(se){return se.svgText?(0,me.of)(null):this._fetchIcon(se).pipe((0,ie.b)(Se=>se.svgText=Se))}_extractSvgIconFromSet(se,Se,ft){const wt=se.querySelector(`[id="${Se}"]`);if(!wt)return null;const Bt=wt.cloneNode(!0);if(Bt.removeAttribute("id"),"svg"===Bt.nodeName.toLowerCase())return this._setSvgAttributes(Bt,ft);if("symbol"===Bt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Bt),ft);const yn=this._svgElementFromString(le("<svg></svg>"));return yn.appendChild(Bt),this._setSvgAttributes(yn,ft)}_svgElementFromString(se){const Se=this._document.createElement("DIV");Se.innerHTML=se;const ft=Se.querySelector("svg");if(!ft)throw Error("<svg> tag not found");return ft}_toSvgElement(se){const Se=this._svgElementFromString(le("<svg></svg>")),ft=se.attributes;for(let wt=0;wt<ft.length;wt++){const{name:Bt,value:yn}=ft[wt];"id"!==Bt&&Se.setAttribute(Bt,yn)}for(let wt=0;wt<se.childNodes.length;wt++)se.childNodes[wt].nodeType===this._document.ELEMENT_NODE&&Se.appendChild(se.childNodes[wt].cloneNode(!0));return Se}_setSvgAttributes(se,Se){return se.setAttribute("fit",""),se.setAttribute("height","100%"),se.setAttribute("width","100%"),se.setAttribute("preserveAspectRatio","xMidYMid meet"),se.setAttribute("focusable","false"),Se&&Se.viewBox&&se.setAttribute("viewBox",Se.viewBox),se}_fetchIcon(se){var Se;const{url:ft,options:wt}=se,Bt=null!==(Se=null==wt?void 0:wt.withCredentials)&&void 0!==Se&&Se;if(!this._httpClient)throw function x(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ft)throw Error(`Cannot fetch icon from URL "${ft}".`);const yn=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,ft);if(!yn)throw M(ft);const Lt=this._inProgressUrlFetches.get(yn);if(Lt)return Lt;const Dt=this._httpClient.get(yn,{responseType:"text",withCredentials:Bt}).pipe((0,be.U)(pn=>le(pn)),(0,Ne.x)(()=>this._inProgressUrlFetches.delete(yn)),(0,Ge.B)());return this._inProgressUrlFetches.set(yn,Dt),Dt}_addSvgIconConfig(se,Se,ft){return this._svgIconConfigs.set(jt(se,Se),ft),this}_addSvgIconSetConfig(se,Se){const ft=this._iconSetConfigs.get(se);return ft?ft.push(Se):this._iconSetConfigs.set(se,[Se]),this}_svgElementFromConfig(se){if(!se.svgElement){const Se=this._svgElementFromString(se.svgText);this._setSvgAttributes(Se,se.options),se.svgElement=Se}return se.svgElement}_getIconConfigFromResolvers(se,Se){for(let ft=0;ft<this._resolvers.length;ft++){const wt=this._resolvers[ft](Se,se);if(wt)return rn(wt)?new Ie(wt.url,null,wt.options):new Ie(wt,null)}}}return Xe.\u0275fac=function(se){return new(se||Xe)(c.LFG(on,8),c.LFG(Hn.H7),c.LFG(j.K0,8),c.LFG(c.qLn))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();function dn(Xe){return Xe.cloneNode(!0)}function jt(Xe,Ee){return Xe+":"+Ee}function rn(Xe){return!(!Xe.url||!Xe.options)}const lt=(0,D.pj)(class{constructor(Xe){this._elementRef=Xe}}),qe=new c.OlP("mat-icon-location",{providedIn:"root",factory:function K(){const Xe=(0,c.f3M)(j.K0),Ee=Xe?Xe.location:null;return{getPathname:()=>Ee?Ee.pathname+Ee.search:""}}}),ae=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oe=ae.map(Xe=>`[${Xe}]`).join(", "),Le=/^url\(['"]?#(.*?)['"]?\)$/;let mt=(()=>{class Xe extends lt{constructor(se,Se,ft,wt,Bt){super(se),this._iconRegistry=Se,this._location=wt,this._errorHandler=Bt,this._inline=!1,this._currentIconFetch=de.w0.EMPTY,ft||se.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(se){this._inline=(0,W.Ig)(se)}get svgIcon(){return this._svgIcon}set svgIcon(se){se!==this._svgIcon&&(se?this._updateSvgIcon(se):this._svgIcon&&this._clearSvgElement(),this._svgIcon=se)}get fontSet(){return this._fontSet}set fontSet(se){const Se=this._cleanupFontValue(se);Se!==this._fontSet&&(this._fontSet=Se,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(se){const Se=this._cleanupFontValue(se);Se!==this._fontIcon&&(this._fontIcon=Se,this._updateFontIconClasses())}_splitIconName(se){if(!se)return["",""];const Se=se.split(":");switch(Se.length){case 1:return["",Se[0]];case 2:return Se;default:throw Error(`Invalid icon name: "${se}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const se=this._elementsWithExternalReferences;if(se&&se.size){const Se=this._location.getPathname();Se!==this._previousPath&&(this._previousPath=Se,this._prependPathToReferences(Se))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(se){this._clearSvgElement();const Se=se.querySelectorAll("style");for(let wt=0;wt<Se.length;wt++)Se[wt].textContent+=" ";const ft=this._location.getPathname();this._previousPath=ft,this._cacheChildrenWithExternalReferences(se),this._prependPathToReferences(ft),this._elementRef.nativeElement.appendChild(se)}_clearSvgElement(){const se=this._elementRef.nativeElement;let Se=se.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Se--;){const ft=se.childNodes[Se];(1!==ft.nodeType||"svg"===ft.nodeName.toLowerCase())&&ft.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const se=this._elementRef.nativeElement,Se=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();Se!=this._previousFontSetClass&&(this._previousFontSetClass&&se.classList.remove(this._previousFontSetClass),Se&&se.classList.add(Se),this._previousFontSetClass=Se),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&se.classList.remove(this._previousFontIconClass),this.fontIcon&&se.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(se){return"string"==typeof se?se.trim().split(" ")[0]:se}_prependPathToReferences(se){const Se=this._elementsWithExternalReferences;Se&&Se.forEach((ft,wt)=>{ft.forEach(Bt=>{wt.setAttribute(Bt.name,`url('${se}#${Bt.value}')`)})})}_cacheChildrenWithExternalReferences(se){const Se=se.querySelectorAll(oe),ft=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let wt=0;wt<Se.length;wt++)ae.forEach(Bt=>{const yn=Se[wt],Lt=yn.getAttribute(Bt),Dt=Lt?Lt.match(Le):null;if(Dt){let pn=ft.get(yn);pn||(pn=[],ft.set(yn,pn)),pn.push({name:Bt,value:Dt[1]})}})}_updateSvgIcon(se){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),se){const[Se,ft]=this._splitIconName(se);Se&&(this._svgNamespace=Se),ft&&(this._svgName=ft),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ft,Se).pipe((0,Ze.q)(1)).subscribe(wt=>this._setSvgElement(wt),wt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Se}:${ft}! ${wt.message}`))})}}}return Xe.\u0275fac=function(se){return new(se||Xe)(c.Y36(c.SBq),c.Y36(pt),c.$8M("aria-hidden"),c.Y36(qe),c.Y36(c.qLn))},Xe.\u0275cmp=c.Xpm({type:Xe,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(se,Se){2&se&&(c.uIk("data-mat-icon-type",Se._usingFontIcon()?"font":"svg")("data-mat-icon-name",Se._svgName||Se.fontIcon)("data-mat-icon-namespace",Se._svgNamespace||Se.fontSet),c.ekj("mat-icon-inline",Se.inline)("mat-icon-no-color","primary"!==Se.color&&"accent"!==Se.color&&"warn"!==Se.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Un,decls:1,vars:0,template:function(se,Se){1&se&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Xe})(),Ut=(()=>{class Xe{}return Xe.\u0275fac=function(se){return new(se||Xe)},Xe.\u0275mod=c.oAB({type:Xe}),Xe.\u0275inj=c.cJS({imports:[[D.BQ],D.BQ]}),Xe})()},7531:(xt,Ye,A)=>{A.d(Ye,{Nt:()=>De,c:()=>tt});var c=A(3191),D=A(925),W=A(5e3),j=A(3075),Re=A(508),Te=A(4106),Ve=A(7579),me=A(515);const Ae=(0,D.i$)({passive:!0});let de=(()=>{class ke{constructor(he,ze){this._platform=he,this._ngZone=ze,this._monitoredElements=new Map}monitor(he){if(!this._platform.isBrowser)return me.E;const ze=(0,c.fI)(he),we=this._monitoredElements.get(ze);if(we)return we.subject;const Fe=new Ve.x,Me="cdk-text-field-autofilled",He=We=>{"cdk-text-field-autofill-start"!==We.animationName||ze.classList.contains(Me)?"cdk-text-field-autofill-end"===We.animationName&&ze.classList.contains(Me)&&(ze.classList.remove(Me),this._ngZone.run(()=>Fe.next({target:We.target,isAutofilled:!1}))):(ze.classList.add(Me),this._ngZone.run(()=>Fe.next({target:We.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ze.addEventListener("animationstart",He,Ae),ze.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ze,{subject:Fe,unlisten:()=>{ze.removeEventListener("animationstart",He,Ae)}}),Fe}stopMonitoring(he){const ze=(0,c.fI)(he),we=this._monitoredElements.get(ze);we&&(we.unlisten(),we.subject.complete(),ze.classList.remove("cdk-text-field-autofill-monitored"),ze.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ze))}ngOnDestroy(){this._monitoredElements.forEach((he,ze)=>this.stopMonitoring(ze))}}return ke.\u0275fac=function(he){return new(he||ke)(W.LFG(D.t4),W.LFG(W.R0b))},ke.\u0275prov=W.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),ot=(()=>{class ke{}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275mod=W.oAB({type:ke}),ke.\u0275inj=W.cJS({imports:[[D.ud]]}),ke})();const Ge=new W.OlP("MAT_INPUT_VALUE_ACCESSOR"),Ze=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xe=0;const ut=(0,Re.FD)(class{constructor(ke,ye,he,ze){this._defaultErrorStateMatcher=ke,this._parentForm=ye,this._parentFormGroup=he,this.ngControl=ze}});let De=(()=>{class ke extends ut{constructor(he,ze,we,Fe,Me,He,We,at,Be,$e){super(He,Fe,Me,we),this._elementRef=he,this._platform=ze,this._autofillMonitor=at,this._formField=$e,this._uid="mat-input-"+xe++,this.focused=!1,this.stateChanges=new Ve.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Zt=>(0,D.qK)().has(Zt));const Et=this._elementRef.nativeElement,Nt=Et.nodeName.toLowerCase();this._inputValueAccessor=We||Et,this._previousNativeValue=this.value,this.id=this.id,ze.IOS&&Be.runOutsideAngular(()=>{he.nativeElement.addEventListener("keyup",Zt=>{const dt=Zt.target;!dt.value&&0===dt.selectionStart&&0===dt.selectionEnd&&(dt.setSelectionRange(1,1),dt.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Nt,this._isTextarea="textarea"===Nt,this._isInFormField=!!$e,this._isNativeSelect&&(this.controlType=Et.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(he){this._disabled=(0,c.Ig)(he),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(he){this._id=he||this._uid}get required(){var he,ze,we,Fe;return null!==(Fe=null!==(he=this._required)&&void 0!==he?he:null===(we=null===(ze=this.ngControl)||void 0===ze?void 0:ze.control)||void 0===we?void 0:we.hasValidator(j.kI.required))&&void 0!==Fe&&Fe}set required(he){this._required=(0,c.Ig)(he)}get type(){return this._type}set type(he){this._type=he||"text",this._validateType(),!this._isTextarea&&(0,D.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(he){he!==this.value&&(this._inputValueAccessor.value=he,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(he){this._readonly=(0,c.Ig)(he)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(he=>{this.autofilled=he.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(he){this._elementRef.nativeElement.focus(he)}_focusChanged(he){he!==this.focused&&(this.focused=he,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var he,ze;const we=(null===(ze=null===(he=this._formField)||void 0===he?void 0:he._hideControlPlaceholder)||void 0===ze?void 0:ze.call(he))?null:this.placeholder;if(we!==this._previousPlaceholder){const Fe=this._elementRef.nativeElement;this._previousPlaceholder=we,we?Fe.setAttribute("placeholder",we):Fe.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const he=this._elementRef.nativeElement.value;this._previousNativeValue!==he&&(this._previousNativeValue=he,this.stateChanges.next())}_validateType(){Ze.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let he=this._elementRef.nativeElement.validity;return he&&he.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const he=this._elementRef.nativeElement,ze=he.options[0];return this.focused||he.multiple||!this.empty||!!(he.selectedIndex>-1&&ze&&ze.label)}return this.focused||!this.empty}setDescribedByIds(he){he.length?this._elementRef.nativeElement.setAttribute("aria-describedby",he.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const he=this._elementRef.nativeElement;return this._isNativeSelect&&(he.multiple||he.size>1)}}return ke.\u0275fac=function(he){return new(he||ke)(W.Y36(W.SBq),W.Y36(D.t4),W.Y36(j.a5,10),W.Y36(j.F,8),W.Y36(j.sg,8),W.Y36(Re.rD),W.Y36(Ge,10),W.Y36(de),W.Y36(W.R0b),W.Y36(Te.G_,8))},ke.\u0275dir=W.lG2({type:ke,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(he,ze){1&he&&W.NdJ("focus",function(){return ze._focusChanged(!0)})("blur",function(){return ze._focusChanged(!1)})("input",function(){return ze._onInput()}),2&he&&(W.Ikx("disabled",ze.disabled)("required",ze.required),W.uIk("id",ze.id)("data-placeholder",ze.placeholder)("name",ze.name||null)("readonly",ze.readonly&&!ze._isNativeSelect||null)("aria-invalid",ze.empty&&ze.required?null:ze.errorState)("aria-required",ze.required),W.ekj("mat-input-server",ze._isServer)("mat-native-select-inline",ze._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[W._Bn([{provide:Te.Eo,useExisting:ke}]),W.qOj,W.TTD]}),ke})(),tt=(()=>{class ke{}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275mod=W.oAB({type:ke}),ke.\u0275inj=W.cJS({providers:[Re.rD],imports:[[ot,Te.lN,Re.BQ],ot,Te.lN]}),ke})()},5899:(xt,Ye,A)=>{A.d(Ye,{pW:()=>Ge,Cv:()=>xe});var c=A(5e3),D=A(9808),W=A(508),j=A(3191),Re=A(6360),Te=A(727),Ve=A(4968),me=A(9300);const Ae=["primaryValueBar"],de=(0,W.pj)(class{constructor(ut){this._elementRef=ut}},"primary"),ie=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function be(){const ut=(0,c.f3M)(D.K0),De=ut?ut.location:null;return{getPathname:()=>De?De.pathname+De.search:""}}}),ot=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Ne=0,Ge=(()=>{class ut extends de{constructor(tt,ke,ye,he,ze,we){super(tt),this._ngZone=ke,this._animationMode=ye,this._changeDetectorRef=we,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=Te.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Ne++;const Fe=he?he.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${Fe}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===ye,ze&&(ze.color&&(this.color=this.defaultColor=ze.color),this.mode=ze.mode||this.mode)}get value(){return this._value}set value(tt){var ke;this._value=Ze((0,j.su)(tt)||0),null===(ke=this._changeDetectorRef)||void 0===ke||ke.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(tt){var ke;this._bufferValue=Ze(tt||0),null===(ke=this._changeDetectorRef)||void 0===ke||ke.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const tt=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Ve.R)(tt,"transitionend").pipe((0,me.h)(ke=>ke.target===tt)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return ut.\u0275fac=function(tt){return new(tt||ut)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Re.Qb,8),c.Y36(ie,8),c.Y36(ot,8),c.Y36(c.sBO))},ut.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-progress-bar"]],viewQuery:function(tt,ke){if(1&tt&&c.Gf(Ae,5),2&tt){let ye;c.iGM(ye=c.CRH())&&(ke._primaryValueBar=ye.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(tt,ke){2&tt&&(c.uIk("aria-valuenow","indeterminate"===ke.mode||"query"===ke.mode?null:ke.value)("mode",ke.mode),c.ekj("_mat-animation-noopable",ke._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(tt,ke){1&tt&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1),c.TgZ(2,"defs"),c.TgZ(3,"pattern",2),c._UZ(4,"circle",3),c.qZA(),c.qZA(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5),c._UZ(7,"div",6,7),c._UZ(9,"div",8),c.qZA()),2&tt&&(c.xp6(3),c.Q6J("id",ke.progressbarId),c.xp6(2),c.uIk("fill",ke._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",ke._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",ke._primaryTransform()))},directives:[D.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),ut})();function Ze(ut,De=0,tt=100){return Math.max(De,Math.min(tt,ut))}let xe=(()=>{class ut{}return ut.\u0275fac=function(tt){return new(tt||ut)},ut.\u0275mod=c.oAB({type:ut}),ut.\u0275inj=c.cJS({imports:[[D.ez,W.BQ],W.BQ]}),ut})()},4594:(xt,Ye,A)=>{A.d(Ye,{Ye:()=>Ae,g0:()=>ie,rD:()=>me});var c=A(5e3),D=A(508),W=A(9808),j=A(925);const Re=["*",[["mat-toolbar-row"]]],Te=["*","mat-toolbar-row"],Ve=(0,D.pj)(class{constructor(be){this._elementRef=be}});let me=(()=>{class be{}return be.\u0275fac=function(Ne){return new(Ne||be)},be.\u0275dir=c.lG2({type:be,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),be})(),Ae=(()=>{class be extends Ve{constructor(Ne,Ge,Ze){super(Ne),this._platform=Ge,this._document=Ze}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return be.\u0275fac=function(Ne){return new(Ne||be)(c.Y36(c.SBq),c.Y36(j.t4),c.Y36(W.K0))},be.\u0275cmp=c.Xpm({type:be,selectors:[["mat-toolbar"]],contentQueries:function(Ne,Ge,Ze){if(1&Ne&&c.Suo(Ze,me,5),2&Ne){let xe;c.iGM(xe=c.CRH())&&(Ge._toolbarRows=xe)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ne,Ge){2&Ne&&c.ekj("mat-toolbar-multiple-rows",Ge._toolbarRows.length>0)("mat-toolbar-single-row",0===Ge._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Te,decls:2,vars:0,template:function(Ne,Ge){1&Ne&&(c.F$t(Re),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),be})(),ie=(()=>{class be{}return be.\u0275fac=function(Ne){return new(Ne||be)},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({imports:[[D.BQ],D.BQ]}),be})()},6360:(xt,Ye,A)=>{A.d(Ye,{Qb:()=>Yr,PW:()=>Hi});var c=A(5e3),D=A(2313),W=A(1777);function j(){return"undefined"!=typeof window&&void 0!==window.document}function Re(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Te(ne){switch(ne.length){case 0:return new W.ZN;case 1:return ne[0];default:return new W.ZE(ne)}}function Ve(ne,y,_,L,Z={},re={}){const E=[],F=[];let I=-1,$=null;if(L.forEach(pe=>{const Je=pe.offset,ht=Je==I,Ot=ht&&$||{};Object.keys(pe).forEach($t=>{let Yt=$t,sn=pe[$t];if("offset"!==$t)switch(Yt=y.normalizePropertyName(Yt,E),sn){case W.k1:sn=Z[$t];break;case W.l3:sn=re[$t];break;default:sn=y.normalizeStyleValue($t,Yt,sn,E)}Ot[Yt]=sn}),ht||F.push(Ot),$=Ot,I=Je}),E.length){const pe="\n - ";throw new Error(`Unable to animate due to the following errors:${pe}${E.join(pe)}`)}return F}function me(ne,y,_,L){switch(y){case"start":ne.onStart(()=>L(_&&Ae(_,"start",ne)));break;case"done":ne.onDone(()=>L(_&&Ae(_,"done",ne)));break;case"destroy":ne.onDestroy(()=>L(_&&Ae(_,"destroy",ne)))}}function Ae(ne,y,_){const L=_.totalTime,re=de(ne.element,ne.triggerName,ne.fromState,ne.toState,y||ne.phaseName,null==L?ne.totalTime:L,!!_.disabled),E=ne._data;return null!=E&&(re._data=E),re}function de(ne,y,_,L,Z="",re=0,E){return{element:ne,triggerName:y,fromState:_,toState:L,phaseName:Z,totalTime:re,disabled:!!E}}function ie(ne,y,_){let L;return ne instanceof Map?(L=ne.get(y),L||ne.set(y,L=_)):(L=ne[y],L||(L=ne[y]=_)),L}function be(ne){const y=ne.indexOf(":");return[ne.substring(1,y),ne.substr(y+1)]}let ot=(ne,y)=>!1,Ne=(ne,y,_)=>[];(Re()||"undefined"!=typeof Element)&&(ot=j()?(ne,y)=>{for(;y&&y!==document.documentElement;){if(y===ne)return!0;y=y.parentNode||y.host}return!1}:(ne,y)=>ne.contains(y),Ne=(ne,y,_)=>{if(_)return Array.from(ne.querySelectorAll(y));const L=ne.querySelector(y);return L?[L]:[]});let xe=null,ut=!1;function De(ne){xe||(xe=function tt(){return"undefined"!=typeof document?document.body:null}()||{},ut=!!xe.style&&"WebkitAppearance"in xe.style);let y=!0;return xe.style&&!function Ze(ne){return"ebkit"==ne.substring(1,6)}(ne)&&(y=ne in xe.style,!y&&ut&&(y="Webkit"+ne.charAt(0).toUpperCase()+ne.substr(1)in xe.style)),y}const ke=ot,ye=Ne;let ze=(()=>{class ne{validateStyleProperty(_){return De(_)}matchesElement(_,L){return!1}containsElement(_,L){return ke(_,L)}query(_,L,Z){return ye(_,L,Z)}computeStyle(_,L,Z){return Z||""}animate(_,L,Z,re,E,F=[],I){return new W.ZN(Z,re)}}return ne.\u0275fac=function(_){return new(_||ne)},ne.\u0275prov=c.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),we=(()=>{class ne{}return ne.NOOP=new ze,ne})();const We="ng-enter",at="ng-leave",Be="ng-trigger",$e=".ng-trigger",Et="ng-animating",Nt=".ng-animating";function Zt(ne){if("number"==typeof ne)return ne;const y=ne.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:dt(parseFloat(y[1]),y[2])}function dt(ne,y){return"s"===y?1e3*ne:ne}function rt(ne,y,_){return ne.hasOwnProperty("duration")?ne:function Ct(ne,y,_){let Z,re=0,E="";if("string"==typeof ne){const F=ne.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===F)return y.push(`The provided timing value "${ne}" is invalid.`),{duration:0,delay:0,easing:""};Z=dt(parseFloat(F[1]),F[2]);const I=F[3];null!=I&&(re=dt(parseFloat(I),F[4]));const $=F[5];$&&(E=$)}else Z=ne;if(!_){let F=!1,I=y.length;Z<0&&(y.push("Duration values below 0 are not allowed for this animation step."),F=!0),re<0&&(y.push("Delay values below 0 are not allowed for this animation step."),F=!0),F&&y.splice(I,0,`The provided timing value "${ne}" is invalid.`)}return{duration:Z,delay:re,easing:E}}(ne,y,_)}function _t(ne,y={}){return Object.keys(ne).forEach(_=>{y[_]=ne[_]}),y}function Wt(ne,y,_={}){if(y)for(let L in ne)_[L]=ne[L];else _t(ne,_);return _}function tn(ne,y,_){return _?y+":"+_+";":""}function on(ne){let y="";for(let _=0;_<ne.style.length;_++){const L=ne.style.item(_);y+=tn(0,L,ne.style.getPropertyValue(L))}for(const _ in ne.style)ne.style.hasOwnProperty(_)&&!_.startsWith("_")&&(y+=tn(0,zn(_),ne.style[_]));ne.setAttribute("style",y)}function an(ne,y,_){ne.style&&(Object.keys(y).forEach(L=>{const Z=Ht(L);_&&!_.hasOwnProperty(L)&&(_[L]=ne.style[Z]),ne.style[Z]=y[L]}),Re()&&on(ne))}function Zn(ne,y){ne.style&&(Object.keys(y).forEach(_=>{const L=Ht(_);ne.style[L]=""}),Re()&&on(ne))}function Bn(ne){return Array.isArray(ne)?1==ne.length?ne[0]:(0,W.vP)(ne):ne}const On=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tn(ne){let y=[];if("string"==typeof ne){let _;for(;_=On.exec(ne);)y.push(_[1]);On.lastIndex=0}return y}function An(ne,y,_){const L=ne.toString(),Z=L.replace(On,(re,E)=>{let F=y[E];return y.hasOwnProperty(E)||(_.push(`Please provide a value for the animation param ${E}`),F=""),F.toString()});return Z==L?ne:Z}function _n(ne){const y=[];let _=ne.next();for(;!_.done;)y.push(_.value),_=ne.next();return y}const wn=/-+([a-z0-9])/g;function Ht(ne){return ne.replace(wn,(...y)=>y[1].toUpperCase())}function zn(ne){return ne.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fn(ne,y,_){switch(y.type){case 7:return ne.visitTrigger(y,_);case 0:return ne.visitState(y,_);case 1:return ne.visitTransition(y,_);case 2:return ne.visitSequence(y,_);case 3:return ne.visitGroup(y,_);case 4:return ne.visitAnimate(y,_);case 5:return ne.visitKeyframes(y,_);case 6:return ne.visitStyle(y,_);case 8:return ne.visitReference(y,_);case 9:return ne.visitAnimateChild(y,_);case 10:return ne.visitAnimateRef(y,_);case 11:return ne.visitQuery(y,_);case 12:return ne.visitStagger(y,_);default:throw new Error(`Unable to resolve animation metadata node #${y.type}`)}}function Xt(ne,y){return window.getComputedStyle(ne)[y]}function Dn(ne,y){const _=[];return"string"==typeof ne?ne.split(/\s*,\s*/).forEach(L=>function qt(ne,y,_){if(":"==ne[0]){const I=function vt(ne,y){switch(ne){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,L)=>parseFloat(L)>parseFloat(_);case":decrement":return(_,L)=>parseFloat(L)<parseFloat(_);default:return y.push(`The transition alias value "${ne}" is not supported`),"* => *"}}(ne,_);if("function"==typeof I)return void y.push(I);ne=I}const L=ne.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return _.push(`The provided transition expression "${ne}" is not supported`),y;const Z=L[1],re=L[2],E=L[3];y.push(it(Z,E));"<"==re[0]&&!("*"==Z&&"*"==E)&&y.push(it(E,Z))}(L,_,y)):_.push(ne),_}const At=new Set(["true","1"]),je=new Set(["false","0"]);function it(ne,y){const _=At.has(ne)||je.has(ne),L=At.has(y)||je.has(y);return(Z,re)=>{let E="*"==ne||ne==Z,F="*"==y||y==re;return!E&&_&&"boolean"==typeof Z&&(E=Z?At.has(ne):je.has(ne)),!F&&L&&"boolean"==typeof re&&(F=re?At.has(y):je.has(y)),E&&F}}const fn=new RegExp("s*:selfs*,?","g");function vn(ne,y,_){return new Un(ne).build(y,_)}class Un{constructor(y){this._driver=y}build(y,_){const L=new le(_);return this._resetContextStyleTimingState(L),Fn(this,Bn(y),L)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,_){let L=_.queryCount=0,Z=_.depCount=0;const re=[],E=[];return"@"==y.name.charAt(0)&&_.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),y.definitions.forEach(F=>{if(this._resetContextStyleTimingState(_),0==F.type){const I=F,$=I.name;$.toString().split(/\s*,\s*/).forEach(pe=>{I.name=pe,re.push(this.visitState(I,_))}),I.name=$}else if(1==F.type){const I=this.visitTransition(F,_);L+=I.queryCount,Z+=I.depCount,E.push(I)}else _.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:y.name,states:re,transitions:E,queryCount:L,depCount:Z,options:null}}visitState(y,_){const L=this.visitStyle(y.styles,_),Z=y.options&&y.options.params||null;if(L.containsDynamicStyles){const re=new Set,E=Z||{};if(L.styles.forEach(F=>{if(x(F)){const I=F;Object.keys(I).forEach($=>{Tn(I[$]).forEach(pe=>{E.hasOwnProperty(pe)||re.add(pe)})})}}),re.size){const F=_n(re.values());_.errors.push(`state("${y.name}", ...) must define default values for all the following style substitutions: ${F.join(", ")}`)}}return{type:0,name:y.name,style:L,options:Z?{params:Z}:null}}visitTransition(y,_){_.queryCount=0,_.depCount=0;const L=Fn(this,Bn(y.animation),_);return{type:1,matchers:Dn(y.expr,_.errors),animation:L,queryCount:_.queryCount,depCount:_.depCount,options:ee(y.options)}}visitSequence(y,_){return{type:2,steps:y.steps.map(L=>Fn(this,L,_)),options:ee(y.options)}}visitGroup(y,_){const L=_.currentTime;let Z=0;const re=y.steps.map(E=>{_.currentTime=L;const F=Fn(this,E,_);return Z=Math.max(Z,_.currentTime),F});return _.currentTime=Z,{type:3,steps:re,options:ee(y.options)}}visitAnimate(y,_){const L=function M(ne,y){let _=null;if(ne.hasOwnProperty("duration"))_=ne;else if("number"==typeof ne)return Ie(rt(ne,y).duration,0,"");const L=ne;if(L.split(/\s+/).some(re=>"{"==re.charAt(0)&&"{"==re.charAt(1))){const re=Ie(0,0,"");return re.dynamic=!0,re.strValue=L,re}return _=_||rt(L,y),Ie(_.duration,_.delay,_.easing)}(y.timings,_.errors);_.currentAnimateTimings=L;let Z,re=y.styles?y.styles:(0,W.oB)({});if(5==re.type)Z=this.visitKeyframes(re,_);else{let E=y.styles,F=!1;if(!E){F=!0;const $={};L.easing&&($.easing=L.easing),E=(0,W.oB)($)}_.currentTime+=L.duration+L.delay;const I=this.visitStyle(E,_);I.isEmptyStep=F,Z=I}return _.currentAnimateTimings=null,{type:4,timings:L,style:Z,options:null}}visitStyle(y,_){const L=this._makeStyleAst(y,_);return this._validateStyleAst(L,_),L}_makeStyleAst(y,_){const L=[];Array.isArray(y.styles)?y.styles.forEach(E=>{"string"==typeof E?E==W.l3?L.push(E):_.errors.push(`The provided style string value ${E} is not allowed.`):L.push(E)}):L.push(y.styles);let Z=!1,re=null;return L.forEach(E=>{if(x(E)){const F=E,I=F.easing;if(I&&(re=I,delete F.easing),!Z)for(let $ in F)if(F[$].toString().indexOf("{{")>=0){Z=!0;break}}}),{type:6,styles:L,easing:re,offset:y.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(y,_){const L=_.currentAnimateTimings;let Z=_.currentTime,re=_.currentTime;L&&re>0&&(re-=L.duration+L.delay),y.styles.forEach(E=>{"string"!=typeof E&&Object.keys(E).forEach(F=>{if(!this._driver.validateStyleProperty(F))return void _.errors.push(`The provided animation property "${F}" is not a supported CSS property for animations`);const I=_.collectedStyles[_.currentQuerySelector],$=I[F];let pe=!0;$&&(re!=Z&&re>=$.startTime&&Z<=$.endTime&&(_.errors.push(`The CSS property "${F}" that exists between the times of "${$.startTime}ms" and "${$.endTime}ms" is also being animated in a parallel animation between the times of "${re}ms" and "${Z}ms"`),pe=!1),re=$.startTime),pe&&(I[F]={startTime:re,endTime:Z}),_.options&&function Pn(ne,y,_){const L=y.params||{},Z=Tn(ne);Z.length&&Z.forEach(re=>{L.hasOwnProperty(re)||_.push(`Unable to resolve the local animation param ${re} in the given list of values`)})}(E[F],_.options,_.errors)})})}visitKeyframes(y,_){const L={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push("keyframes() must be placed inside of a call to animate()"),L;let re=0;const E=[];let F=!1,I=!1,$=0;const pe=y.steps.map(mn=>{const Vn=this._makeStyleAst(mn,_);let V=null!=Vn.offset?Vn.offset:function O(ne){if("string"==typeof ne)return null;let y=null;if(Array.isArray(ne))ne.forEach(_=>{if(x(_)&&_.hasOwnProperty("offset")){const L=_;y=parseFloat(L.offset),delete L.offset}});else if(x(ne)&&ne.hasOwnProperty("offset")){const _=ne;y=parseFloat(_.offset),delete _.offset}return y}(Vn.styles),k=0;return null!=V&&(re++,k=Vn.offset=V),I=I||k<0||k>1,F=F||k<$,$=k,E.push(k),Vn});I&&_.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),F&&_.errors.push("Please ensure that all keyframe offsets are in order");const Je=y.steps.length;let ht=0;re>0&&re<Je?_.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==re&&(ht=1/(Je-1));const Ot=Je-1,$t=_.currentTime,Yt=_.currentAnimateTimings,sn=Yt.duration;return pe.forEach((mn,Vn)=>{const V=ht>0?Vn==Ot?1:ht*Vn:E[Vn],k=V*sn;_.currentTime=$t+Yt.delay+k,Yt.duration=k,this._validateStyleAst(mn,_),mn.offset=V,L.styles.push(mn)}),L}visitReference(y,_){return{type:8,animation:Fn(this,Bn(y.animation),_),options:ee(y.options)}}visitAnimateChild(y,_){return _.depCount++,{type:9,options:ee(y.options)}}visitAnimateRef(y,_){return{type:10,animation:this.visitReference(y.animation,_),options:ee(y.options)}}visitQuery(y,_){const L=_.currentQuerySelector,Z=y.options||{};_.queryCount++,_.currentQuery=y;const[re,E]=function In(ne){const y=!!ne.split(/\s*,\s*/).find(_=>":self"==_);return y&&(ne=ne.replace(fn,"")),ne=ne.replace(/@\*/g,$e).replace(/@\w+/g,_=>$e+"-"+_.substr(1)).replace(/:animating/g,Nt),[ne,y]}(y.selector);_.currentQuerySelector=L.length?L+" "+re:re,ie(_.collectedStyles,_.currentQuerySelector,{});const F=Fn(this,Bn(y.animation),_);return _.currentQuery=null,_.currentQuerySelector=L,{type:11,selector:re,limit:Z.limit||0,optional:!!Z.optional,includeSelf:E,animation:F,originalSelector:y.selector,options:ee(y.options)}}visitStagger(y,_){_.currentQuery||_.errors.push("stagger() can only be used inside of query()");const L="full"===y.timings?{duration:0,delay:0,easing:"full"}:rt(y.timings,_.errors,!0);return{type:12,animation:Fn(this,Bn(y.animation),_),timings:L,options:null}}}class le{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function x(ne){return!Array.isArray(ne)&&"object"==typeof ne}function ee(ne){return ne?(ne=_t(ne)).params&&(ne.params=function Ce(ne){return ne?_t(ne):null}(ne.params)):ne={},ne}function Ie(ne,y,_){return{duration:ne,delay:y,easing:_}}function pt(ne,y,_,L,Z,re,E=null,F=!1){return{type:1,element:ne,keyframes:y,preStyleProps:_,postStyleProps:L,duration:Z,delay:re,totalTime:Z+re,easing:E,subTimeline:F}}class Tt{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,_){let L=this._map.get(y);L||this._map.set(y,L=[]),L.push(..._)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const jt=new RegExp(":enter","g"),lt=new RegExp(":leave","g");function qe(ne,y,_,L,Z,re={},E={},F,I,$=[]){return(new K).buildKeyframes(ne,y,_,L,Z,re,E,F,I,$)}class K{buildKeyframes(y,_,L,Z,re,E,F,I,$,pe=[]){$=$||new Tt;const Je=new oe(y,_,$,Z,re,pe,[]);Je.options=I,Je.currentTimeline.setStyles([E],null,Je.errors,I),Fn(this,L,Je);const ht=Je.timelines.filter(Ot=>Ot.containsAnimation());if(Object.keys(F).length){let Ot;for(let $t=ht.length-1;$t>=0;$t--){const Yt=ht[$t];if(Yt.element===_){Ot=Yt;break}}Ot&&!Ot.allowOnlyTimelineStyles()&&Ot.setStyles([F],null,Je.errors,I)}return ht.length?ht.map(Ot=>Ot.buildKeyframes()):[pt(_,[],[],[],0,0,"",!1)]}visitTrigger(y,_){}visitState(y,_){}visitTransition(y,_){}visitAnimateChild(y,_){const L=_.subInstructions.get(_.element);if(L){const Z=_.createSubContext(y.options),re=_.currentTimeline.currentTime,E=this._visitSubInstructions(L,Z,Z.options);re!=E&&_.transformIntoNewTimeline(E)}_.previousNode=y}visitAnimateRef(y,_){const L=_.createSubContext(y.options);L.transformIntoNewTimeline(),this.visitReference(y.animation,L),_.transformIntoNewTimeline(L.currentTimeline.currentTime),_.previousNode=y}_visitSubInstructions(y,_,L){let re=_.currentTimeline.currentTime;const E=null!=L.duration?Zt(L.duration):null,F=null!=L.delay?Zt(L.delay):null;return 0!==E&&y.forEach(I=>{const $=_.appendInstructionToTimeline(I,E,F);re=Math.max(re,$.duration+$.delay)}),re}visitReference(y,_){_.updateOptions(y.options,!0),Fn(this,y.animation,_),_.previousNode=y}visitSequence(y,_){const L=_.subContextCount;let Z=_;const re=y.options;if(re&&(re.params||re.delay)&&(Z=_.createSubContext(re),Z.transformIntoNewTimeline(),null!=re.delay)){6==Z.previousNode.type&&(Z.currentTimeline.snapshotCurrentStyles(),Z.previousNode=ae);const E=Zt(re.delay);Z.delayNextStep(E)}y.steps.length&&(y.steps.forEach(E=>Fn(this,E,Z)),Z.currentTimeline.applyStylesToKeyframe(),Z.subContextCount>L&&Z.transformIntoNewTimeline()),_.previousNode=y}visitGroup(y,_){const L=[];let Z=_.currentTimeline.currentTime;const re=y.options&&y.options.delay?Zt(y.options.delay):0;y.steps.forEach(E=>{const F=_.createSubContext(y.options);re&&F.delayNextStep(re),Fn(this,E,F),Z=Math.max(Z,F.currentTimeline.currentTime),L.push(F.currentTimeline)}),L.forEach(E=>_.currentTimeline.mergeTimelineCollectedStyles(E)),_.transformIntoNewTimeline(Z),_.previousNode=y}_visitTiming(y,_){if(y.dynamic){const L=y.strValue;return rt(_.params?An(L,_.params,_.errors):L,_.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,_){const L=_.currentAnimateTimings=this._visitTiming(y.timings,_),Z=_.currentTimeline;L.delay&&(_.incrementTime(L.delay),Z.snapshotCurrentStyles());const re=y.style;5==re.type?this.visitKeyframes(re,_):(_.incrementTime(L.duration),this.visitStyle(re,_),Z.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=y}visitStyle(y,_){const L=_.currentTimeline,Z=_.currentAnimateTimings;!Z&&L.getCurrentStyleProperties().length&&L.forwardFrame();const re=Z&&Z.easing||y.easing;y.isEmptyStep?L.applyEmptyStep(re):L.setStyles(y.styles,re,_.errors,_.options),_.previousNode=y}visitKeyframes(y,_){const L=_.currentAnimateTimings,Z=_.currentTimeline.duration,re=L.duration,F=_.createSubContext().currentTimeline;F.easing=L.easing,y.styles.forEach(I=>{F.forwardTime((I.offset||0)*re),F.setStyles(I.styles,I.easing,_.errors,_.options),F.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(F),_.transformIntoNewTimeline(Z+re),_.previousNode=y}visitQuery(y,_){const L=_.currentTimeline.currentTime,Z=y.options||{},re=Z.delay?Zt(Z.delay):0;re&&(6===_.previousNode.type||0==L&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=ae);let E=L;const F=_.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Z.optional,_.errors);_.currentQueryTotal=F.length;let I=null;F.forEach(($,pe)=>{_.currentQueryIndex=pe;const Je=_.createSubContext(y.options,$);re&&Je.delayNextStep(re),$===_.element&&(I=Je.currentTimeline),Fn(this,y.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),E=Math.max(E,Je.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(E),I&&(_.currentTimeline.mergeTimelineCollectedStyles(I),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=y}visitStagger(y,_){const L=_.parentContext,Z=_.currentTimeline,re=y.timings,E=Math.abs(re.duration),F=E*(_.currentQueryTotal-1);let I=E*_.currentQueryIndex;switch(re.duration<0?"reverse":re.easing){case"reverse":I=F-I;break;case"full":I=L.currentStaggerTime}const pe=_.currentTimeline;I&&pe.delayNextStep(I);const Je=pe.currentTime;Fn(this,y.animation,_),_.previousNode=y,L.currentStaggerTime=Z.currentTime-Je+(Z.startTime-L.currentTimeline.startTime)}}const ae={};class oe{constructor(y,_,L,Z,re,E,F,I){this._driver=y,this.element=_,this.subInstructions=L,this._enterClassName=Z,this._leaveClassName=re,this.errors=E,this.timelines=F,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ae,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new Le(this._driver,_,0),F.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,_){if(!y)return;const L=y;let Z=this.options;null!=L.duration&&(Z.duration=Zt(L.duration)),null!=L.delay&&(Z.delay=Zt(L.delay));const re=L.params;if(re){let E=Z.params;E||(E=this.options.params={}),Object.keys(re).forEach(F=>{(!_||!E.hasOwnProperty(F))&&(E[F]=An(re[F],E,this.errors))})}}_copyOptions(){const y={};if(this.options){const _=this.options.params;if(_){const L=y.params={};Object.keys(_).forEach(Z=>{L[Z]=_[Z]})}}return y}createSubContext(y=null,_,L){const Z=_||this.element,re=new oe(this._driver,Z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Z,L||0));return re.previousNode=this.previousNode,re.currentAnimateTimings=this.currentAnimateTimings,re.options=this._copyOptions(),re.updateOptions(y),re.currentQueryIndex=this.currentQueryIndex,re.currentQueryTotal=this.currentQueryTotal,re.parentContext=this,this.subContextCount++,re}transformIntoNewTimeline(y){return this.previousNode=ae,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,_,L){const Z={duration:null!=_?_:y.duration,delay:this.currentTimeline.currentTime+(null!=L?L:0)+y.delay,easing:""},re=new mt(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Z,y.stretchStartingKeyframe);return this.timelines.push(re),Z}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,_,L,Z,re,E){let F=[];if(Z&&F.push(this.element),y.length>0){y=(y=y.replace(jt,"."+this._enterClassName)).replace(lt,"."+this._leaveClassName);let $=this._driver.query(this.element,y,1!=L);0!==L&&($=L<0?$.slice($.length+L,$.length):$.slice(0,L)),F.push(...$)}return!re&&0==F.length&&E.push(`\`query("${_}")\` returned zero elements. (Use \`query("${_}", { optional: true })\` if you wish to allow this.)`),F}}class Le{constructor(y,_,L,Z){this._driver=y,this.element=_,this.startTime=L,this._elementTimelineStylesLookup=Z,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+y),_&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,_){return this.applyStylesToKeyframe(),new Le(this._driver,y,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,_){this._localTimelineStyles[y]=_,this._globalTimelineStyles[y]=_,this._styleSummary[y]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||W.l3,this._currentKeyframe[_]=W.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,_,L,Z){_&&(this._previousKeyframe.easing=_);const re=Z&&Z.params||{},E=function Xe(ne,y){const _={};let L;return ne.forEach(Z=>{"*"===Z?(L=L||Object.keys(y),L.forEach(re=>{_[re]=W.l3})):Wt(Z,!1,_)}),_}(y,this._globalTimelineStyles);Object.keys(E).forEach(F=>{const I=An(E[F],re,L);this._pendingStyles[F]=I,this._localTimelineStyles.hasOwnProperty(F)||(this._backFill[F]=this._globalTimelineStyles.hasOwnProperty(F)?this._globalTimelineStyles[F]:W.l3),this._updateStyle(F,I)})}applyStylesToKeyframe(){const y=this._pendingStyles,_=Object.keys(y);0!=_.length&&(this._pendingStyles={},_.forEach(L=>{this._currentKeyframe[L]=y[L]}),Object.keys(this._localTimelineStyles).forEach(L=>{this._currentKeyframe.hasOwnProperty(L)||(this._currentKeyframe[L]=this._localTimelineStyles[L])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const _=this._localTimelineStyles[y];this._pendingStyles[y]=_,this._updateStyle(y,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let _ in this._currentKeyframe)y.push(_);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(_=>{const L=this._styleSummary[_],Z=y._styleSummary[_];(!L||Z.time>L.time)&&this._updateStyle(_,Z.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,_=new Set,L=1===this._keyframes.size&&0===this.duration;let Z=[];this._keyframes.forEach((F,I)=>{const $=Wt(F,!0);Object.keys($).forEach(pe=>{const Je=$[pe];Je==W.k1?y.add(pe):Je==W.l3&&_.add(pe)}),L||($.offset=I/this.duration),Z.push($)});const re=y.size?_n(y.values()):[],E=_.size?_n(_.values()):[];if(L){const F=Z[0],I=_t(F);F.offset=0,I.offset=1,Z=[F,I]}return pt(this.element,Z,re,E,this.duration,this.startTime,this.easing,!1)}}class mt extends Le{constructor(y,_,L,Z,re,E,F=!1){super(y,_,E.delay),this.keyframes=L,this.preStyleProps=Z,this.postStyleProps=re,this._stretchStartingKeyframe=F,this.timings={duration:E.duration,delay:E.delay,easing:E.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:_,duration:L,easing:Z}=this.timings;if(this._stretchStartingKeyframe&&_){const re=[],E=L+_,F=_/E,I=Wt(y[0],!1);I.offset=0,re.push(I);const $=Wt(y[0],!1);$.offset=Ut(F),re.push($);const pe=y.length-1;for(let Je=1;Je<=pe;Je++){let ht=Wt(y[Je],!1);ht.offset=Ut((_+ht.offset*L)/E),re.push(ht)}L=E,_=0,Z="",y=re}return pt(this.element,y,this.preStyleProps,this.postStyleProps,L,_,Z,!0)}}function Ut(ne,y=3){const _=Math.pow(10,y-1);return Math.round(ne*_)/_}class se{}class ft extends se{normalizePropertyName(y,_){return Ht(y)}normalizeStyleValue(y,_,L,Z){let re="";const E=L.toString().trim();if(wt[_]&&0!==L&&"0"!==L)if("number"==typeof L)re="px";else{const F=L.match(/^[+-]?[\d\.]+([a-z]*)$/);F&&0==F[1].length&&Z.push(`Please provide a CSS unit value for ${y}:${L}`)}return E+re}}const wt=(()=>function Bt(ne){const y={};return ne.forEach(_=>y[_]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yn(ne,y,_,L,Z,re,E,F,I,$,pe,Je,ht){return{type:0,element:ne,triggerName:y,isRemovalTransition:Z,fromState:_,fromStyles:re,toState:L,toStyles:E,timelines:F,queriedElements:I,preStyleProps:$,postStyleProps:pe,totalTime:Je,errors:ht}}const Lt={};class Dt{constructor(y,_,L){this._triggerName=y,this.ast=_,this._stateStyles=L}match(y,_,L,Z){return function pn(ne,y,_,L,Z){return ne.some(re=>re(y,_,L,Z))}(this.ast.matchers,y,_,L,Z)}buildStyles(y,_,L){const Z=this._stateStyles["*"],re=this._stateStyles[y],E=Z?Z.buildStyles(_,L):{};return re?re.buildStyles(_,L):E}build(y,_,L,Z,re,E,F,I,$,pe){const Je=[],ht=this.ast.options&&this.ast.options.params||Lt,$t=this.buildStyles(L,F&&F.params||Lt,Je),Yt=I&&I.params||Lt,sn=this.buildStyles(Z,Yt,Je),mn=new Set,Vn=new Map,V=new Map,k="void"===Z,N={params:Object.assign(Object.assign({},ht),Yt)},te=pe?[]:qe(y,_,this.ast.animation,re,E,$t,sn,N,$,Je);let Qe=0;if(te.forEach(ur=>{Qe=Math.max(ur.duration+ur.delay,Qe)}),Je.length)return yn(_,this._triggerName,L,Z,k,$t,sn,[],[],Vn,V,Qe,Je);te.forEach(ur=>{const dr=ur.element,G=ie(Vn,dr,{});ur.preStyleProps.forEach(ue=>G[ue]=!0);const B=ie(V,dr,{});ur.postStyleProps.forEach(ue=>B[ue]=!0),dr!==_&&mn.add(dr)});const Jt=_n(mn.values());return yn(_,this._triggerName,L,Z,k,$t,sn,te,Jt,Vn,V,Qe)}}class $n{constructor(y,_,L){this.styles=y,this.defaultParams=_,this.normalizer=L}buildStyles(y,_){const L={},Z=_t(this.defaultParams);return Object.keys(y).forEach(re=>{const E=y[re];null!=E&&(Z[re]=E)}),this.styles.styles.forEach(re=>{if("string"!=typeof re){const E=re;Object.keys(E).forEach(F=>{let I=E[F];I.length>1&&(I=An(I,Z,_));const $=this.normalizer.normalizePropertyName(F,_);I=this.normalizer.normalizeStyleValue(F,$,I,_),L[$]=I})}}),L}}class lr{constructor(y,_,L){this.name=y,this.ast=_,this._normalizer=L,this.transitionFactories=[],this.states={},_.states.forEach(Z=>{this.states[Z.name]=new $n(Z.style,Z.options&&Z.options.params||{},L)}),gr(this.states,"true","1"),gr(this.states,"false","0"),_.transitions.forEach(Z=>{this.transitionFactories.push(new Dt(y,Z,this.states))}),this.fallbackTransition=function nr(ne,y,_){return new Dt(ne,{type:1,animation:{type:2,steps:[],options:null},matchers:[(E,F)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,_,L,Z){return this.transitionFactories.find(E=>E.match(y,_,L,Z))||null}matchStyles(y,_,L){return this.fallbackTransition.buildStyles(y,_,L)}}function gr(ne,y,_){ne.hasOwnProperty(y)?ne.hasOwnProperty(_)||(ne[_]=ne[y]):ne.hasOwnProperty(_)&&(ne[y]=ne[_])}const rr=new Tt;class Or{constructor(y,_,L){this.bodyNode=y,this._driver=_,this._normalizer=L,this._animations={},this._playersById={},this.players=[]}register(y,_){const L=[],Z=vn(this._driver,_,L);if(L.length)throw new Error(`Unable to build the animation due to the following errors: ${L.join("\n")}`);this._animations[y]=Z}_buildPlayer(y,_,L){const Z=y.element,re=Ve(0,this._normalizer,0,y.keyframes,_,L);return this._driver.animate(Z,re,y.duration,y.delay,y.easing,[],!0)}create(y,_,L={}){const Z=[],re=this._animations[y];let E;const F=new Map;if(re?(E=qe(this._driver,_,re,We,at,{},{},L,rr,Z),E.forEach(pe=>{const Je=ie(F,pe.element,{});pe.postStyleProps.forEach(ht=>Je[ht]=null)})):(Z.push("The requested animation doesn't exist or has already been destroyed"),E=[]),Z.length)throw new Error(`Unable to create the animation due to the following errors: ${Z.join("\n")}`);F.forEach((pe,Je)=>{Object.keys(pe).forEach(ht=>{pe[ht]=this._driver.computeStyle(Je,ht,W.l3)})});const $=Te(E.map(pe=>{const Je=F.get(pe.element);return this._buildPlayer(pe,{},Je)}));return this._playersById[y]=$,$.onDestroy(()=>this.destroy(y)),this.players.push($),$}destroy(y){const _=this._getPlayer(y);_.destroy(),delete this._playersById[y];const L=this.players.indexOf(_);L>=0&&this.players.splice(L,1)}_getPlayer(y){const _=this._playersById[y];if(!_)throw new Error(`Unable to find the timeline player referenced by ${y}`);return _}listen(y,_,L,Z){const re=de(_,"","","");return me(this._getPlayer(y),L,re,Z),()=>{}}command(y,_,L,Z){if("register"==L)return void this.register(y,Z[0]);if("create"==L)return void this.create(y,_,Z[0]||{});const re=this._getPlayer(y);switch(L){case"play":re.play();break;case"pause":re.pause();break;case"reset":re.reset();break;case"restart":re.restart();break;case"finish":re.finish();break;case"init":re.init();break;case"setPosition":re.setPosition(parseFloat(Z[0]));break;case"destroy":this.destroy(y)}}}const Pr="ng-animate-queued",ai="ng-animate-disabled",Ln=[],Gr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Di={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed";class xn{constructor(y,_=""){this.namespaceId=_;const L=y&&y.hasOwnProperty("value");if(this.value=function Br(ne){return null!=ne?ne:null}(L?y.value:y),L){const re=_t(y);delete re.value,this.options=re}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const _=y.params;if(_){const L=this.options.params;Object.keys(_).forEach(Z=>{null==L[Z]&&(L[Z]=_[Z])})}}}const zr="void",Ii=new xn(zr);class ir{constructor(y,_,L){this.id=y,this.hostElement=_,this._engine=L,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ti(_,this._hostClassName)}listen(y,_,L,Z){if(!this._triggers.hasOwnProperty(_))throw new Error(`Unable to listen on the animation trigger event "${L}" because the animation trigger "${_}" doesn't exist!`);if(null==L||0==L.length)throw new Error(`Unable to listen on the animation trigger "${_}" because the provided event is undefined!`);if(!function Ei(ne){return"start"==ne||"done"==ne}(L))throw new Error(`The provided animation trigger event "${L}" for the animation trigger "${_}" is not supported!`);const re=ie(this._elementListeners,y,[]),E={name:_,phase:L,callback:Z};re.push(E);const F=ie(this._engine.statesByElement,y,{});return F.hasOwnProperty(_)||(ti(y,Be),ti(y,Be+"-"+_),F[_]=Ii),()=>{this._engine.afterFlush(()=>{const I=re.indexOf(E);I>=0&&re.splice(I,1),this._triggers[_]||delete F[_]})}}register(y,_){return!this._triggers[y]&&(this._triggers[y]=_,!0)}_getTrigger(y){const _=this._triggers[y];if(!_)throw new Error(`The provided animation trigger "${y}" has not been registered!`);return _}trigger(y,_,L,Z=!0){const re=this._getTrigger(_),E=new bi(this.id,_,y);let F=this._engine.statesByElement.get(y);F||(ti(y,Be),ti(y,Be+"-"+_),this._engine.statesByElement.set(y,F={}));let I=F[_];const $=new xn(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&I&&$.absorbOptions(I.options),F[_]=$,I||(I=Ii),$.value!==zr&&I.value===$.value){if(!function Ti(ne,y){const _=Object.keys(ne),L=Object.keys(y);if(_.length!=L.length)return!1;for(let Z=0;Z<_.length;Z++){const re=_[Z];if(!y.hasOwnProperty(re)||ne[re]!==y[re])return!1}return!0}(I.params,$.params)){const Yt=[],sn=re.matchStyles(I.value,I.params,Yt),mn=re.matchStyles($.value,$.params,Yt);Yt.length?this._engine.reportError(Yt):this._engine.afterFlush(()=>{Zn(y,sn),an(y,mn)})}return}const ht=ie(this._engine.playersByElement,y,[]);ht.forEach(Yt=>{Yt.namespaceId==this.id&&Yt.triggerName==_&&Yt.queued&&Yt.destroy()});let Ot=re.matchTransition(I.value,$.value,y,$.params),$t=!1;if(!Ot){if(!Z)return;Ot=re.fallbackTransition,$t=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:_,transition:Ot,fromState:I,toState:$,player:E,isFallbackTransition:$t}),$t||(ti(y,Pr),E.onStart(()=>{fr(y,Pr)})),E.onDone(()=>{let Yt=this.players.indexOf(E);Yt>=0&&this.players.splice(Yt,1);const sn=this._engine.playersByElement.get(y);if(sn){let mn=sn.indexOf(E);mn>=0&&sn.splice(mn,1)}}),this.players.push(E),ht.push(E),E}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((_,L)=>{delete _[y]}),this._elementListeners.forEach((_,L)=>{this._elementListeners.set(L,_.filter(Z=>Z.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const _=this._engine.playersByElement.get(y);_&&(_.forEach(L=>L.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,_){const L=this._engine.driver.query(y,$e,!0);L.forEach(Z=>{if(Z[Xn])return;const re=this._engine.fetchNamespacesByElement(Z);re.size?re.forEach(E=>E.triggerLeaveAnimation(Z,_,!1,!0)):this.clearElementCache(Z)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(Z=>this.clearElementCache(Z)))}triggerLeaveAnimation(y,_,L,Z){const re=this._engine.statesByElement.get(y),E=new Map;if(re){const F=[];if(Object.keys(re).forEach(I=>{if(E.set(I,re[I].value),this._triggers[I]){const $=this.trigger(y,I,zr,Z);$&&F.push($)}}),F.length)return this._engine.markElementAsRemoved(this.id,y,!0,_,E),L&&Te(F).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const _=this._elementListeners.get(y),L=this._engine.statesByElement.get(y);if(_&&L){const Z=new Set;_.forEach(re=>{const E=re.name;if(Z.has(E))return;Z.add(E);const I=this._triggers[E].fallbackTransition,$=L[E]||Ii,pe=new xn(zr),Je=new bi(this.id,E,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:I,fromState:$,toState:pe,player:Je,isFallbackTransition:!0})})}}removeNode(y,_){const L=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,_),this.triggerLeaveAnimation(y,_,!0))return;let Z=!1;if(L.totalAnimations){const re=L.players.length?L.playersByQueriedElement.get(y):[];if(re&&re.length)Z=!0;else{let E=y;for(;E=E.parentNode;)if(L.statesByElement.get(E)){Z=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Z)L.markElementAsRemoved(this.id,y,!1,_);else{const re=y[Xn];(!re||re===Gr)&&(L.afterFlush(()=>this.clearElementCache(y)),L.destroyInnerAnimations(y),L._onRemovalComplete(y,_))}}insertNode(y,_){ti(y,this._hostClassName)}drainQueuedTransitions(y){const _=[];return this._queue.forEach(L=>{const Z=L.player;if(Z.destroyed)return;const re=L.element,E=this._elementListeners.get(re);E&&E.forEach(F=>{if(F.name==L.triggerName){const I=de(re,L.triggerName,L.fromState.value,L.toState.value);I._data=y,me(L.player,F.phase,I,F.callback)}}),Z.markedForDestroy?this._engine.afterFlush(()=>{Z.destroy()}):_.push(L)}),this._queue=[],_.sort((L,Z)=>{const re=L.transition.ast.depCount,E=Z.transition.ast.depCount;return 0==re||0==E?re-E:this._engine.driver.containsElement(L.element,Z.element)?1:-1})}destroy(y){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let _=!1;return this._elementListeners.has(y)&&(_=!0),_=!!this._queue.find(L=>L.element===y)||_,_}}class Ar{constructor(y,_,L){this.bodyNode=y,this.driver=_,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Z,re)=>{}}_onRemovalComplete(y,_){this.onRemovalComplete(y,_)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(_=>{_.players.forEach(L=>{L.queued&&y.push(L)})}),y}createNamespace(y,_){const L=new ir(y,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(L,_):(this.newHostElements.set(_,L),this.collectEnterElement(_)),this._namespaceLookup[y]=L}_balanceNamespaceList(y,_){const L=this._namespaceList.length-1;if(L>=0){let Z=!1;for(let re=L;re>=0;re--)if(this.driver.containsElement(this._namespaceList[re].hostElement,_)){this._namespaceList.splice(re+1,0,y),Z=!0;break}Z||this._namespaceList.splice(0,0,y)}else this._namespaceList.push(y);return this.namespacesByHostElement.set(_,y),y}register(y,_){let L=this._namespaceLookup[y];return L||(L=this.createNamespace(y,_)),L}registerTrigger(y,_,L){let Z=this._namespaceLookup[y];Z&&Z.register(_,L)&&this.totalAnimations++}destroy(y,_){if(!y)return;const L=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(L.hostElement),delete this._namespaceLookup[y];const Z=this._namespaceList.indexOf(L);Z>=0&&this._namespaceList.splice(Z,1)}),this.afterFlushAnimationsDone(()=>L.destroy(_))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const _=new Set,L=this.statesByElement.get(y);if(L){const Z=Object.keys(L);for(let re=0;re<Z.length;re++){const E=L[Z[re]].namespaceId;if(E){const F=this._fetchNamespace(E);F&&_.add(F)}}}return _}trigger(y,_,L,Z){if(xr(_)){const re=this._fetchNamespace(y);if(re)return re.trigger(_,L,Z),!0}return!1}insertNode(y,_,L,Z){if(!xr(_))return;const re=_[Xn];if(re&&re.setForRemoval){re.setForRemoval=!1,re.setForMove=!0;const E=this.collectedLeaveElements.indexOf(_);E>=0&&this.collectedLeaveElements.splice(E,1)}if(y){const E=this._fetchNamespace(y);E&&E.insertNode(_,L)}Z&&this.collectEnterElement(_)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,_){_?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ti(y,ai)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),fr(y,ai))}removeNode(y,_,L,Z){if(xr(_)){const re=y?this._fetchNamespace(y):null;if(re?re.removeNode(_,Z):this.markElementAsRemoved(y,_,!1,Z),L){const E=this.namespacesByHostElement.get(_);E&&E.id!==y&&E.removeNode(_,Z)}}else this._onRemovalComplete(_,Z)}markElementAsRemoved(y,_,L,Z,re){this.collectedLeaveElements.push(_),_[Xn]={namespaceId:y,setForRemoval:Z,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:re}}listen(y,_,L,Z,re){return xr(_)?this._fetchNamespace(y).listen(_,L,Z,re):()=>{}}_buildInstruction(y,_,L,Z,re){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,L,Z,y.fromState.options,y.toState.options,_,re)}destroyInnerAnimations(y){let _=this.driver.query(y,$e,!0);_.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(y,Nt,!0),_.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(y){const _=this.playersByElement.get(y);_&&_.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(y){const _=this.playersByQueriedElement.get(y);_&&_.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Te(this.players).onDone(()=>y());y()})}processLeaveNode(y){var _;const L=y[Xn];if(L&&L.setForRemoval){if(y[Xn]=Gr,L.namespaceId){this.destroyInnerAnimations(y);const Z=this._fetchNamespace(L.namespaceId);Z&&Z.clearElementCache(y)}this._onRemovalComplete(y,L.setForRemoval)}(null===(_=y.classList)||void 0===_?void 0:_.contains(ai))&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(Z=>{this.markElementAsDisabled(Z,!1)})}flush(y=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,Z)=>this._balanceNamespaceList(L,Z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)ti(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{_=this._flushAnimations(L,y)}finally{for(let Z=0;Z<L.length;Z++)L[Z]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],_.length?Te(_).onDone(()=>{L.forEach(Z=>Z())}):L.forEach(Z=>Z())}}reportError(y){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${y.join("\n")}`)}_flushAnimations(y,_){const L=new Tt,Z=[],re=new Map,E=[],F=new Map,I=new Map,$=new Map,pe=new Set;this.disabledNodes.forEach(Ue=>{pe.add(Ue);const gt=this.driver.query(Ue,".ng-animate-queued",!0);for(let bt=0;bt<gt.length;bt++)pe.add(gt[bt])});const Je=this.bodyNode,ht=Array.from(this.statesByElement.keys()),Ot=Cr(ht,this.collectedEnterElements),$t=new Map;let Yt=0;Ot.forEach((Ue,gt)=>{const bt=We+Yt++;$t.set(gt,bt),Ue.forEach(Mt=>ti(Mt,bt))});const sn=[],mn=new Set,Vn=new Set;for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++){const gt=this.collectedLeaveElements[Ue],bt=gt[Xn];bt&&bt.setForRemoval&&(sn.push(gt),mn.add(gt),bt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Mt=>mn.add(Mt)):Vn.add(gt))}const V=new Map,k=Cr(ht,Array.from(mn));k.forEach((Ue,gt)=>{const bt=at+Yt++;V.set(gt,bt),Ue.forEach(Mt=>ti(Mt,bt))}),y.push(()=>{Ot.forEach((Ue,gt)=>{const bt=$t.get(gt);Ue.forEach(Mt=>fr(Mt,bt))}),k.forEach((Ue,gt)=>{const bt=V.get(gt);Ue.forEach(Mt=>fr(Mt,bt))}),sn.forEach(Ue=>{this.processLeaveNode(Ue)})});const N=[],te=[];for(let Ue=this._namespaceList.length-1;Ue>=0;Ue--)this._namespaceList[Ue].drainQueuedTransitions(_).forEach(bt=>{const Mt=bt.player,gn=bt.element;if(N.push(Mt),this.collectedEnterElements.length){const jn=gn[Xn];if(jn&&jn.setForMove){if(jn.previousTriggersValues&&jn.previousTriggersValues.has(bt.triggerName)){const sr=jn.previousTriggersValues.get(bt.triggerName),pr=this.statesByElement.get(bt.element);pr&&pr[bt.triggerName]&&(pr[bt.triggerName].value=sr)}return void Mt.destroy()}}const bn=!Je||!this.driver.containsElement(Je,gn),Gn=V.get(gn),er=$t.get(gn),qn=this._buildInstruction(bt,L,er,Gn,bn);if(qn.errors&&qn.errors.length)return void te.push(qn);if(bn)return Mt.onStart(()=>Zn(gn,qn.fromStyles)),Mt.onDestroy(()=>an(gn,qn.toStyles)),void Z.push(Mt);if(bt.isFallbackTransition)return Mt.onStart(()=>Zn(gn,qn.fromStyles)),Mt.onDestroy(()=>an(gn,qn.toStyles)),void Z.push(Mt);const Qr=[];qn.timelines.forEach(jn=>{jn.stretchStartingKeyframe=!0,this.disabledNodes.has(jn.element)||Qr.push(jn)}),qn.timelines=Qr,L.append(gn,qn.timelines),E.push({instruction:qn,player:Mt,element:gn}),qn.queriedElements.forEach(jn=>ie(F,jn,[]).push(Mt)),qn.preStyleProps.forEach((jn,sr)=>{const pr=Object.keys(jn);if(pr.length){let mr=I.get(sr);mr||I.set(sr,mr=new Set),pr.forEach(cr=>mr.add(cr))}}),qn.postStyleProps.forEach((jn,sr)=>{const pr=Object.keys(jn);let mr=$.get(sr);mr||$.set(sr,mr=new Set),pr.forEach(cr=>mr.add(cr))})});if(te.length){const Ue=[];te.forEach(gt=>{Ue.push(`@${gt.triggerName} has failed due to:\n`),gt.errors.forEach(bt=>Ue.push(`- ${bt}\n`))}),N.forEach(gt=>gt.destroy()),this.reportError(Ue)}const Qe=new Map,Jt=new Map;E.forEach(Ue=>{const gt=Ue.element;L.has(gt)&&(Jt.set(gt,gt),this._beforeAnimationBuild(Ue.player.namespaceId,Ue.instruction,Qe))}),Z.forEach(Ue=>{const gt=Ue.element;this._getPreviousPlayers(gt,!1,Ue.namespaceId,Ue.triggerName,null).forEach(Mt=>{ie(Qe,gt,[]).push(Mt),Mt.destroy()})});const ur=sn.filter(Ue=>Li(Ue,I,$)),dr=new Map;fi(dr,this.driver,Vn,$,W.l3).forEach(Ue=>{Li(Ue,I,$)&&ur.push(Ue)});const B=new Map;Ot.forEach((Ue,gt)=>{fi(B,this.driver,new Set(Ue),I,W.k1)}),ur.forEach(Ue=>{const gt=dr.get(Ue),bt=B.get(Ue);dr.set(Ue,Object.assign(Object.assign({},gt),bt))});const ue=[],Oe=[],ge={};E.forEach(Ue=>{const{element:gt,player:bt,instruction:Mt}=Ue;if(L.has(gt)){if(pe.has(gt))return bt.onDestroy(()=>an(gt,Mt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(Mt.totalTime),void Z.push(bt);let gn=ge;if(Jt.size>1){let Gn=gt;const er=[];for(;Gn=Gn.parentNode;){const qn=Jt.get(Gn);if(qn){gn=qn;break}er.push(Gn)}er.forEach(qn=>Jt.set(qn,gn))}const bn=this._buildAnimation(bt.namespaceId,Mt,Qe,re,B,dr);if(bt.setRealPlayer(bn),gn===ge)ue.push(bt);else{const Gn=this.playersByElement.get(gn);Gn&&Gn.length&&(bt.parentPlayer=Te(Gn)),Z.push(bt)}}else Zn(gt,Mt.fromStyles),bt.onDestroy(()=>an(gt,Mt.toStyles)),Oe.push(bt),pe.has(gt)&&Z.push(bt)}),Oe.forEach(Ue=>{const gt=re.get(Ue.element);if(gt&&gt.length){const bt=Te(gt);Ue.setRealPlayer(bt)}}),Z.forEach(Ue=>{Ue.parentPlayer?Ue.syncPlayerEvents(Ue.parentPlayer):Ue.destroy()});for(let Ue=0;Ue<sn.length;Ue++){const gt=sn[Ue],bt=gt[Xn];if(fr(gt,at),bt&&bt.hasAnimation)continue;let Mt=[];if(F.size){let bn=F.get(gt);bn&&bn.length&&Mt.push(...bn);let Gn=this.driver.query(gt,Nt,!0);for(let er=0;er<Gn.length;er++){let qn=F.get(Gn[er]);qn&&qn.length&&Mt.push(...qn)}}const gn=Mt.filter(bn=>!bn.destroyed);gn.length?Ki(this,gt,gn):this.processLeaveNode(gt)}return sn.length=0,ue.forEach(Ue=>{this.players.push(Ue),Ue.onDone(()=>{Ue.destroy();const gt=this.players.indexOf(Ue);this.players.splice(gt,1)}),Ue.play()}),ue}elementContainsData(y,_){let L=!1;const Z=_[Xn];return Z&&Z.setForRemoval&&(L=!0),this.playersByElement.has(_)&&(L=!0),this.playersByQueriedElement.has(_)&&(L=!0),this.statesByElement.has(_)&&(L=!0),this._fetchNamespace(y).elementContainsData(_)||L}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,_,L,Z,re){let E=[];if(_){const F=this.playersByQueriedElement.get(y);F&&(E=F)}else{const F=this.playersByElement.get(y);if(F){const I=!re||re==zr;F.forEach($=>{$.queued||!I&&$.triggerName!=Z||E.push($)})}}return(L||Z)&&(E=E.filter(F=>!(L&&L!=F.namespaceId||Z&&Z!=F.triggerName))),E}_beforeAnimationBuild(y,_,L){const re=_.element,E=_.isRemovalTransition?void 0:y,F=_.isRemovalTransition?void 0:_.triggerName;for(const I of _.timelines){const $=I.element,pe=$!==re,Je=ie(L,$,[]);this._getPreviousPlayers($,pe,E,F,_.toState).forEach(Ot=>{const $t=Ot.getRealPlayer();$t.beforeDestroy&&$t.beforeDestroy(),Ot.destroy(),Je.push(Ot)})}Zn(re,_.fromStyles)}_buildAnimation(y,_,L,Z,re,E){const F=_.triggerName,I=_.element,$=[],pe=new Set,Je=new Set,ht=_.timelines.map($t=>{const Yt=$t.element;pe.add(Yt);const sn=Yt[Xn];if(sn&&sn.removedBeforeQueried)return new W.ZN($t.duration,$t.delay);const mn=Yt!==I,Vn=function Dr(ne){const y=[];return Fi(ne,y),y}((L.get(Yt)||Ln).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===Yt),V=re.get(Yt),k=E.get(Yt),N=Ve(0,this._normalizer,0,$t.keyframes,V,k),te=this._buildPlayer($t,N,Vn);if($t.subTimeline&&Z&&Je.add(Yt),mn){const Qe=new bi(y,F,Yt);Qe.setRealPlayer(te),$.push(Qe)}return te});$.forEach($t=>{ie(this.playersByQueriedElement,$t.element,[]).push($t),$t.onDone(()=>function hs(ne,y,_){let L;if(ne instanceof Map){if(L=ne.get(y),L){if(L.length){const Z=L.indexOf(_);L.splice(Z,1)}0==L.length&&ne.delete(y)}}else if(L=ne[y],L){if(L.length){const Z=L.indexOf(_);L.splice(Z,1)}0==L.length&&delete ne[y]}return L}(this.playersByQueriedElement,$t.element,$t))}),pe.forEach($t=>ti($t,Et));const Ot=Te(ht);return Ot.onDestroy(()=>{pe.forEach($t=>fr($t,Et)),an(I,_.toStyles)}),Je.forEach($t=>{ie(Z,$t,[]).push(Ot)}),Ot}_buildPlayer(y,_,L){return _.length>0?this.driver.animate(y.element,_,y.duration,y.delay,y.easing,L):new W.ZN(y.duration,y.delay)}}class bi{constructor(y,_,L){this.namespaceId=y,this.triggerName=_,this.element=L,this._player=new W.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(L=>me(y,_,void 0,L))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const _=this._player;_.triggerCallback&&y.onStart(()=>_.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,_){ie(this._queuedCallbacks,y,[]).push(_)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const _=this._player;_.triggerCallback&&_.triggerCallback(y)}}function xr(ne){return ne&&1===ne.nodeType}function Nr(ne,y){const _=ne.style.display;return ne.style.display=null!=y?y:"none",_}function fi(ne,y,_,L,Z){const re=[];_.forEach(I=>re.push(Nr(I)));const E=[];L.forEach((I,$)=>{const pe={};I.forEach(Je=>{const ht=pe[Je]=y.computeStyle($,Je,Z);(!ht||0==ht.length)&&($[Xn]=Di,E.push($))}),ne.set($,pe)});let F=0;return _.forEach(I=>Nr(I,re[F++])),E}function Cr(ne,y){const _=new Map;if(ne.forEach(F=>_.set(F,[])),0==y.length)return _;const Z=new Set(y),re=new Map;function E(F){if(!F)return 1;let I=re.get(F);if(I)return I;const $=F.parentNode;return I=_.has($)?$:Z.has($)?1:E($),re.set(F,I),I}return y.forEach(F=>{const I=E(F);1!==I&&_.get(I).push(F)}),_}function ti(ne,y){var _;null===(_=ne.classList)||void 0===_||_.add(y)}function fr(ne,y){var _;null===(_=ne.classList)||void 0===_||_.remove(y)}function Ki(ne,y,_){Te(_).onDone(()=>ne.processLeaveNode(y))}function Fi(ne,y){for(let _=0;_<ne.length;_++){const L=ne[_];L instanceof W.ZE?Fi(L.players,y):y.push(L)}}function Li(ne,y,_){const L=_.get(ne);if(!L)return!1;let Z=y.get(ne);return Z?L.forEach(re=>Z.add(re)):y.set(ne,L),_.delete(ne),!0}class Ai{constructor(y,_,L){this.bodyNode=y,this._driver=_,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(Z,re)=>{},this._transitionEngine=new Ar(y,_,L),this._timelineEngine=new Or(y,_,L),this._transitionEngine.onRemovalComplete=(Z,re)=>this.onRemovalComplete(Z,re)}registerTrigger(y,_,L,Z,re){const E=y+"-"+Z;let F=this._triggerCache[E];if(!F){const I=[],$=vn(this._driver,re,I);if(I.length)throw new Error(`The animation trigger "${Z}" has failed to build due to the following errors:\n - ${I.join("\n - ")}`);F=function wr(ne,y,_){return new lr(ne,y,_)}(Z,$,this._normalizer),this._triggerCache[E]=F}this._transitionEngine.registerTrigger(_,Z,F)}register(y,_){this._transitionEngine.register(y,_)}destroy(y,_){this._transitionEngine.destroy(y,_)}onInsert(y,_,L,Z){this._transitionEngine.insertNode(y,_,L,Z)}onRemove(y,_,L,Z){this._transitionEngine.removeNode(y,_,Z||!1,L)}disableAnimations(y,_){this._transitionEngine.markElementAsDisabled(y,_)}process(y,_,L,Z){if("@"==L.charAt(0)){const[re,E]=be(L);this._timelineEngine.command(re,_,E,Z)}else this._transitionEngine.trigger(y,_,L,Z)}listen(y,_,L,Z,re){if("@"==L.charAt(0)){const[E,F]=be(L);return this._timelineEngine.listen(E,_,F,re)}return this._transitionEngine.listen(y,_,L,Z,re)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Us=(()=>{class ne{constructor(_,L,Z){this._element=_,this._startStyles=L,this._endStyles=Z,this._state=0;let re=ne.initialStylesByElement.get(_);re||ne.initialStylesByElement.set(_,re={}),this._initialStyles=re}start(){this._state<1&&(this._startStyles&&an(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(an(this._element,this._initialStyles),this._endStyles&&(an(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ne.initialStylesByElement.delete(this._element),this._startStyles&&(Zn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zn(this._element,this._endStyles),this._endStyles=null),an(this._element,this._initialStyles),this._state=3)}}return ne.initialStylesByElement=new WeakMap,ne})();function wi(ne){let y=null;const _=Object.keys(ne);for(let L=0;L<_.length;L++){const Z=_[L];ni(Z)&&(y=y||{},y[Z]=ne[Z])}return y}function ni(ne){return"display"===ne||"position"===ne}class Zi{constructor(y,_,L,Z){this.element=y,this.keyframes=_,this.options=L,this._specialStyles=Z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,_,L){return y.animate(_,L)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};if(this.hasStarted()){const _=this._finalKeyframe;Object.keys(_).forEach(L=>{"offset"!=L&&(y[L]=this._finished?_[L]:Xt(this.element,L))})}this.currentSnapshot=y}triggerCallback(y){const _="start"==y?this._onStartFns:this._onDoneFns;_.forEach(L=>L()),_.length=0}}class ps{validateStyleProperty(y){return De(y)}matchesElement(y,_){return!1}containsElement(y,_){return ke(y,_)}query(y,_,L){return ye(y,_,L)}computeStyle(y,_,L){return window.getComputedStyle(y)[_]}animate(y,_,L,Z,re,E=[]){const I={duration:L,delay:Z,fill:0==Z?"both":"forwards"};re&&(I.easing=re);const $={},pe=E.filter(ht=>ht instanceof Zi);(function kn(ne,y){return 0===ne||0===y})(L,Z)&&pe.forEach(ht=>{let Ot=ht.currentSnapshot;Object.keys(Ot).forEach($t=>$[$t]=Ot[$t])}),_=function Mn(ne,y,_){const L=Object.keys(_);if(L.length&&y.length){let re=y[0],E=[];if(L.forEach(F=>{re.hasOwnProperty(F)||E.push(F),re[F]=_[F]}),E.length)for(var Z=1;Z<y.length;Z++){let F=y[Z];E.forEach(function(I){F[I]=Xt(ne,I)})}}return y}(y,_=_.map(ht=>Wt(ht,!1)),$);const Je=function fs(ne,y){let _=null,L=null;return Array.isArray(y)&&y.length?(_=wi(y[0]),y.length>1&&(L=wi(y[y.length-1]))):y&&(_=wi(y)),_||L?new Us(ne,_,L):null}(y,_);return new Zi(y,_,I,Je)}}var li=A(9808);let Ui=(()=>{class ne extends W._j{constructor(_,L){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(L.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(_){const L=this._nextAnimationId.toString();this._nextAnimationId++;const Z=Array.isArray(_)?(0,W.vP)(_):_;return Bi(this._renderer,null,L,"register",[Z]),new Vi(L,this._renderer)}}return ne.\u0275fac=function(_){return new(_||ne)(c.LFG(c.FYo),c.LFG(li.K0))},ne.\u0275prov=c.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class Vi extends W.LC{constructor(y,_){super(),this._id=y,this._renderer=_}create(y,_){return new jr(this._id,y,_||{},this._renderer)}}class jr{constructor(y,_,L,Z){this.id=y,this.element=_,this._renderer=Z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(y,_){return this._renderer.listen(this.element,`@@${this.id}:${y}`,_)}_command(y,..._){return Bi(this._renderer,this.element,this.id,y,_)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){var y,_;return null!==(_=null===(y=this._renderer.engine.players[+this.id])||void 0===y?void 0:y.getPosition())&&void 0!==_?_:0}}function Bi(ne,y,_,L,Z){return ne.setProperty(y,`@@${_}:${L}`,Z)}const ji="@.disabled";let Mi=(()=>{class ne{constructor(_,L,Z){this.delegate=_,this.engine=L,this._zone=Z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),L.onRemovalComplete=(re,E)=>{const F=null==E?void 0:E.parentNode(re);F&&E.removeChild(F,re)}}createRenderer(_,L){const re=this.delegate.createRenderer(_,L);if(!(_&&L&&L.data&&L.data.animation)){let pe=this._rendererCache.get(re);return pe||(pe=new ui("",re,this.engine),this._rendererCache.set(re,pe)),pe}const E=L.id,F=L.id+"-"+this._currentId;this._currentId++,this.engine.register(F,_);const I=pe=>{Array.isArray(pe)?pe.forEach(I):this.engine.registerTrigger(E,F,_,pe.name,pe)};return L.data.animation.forEach(I),new bs(this,F,re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,L,Z){_>=0&&_<this._microtaskId?this._zone.run(()=>L(Z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(re=>{const[E,F]=re;E(F)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,Z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return ne.\u0275fac=function(_){return new(_||ne)(c.LFG(c.FYo),c.LFG(Ai),c.LFG(c.R0b))},ne.\u0275prov=c.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class ui{constructor(y,_,L){this.namespaceId=y,this.delegate=_,this.engine=L,this.destroyNode=this.delegate.destroyNode?Z=>_.destroyNode(Z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,_){return this.delegate.createElement(y,_)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,_){this.delegate.appendChild(y,_),this.engine.onInsert(this.namespaceId,_,y,!1)}insertBefore(y,_,L,Z=!0){this.delegate.insertBefore(y,_,L),this.engine.onInsert(this.namespaceId,_,y,Z)}removeChild(y,_,L){this.engine.onRemove(this.namespaceId,_,this.delegate,L)}selectRootElement(y,_){return this.delegate.selectRootElement(y,_)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,_,L,Z){this.delegate.setAttribute(y,_,L,Z)}removeAttribute(y,_,L){this.delegate.removeAttribute(y,_,L)}addClass(y,_){this.delegate.addClass(y,_)}removeClass(y,_){this.delegate.removeClass(y,_)}setStyle(y,_,L,Z){this.delegate.setStyle(y,_,L,Z)}removeStyle(y,_,L){this.delegate.removeStyle(y,_,L)}setProperty(y,_,L){"@"==_.charAt(0)&&_==ji?this.disableAnimations(y,!!L):this.delegate.setProperty(y,_,L)}setValue(y,_){this.delegate.setValue(y,_)}listen(y,_,L){return this.delegate.listen(y,_,L)}disableAnimations(y,_){this.engine.disableAnimations(y,_)}}class bs extends ui{constructor(y,_,L,Z){super(_,L,Z),this.factory=y,this.namespaceId=_}setProperty(y,_,L){"@"==_.charAt(0)?"."==_.charAt(1)&&_==ji?this.disableAnimations(y,L=void 0===L||!!L):this.engine.process(this.namespaceId,y,_.substr(1),L):this.delegate.setProperty(y,_,L)}listen(y,_,L){if("@"==_.charAt(0)){const Z=function ri(ne){switch(ne){case"body":return document.body;case"document":return document;case"window":return window;default:return ne}}(y);let re=_.substr(1),E="";return"@"!=re.charAt(0)&&([re,E]=function Es(ne){const y=ne.indexOf(".");return[ne.substring(0,y),ne.substr(y+1)]}(re)),this.engine.listen(this.namespaceId,Z,re,E,F=>{this.factory.scheduleListenerCallback(F._data||-1,L,F)})}return this.delegate.listen(y,_,L)}}let pi=(()=>{class ne extends Ai{constructor(_,L,Z){super(_.body,L,Z)}ngOnDestroy(){this.flush()}}return ne.\u0275fac=function(_){return new(_||ne)(c.LFG(li.K0),c.LFG(we),c.LFG(se))},ne.\u0275prov=c.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Yr=new c.OlP("AnimationModuleType"),Wn=[{provide:W._j,useClass:Ui},{provide:se,useFactory:function ws(){return new ft}},{provide:Ai,useClass:pi},{provide:c.FYo,useFactory:function Zr(ne,y,_){return new Mi(ne,y,_)},deps:[D.se,Ai,c.R0b]}],Si=[{provide:we,useFactory:()=>new ps},{provide:Yr,useValue:"BrowserAnimations"},...Wn],is=[{provide:we,useClass:ze},{provide:Yr,useValue:"NoopAnimations"},...Wn];let Hi=(()=>{class ne{static withConfig(_){return{ngModule:ne,providers:_.disableAnimations?is:Si}}}return ne.\u0275fac=function(_){return new(_||ne)},ne.\u0275mod=c.oAB({type:ne}),ne.\u0275inj=c.cJS({providers:Si,imports:[D.b2]}),ne})()},2313:(xt,Ye,A)=>{A.d(Ye,{b2:()=>_n,H7:()=>jt,q6:()=>Tn,se:()=>Be});var c=A(9808),D=A(5e3);class W extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j extends W{static makeCurrent(){(0,c.HT)(new j)}onAndCancel(ae,oe,Le){return ae.addEventListener(oe,Le,!1),()=>{ae.removeEventListener(oe,Le,!1)}}dispatchEvent(ae,oe){ae.dispatchEvent(oe)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,oe){return(oe=oe||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,oe){return"window"===oe?window:"document"===oe?ae:"body"===oe?ae.body:null}getBaseHref(ae){const oe=function Te(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==oe?null:function me(K){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",K);const ae=Ve.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(oe)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,c.Mx)(document.cookie,ae)}}let Ve,Re=null;const Ae=new D.OlP("TRANSITION_ID"),ie=[{provide:D.ip1,useFactory:function de(K,ae,oe){return()=>{oe.get(D.CZH).donePromise.then(()=>{const Le=(0,c.q)(),mt=ae.querySelectorAll(`style[ng-transition="${K}"]`);for(let Ut=0;Ut<mt.length;Ut++)Le.remove(mt[Ut])})}},deps:[Ae,c.K0,D.zs3],multi:!0}];class be{static init(){(0,D.VLi)(new be)}addToWindow(ae){D.dqk.getAngularTestability=(Le,mt=!0)=>{const Ut=ae.findTestabilityInTree(Le,mt);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},D.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(Le=>{const mt=D.dqk.getAllAngularTestabilities();let Ut=mt.length,Xe=!1;const Ee=function(se){Xe=Xe||se,Ut--,0==Ut&&Le(Xe)};mt.forEach(function(se){se.whenStable(Ee)})})}findTestabilityInTree(ae,oe,Le){if(null==oe)return null;const mt=ae.getTestability(oe);return null!=mt?mt:Le?(0,c.q)().isShadowRoot(oe)?this.findTestabilityInTree(ae,oe.host,!0):this.findTestabilityInTree(ae,oe.parentElement,!0):null}}let ot=(()=>{class K{build(){return new XMLHttpRequest}}return K.\u0275fac=function(oe){return new(oe||K)},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();const Ne=new D.OlP("EventManagerPlugins");let Ge=(()=>{class K{constructor(oe,Le){this._zone=Le,this._eventNameToPlugin=new Map,oe.forEach(mt=>mt.manager=this),this._plugins=oe.slice().reverse()}addEventListener(oe,Le,mt){return this._findPluginFor(Le).addEventListener(oe,Le,mt)}addGlobalEventListener(oe,Le,mt){return this._findPluginFor(Le).addGlobalEventListener(oe,Le,mt)}getZone(){return this._zone}_findPluginFor(oe){const Le=this._eventNameToPlugin.get(oe);if(Le)return Le;const mt=this._plugins;for(let Ut=0;Ut<mt.length;Ut++){const Xe=mt[Ut];if(Xe.supports(oe))return this._eventNameToPlugin.set(oe,Xe),Xe}throw new Error(`No event manager plugin found for event ${oe}`)}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(Ne),D.LFG(D.R0b))},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();class Ze{constructor(ae){this._doc=ae}addGlobalEventListener(ae,oe,Le){const mt=(0,c.q)().getGlobalEventTarget(this._doc,ae);if(!mt)throw new Error(`Unsupported event target ${mt} for event ${oe}`);return this.addEventListener(mt,oe,Le)}}let xe=(()=>{class K{constructor(){this._stylesSet=new Set}addStyles(oe){const Le=new Set;oe.forEach(mt=>{this._stylesSet.has(mt)||(this._stylesSet.add(mt),Le.add(mt))}),this.onStylesAdded(Le)}onStylesAdded(oe){}getAllStyles(){return Array.from(this._stylesSet)}}return K.\u0275fac=function(oe){return new(oe||K)},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})(),ut=(()=>{class K extends xe{constructor(oe){super(),this._doc=oe,this._hostNodes=new Map,this._hostNodes.set(oe.head,[])}_addStylesToHost(oe,Le,mt){oe.forEach(Ut=>{const Xe=this._doc.createElement("style");Xe.textContent=Ut,mt.push(Le.appendChild(Xe))})}addHost(oe){const Le=[];this._addStylesToHost(this._stylesSet,oe,Le),this._hostNodes.set(oe,Le)}removeHost(oe){const Le=this._hostNodes.get(oe);Le&&Le.forEach(De),this._hostNodes.delete(oe)}onStylesAdded(oe){this._hostNodes.forEach((Le,mt)=>{this._addStylesToHost(oe,mt,Le)})}ngOnDestroy(){this._hostNodes.forEach(oe=>oe.forEach(De))}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(c.K0))},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();function De(K){(0,c.q)().remove(K)}const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g;function He(K,ae,oe){for(let Le=0;Le<ae.length;Le++){let mt=ae[Le];Array.isArray(mt)?He(K,mt,oe):(mt=mt.replace(ke,K),oe.push(mt))}return oe}function We(K){return ae=>{if("__ngUnwrap__"===ae)return K;!1===K(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let Be=(()=>{class K{constructor(oe,Le,mt){this.eventManager=oe,this.sharedStylesHost=Le,this.appId=mt,this.rendererByCompId=new Map,this.defaultRenderer=new $e(oe)}createRenderer(oe,Le){if(!oe||!Le)return this.defaultRenderer;switch(Le.encapsulation){case D.ifc.Emulated:{let mt=this.rendererByCompId.get(Le.id);return mt||(mt=new Zt(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,mt)),mt.applyToHost(oe),mt}case 1:case D.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,oe,Le);default:if(!this.rendererByCompId.has(Le.id)){const mt=He(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(mt),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(Ge),D.LFG(ut),D.LFG(D.AFp))},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();class $e{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,oe){return oe?document.createElementNS(tt[oe]||oe,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,oe){ae.appendChild(oe)}insertBefore(ae,oe,Le){ae&&ae.insertBefore(oe,Le)}removeChild(ae,oe){ae&&ae.removeChild(oe)}selectRootElement(ae,oe){let Le="string"==typeof ae?document.querySelector(ae):ae;if(!Le)throw new Error(`The selector "${ae}" did not match any elements`);return oe||(Le.textContent=""),Le}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,oe,Le,mt){if(mt){oe=mt+":"+oe;const Ut=tt[mt];Ut?ae.setAttributeNS(Ut,oe,Le):ae.setAttribute(oe,Le)}else ae.setAttribute(oe,Le)}removeAttribute(ae,oe,Le){if(Le){const mt=tt[Le];mt?ae.removeAttributeNS(mt,oe):ae.removeAttribute(`${Le}:${oe}`)}else ae.removeAttribute(oe)}addClass(ae,oe){ae.classList.add(oe)}removeClass(ae,oe){ae.classList.remove(oe)}setStyle(ae,oe,Le,mt){mt&(D.JOm.DashCase|D.JOm.Important)?ae.style.setProperty(oe,Le,mt&D.JOm.Important?"important":""):ae.style[oe]=Le}removeStyle(ae,oe,Le){Le&D.JOm.DashCase?ae.style.removeProperty(oe):ae.style[oe]=""}setProperty(ae,oe,Le){ae[oe]=Le}setValue(ae,oe){ae.nodeValue=oe}listen(ae,oe,Le){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,oe,We(Le)):this.eventManager.addEventListener(ae,oe,We(Le))}}class Zt extends $e{constructor(ae,oe,Le,mt){super(ae),this.component=Le;const Ut=He(mt+"-"+Le.id,Le.styles,[]);oe.addStyles(Ut),this.contentAttr=function Fe(K){return"_ngcontent-%COMP%".replace(ke,K)}(mt+"-"+Le.id),this.hostAttr=function Me(K){return"_nghost-%COMP%".replace(ke,K)}(mt+"-"+Le.id)}applyToHost(ae){super.setAttribute(ae,this.hostAttr,"")}createElement(ae,oe){const Le=super.createElement(ae,oe);return super.setAttribute(Le,this.contentAttr,""),Le}}class dt extends $e{constructor(ae,oe,Le,mt){super(ae),this.sharedStylesHost=oe,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=He(mt.id,mt.styles,[]);for(let Xe=0;Xe<Ut.length;Xe++){const Ee=document.createElement("style");Ee.textContent=Ut[Xe],this.shadowRoot.appendChild(Ee)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ae,oe){return super.appendChild(this.nodeOrShadowRoot(ae),oe)}insertBefore(ae,oe,Le){return super.insertBefore(this.nodeOrShadowRoot(ae),oe,Le)}removeChild(ae,oe){return super.removeChild(this.nodeOrShadowRoot(ae),oe)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}}let rt=(()=>{class K extends Ze{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,Le,mt){return oe.addEventListener(Le,mt,!1),()=>this.removeEventListener(oe,Le,mt)}removeEventListener(oe,Le,mt){return oe.removeEventListener(Le,mt)}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(c.K0))},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();const Ct=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tn={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let on=(()=>{class K extends Ze{constructor(oe){super(oe)}supports(oe){return null!=K.parseEventName(oe)}addEventListener(oe,Le,mt){const Ut=K.parseEventName(Le),Xe=K.eventCallback(Ut.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(oe,Ut.domEventName,Xe))}static parseEventName(oe){const Le=oe.toLowerCase().split("."),mt=Le.shift();if(0===Le.length||"keydown"!==mt&&"keyup"!==mt)return null;const Ut=K._normalizeKey(Le.pop());let Xe="";if(Ct.forEach(se=>{const Se=Le.indexOf(se);Se>-1&&(Le.splice(Se,1),Xe+=se+".")}),Xe+=Ut,0!=Le.length||0===Ut.length)return null;const Ee={};return Ee.domEventName=mt,Ee.fullKey=Xe,Ee}static getEventFullKey(oe){let Le="",mt=function an(K){let ae=K.key;if(null==ae){if(ae=K.keyIdentifier,null==ae)return"Unidentified";ae.startsWith("U+")&&(ae=String.fromCharCode(parseInt(ae.substring(2),16)),3===K.location&&Wt.hasOwnProperty(ae)&&(ae=Wt[ae]))}return Ft[ae]||ae}(oe);return mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),Ct.forEach(Ut=>{Ut!=mt&&tn[Ut](oe)&&(Le+=Ut+".")}),Le+=mt,Le}static eventCallback(oe,Le,mt){return Ut=>{K.getEventFullKey(Ut)===oe&&mt.runGuarded(()=>Le(Ut))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(c.K0))},K.\u0275prov=D.Yz7({token:K,factory:K.\u0275fac}),K})();const Tn=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:c.bD},{provide:D.g9A,useValue:function Zn(){j.makeCurrent(),be.init()},multi:!0},{provide:c.K0,useFactory:function Pn(){return(0,D.RDi)(document),document},deps:[]}]),An=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function Bn(){return new D.qLn},deps:[]},{provide:Ne,useClass:rt,multi:!0,deps:[c.K0,D.R0b,D.Lbi]},{provide:Ne,useClass:on,multi:!0,deps:[c.K0]},{provide:Be,useClass:Be,deps:[Ge,ut,D.AFp]},{provide:D.FYo,useExisting:Be},{provide:xe,useExisting:ut},{provide:ut,useClass:ut,deps:[c.K0]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b]},{provide:Ge,useClass:Ge,deps:[Ne,D.R0b]},{provide:c.JF,useClass:ot,deps:[]}];let _n=(()=>{class K{constructor(oe){if(oe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(oe){return{ngModule:K,providers:[{provide:D.AFp,useValue:oe.appId},{provide:Ae,useExisting:D.AFp},ie]}}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(K,12))},K.\u0275mod=D.oAB({type:K}),K.\u0275inj=D.cJS({providers:An,imports:[c.ez,D.hGG]}),K})();"undefined"!=typeof window&&window;let jt=(()=>{class K{}return K.\u0275fac=function(oe){return new(oe||K)},K.\u0275prov=D.Yz7({token:K,factory:function(oe){let Le=null;return Le=oe?new(oe||K):D.LFG(lt),Le},providedIn:"root"}),K})(),lt=(()=>{class K extends jt{constructor(oe){super(),this._doc=oe}sanitize(oe,Le){if(null==Le)return null;switch(oe){case D.q3G.NONE:return Le;case D.q3G.HTML:return(0,D.qzn)(Le,"HTML")?(0,D.z3N)(Le):(0,D.EiD)(this._doc,String(Le)).toString();case D.q3G.STYLE:return(0,D.qzn)(Le,"Style")?(0,D.z3N)(Le):Le;case D.q3G.SCRIPT:if((0,D.qzn)(Le,"Script"))return(0,D.z3N)(Le);throw new Error("unsafe value used in a script context");case D.q3G.URL:return(0,D.yhl)(Le),(0,D.qzn)(Le,"URL")?(0,D.z3N)(Le):(0,D.mCW)(String(Le));case D.q3G.RESOURCE_URL:if((0,D.qzn)(Le,"ResourceURL"))return(0,D.z3N)(Le);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${oe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(oe){return(0,D.JVY)(oe)}bypassSecurityTrustStyle(oe){return(0,D.L6k)(oe)}bypassSecurityTrustScript(oe){return(0,D.eBb)(oe)}bypassSecurityTrustUrl(oe){return(0,D.LAX)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,D.pB0)(oe)}}return K.\u0275fac=function(oe){return new(oe||K)(D.LFG(c.K0))},K.\u0275prov=D.Yz7({token:K,factory:function(oe){let Le=null;return Le=oe?new oe:function rn(K){return new lt(K.get(c.K0))}(D.LFG(D.zs3)),Le},providedIn:"root"}),K})()},994:(xt,Ye,A)=>{A.d(Ye,{gz:()=>xn,F0:()=>ci,rH:()=>go,Bz:()=>gu,lC:()=>Hi});var c=A(5e3),D=A(8306),W=A(4742),j=A(8996),Re=A(4671),Te=A(3268),Ve=A(7669),me=A(1810),Ae=A(5403),de=A(9672);function ot(S,w,g){S?(0,de.f)(g,S,w):w()}var Ne=A(8421);function Ge(S){return new D.y(w=>{(0,Ne.Xf)(S()).subscribe(w)})}var Ze=A(727),xe=A(4482);function ut(){return(0,xe.e)((S,w)=>{let g=null;S._refCount++;const P=(0,Ae.x)(w,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(g=null);const H=S._connection,q=g;g=null,H&&(!q||H===q)&&H.unsubscribe(),w.unsubscribe()});S.subscribe(P),P.closed||(g=S.connect())})}class De extends D.y{constructor(w,g){super(),this.source=w,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Ze.w0;const g=this.getSubject();w.add(this.source.subscribe((0,Ae.x)(g,void 0,()=>{this._teardown(),g.complete()},P=>{this._teardown(),g.error(P)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Ze.w0.EMPTY)}return w}refCount(){return ut()(this)}}var tt=A(9646),ke=A(1135),ye=A(6805),he=A(7272),ze=A(515),we=A(7579),Fe=A(9300);function Me(S){return S<=0?()=>ze.E:(0,xe.e)((w,g)=>{let P=[];w.subscribe((0,Ae.x)(g,H=>{P.push(H),S<P.length&&P.shift()},()=>{for(const H of P)g.next(H);g.complete()},void 0,()=>{P=null}))})}var He=A(8068),We=A(6590),Be=A(4004),$e=A(3900),Et=A(5698),Nt=A(8675),Zt=A(5026),dt=A(262),rt=A(4351),Ct=A(590),_t=A(5577),Ft=A(8505),Wt=A(8746),tn=A(8189),on=A(9808);class an{constructor(w,g){this.id=w,this.url=g}}class Zn extends an{constructor(w,g,P="imperative",H=null){super(w,g),this.navigationTrigger=P,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends an{constructor(w,g,P){super(w,g),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pn extends an{constructor(w,g,P){super(w,g),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class On extends an{constructor(w,g,P){super(w,g),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends an{constructor(w,g,P,H){super(w,g),this.urlAfterRedirects=P,this.state=H}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends an{constructor(w,g,P,H){super(w,g),this.urlAfterRedirects=P,this.state=H}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends an{constructor(w,g,P,H,q){super(w,g),this.urlAfterRedirects=P,this.state=H,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wn extends an{constructor(w,g,P,H){super(w,g),this.urlAfterRedirects=P,this.state=H}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends an{constructor(w,g,P,H){super(w,g),this.urlAfterRedirects=P,this.state=H}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kn{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(w,g,P){this.routerEvent=w,this.position=g,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class vt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g[0]:g}return null}getAll(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function At(S){return new vt(S)}const je="ngNavigationCancelingError";function it(S){const w=Error("NavigationCancelingError: "+S);return w[je]=!0,w}function fn(S,w,g){const P=g.path.split("/");if(P.length>S.length||"full"===g.pathMatch&&(w.hasChildren()||P.length<S.length))return null;const H={};for(let q=0;q<P.length;q++){const Y=P[q],ce=S[q];if(Y.startsWith(":"))H[Y.substring(1)]=ce;else if(Y!==ce.path)return null}return{consumed:S.slice(0,P.length),posParams:H}}function Hn(S,w){const g=S?Object.keys(S):void 0,P=w?Object.keys(w):void 0;if(!g||!P||g.length!=P.length)return!1;let H;for(let q=0;q<g.length;q++)if(H=g[q],!Un(S[H],w[H]))return!1;return!0}function Un(S,w){if(Array.isArray(S)&&Array.isArray(w)){if(S.length!==w.length)return!1;const g=[...S].sort(),P=[...w].sort();return g.every((H,q)=>P[q]===H)}return S===w}function In(S){return Array.prototype.concat.apply([],S)}function Ce(S){return S.length>0?S[S.length-1]:null}function O(S,w){for(const g in S)S.hasOwnProperty(g)&&w(S[g],g)}function x(S){return(0,c.CqO)(S)?S:(0,c.QGY)(S)?(0,j.D)(Promise.resolve(S)):(0,tt.of)(S)}const ee={exact:function Gt(S,w,g){if(!Le(S.segments,w.segments)||!lt(S.segments,w.segments,g)||S.numberOfChildren!==w.numberOfChildren)return!1;for(const P in w.children)if(!S.children[P]||!Gt(S.children[P],w.children[P],g))return!1;return!0},subset:jt},Ie={exact:function Tt(S,w){return Hn(S,w)},subset:function dn(S,w){return Object.keys(w).length<=Object.keys(S).length&&Object.keys(w).every(g=>Un(S[g],w[g]))},ignored:()=>!0};function pt(S,w,g){return ee[g.paths](S.root,w.root,g.matrixParams)&&Ie[g.queryParams](S.queryParams,w.queryParams)&&!("exact"===g.fragment&&S.fragment!==w.fragment)}function jt(S,w,g){return rn(S,w,w.segments,g)}function rn(S,w,g,P){if(S.segments.length>g.length){const H=S.segments.slice(0,g.length);return!(!Le(H,g)||w.hasChildren()||!lt(H,g,P))}if(S.segments.length===g.length){if(!Le(S.segments,g)||!lt(S.segments,g,P))return!1;for(const H in w.children)if(!S.children[H]||!jt(S.children[H],w.children[H],P))return!1;return!0}{const H=g.slice(0,S.segments.length),q=g.slice(S.segments.length);return!!(Le(S.segments,H)&&lt(S.segments,H,P)&&S.children[qt])&&rn(S.children[qt],w,q,P)}}function lt(S,w,g){return w.every((P,H)=>Ie[g](S[H].parameters,P.parameters))}class qe{constructor(w,g,P){this.root=w,this.queryParams=g,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return Ee.serialize(this)}}class K{constructor(w,g){this.segments=w,this.children=g,this.parent=null,O(g,(P,H)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class ae{constructor(w,g){this.path=w,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return pn(this)}}function Le(S,w){return S.length===w.length&&S.every((g,P)=>g.path===w[P].path)}class Ut{}class Xe{parse(w){const g=new Rn(w);return new qe(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(w){const g=`/${Se(w.root,!0)}`,P=function wr(S){const w=Object.keys(S).map(g=>{const P=S[g];return Array.isArray(P)?P.map(H=>`${wt(g)}=${wt(H)}`).join("&"):`${wt(g)}=${wt(P)}`}).filter(g=>!!g);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${g}${P}${"string"==typeof w.fragment?`#${function Bt(S){return encodeURI(S)}(w.fragment)}`:""}`}}const Ee=new Xe;function se(S){return S.segments.map(w=>pn(w)).join("/")}function Se(S,w){if(!S.hasChildren())return se(S);if(w){const g=S.children[qt]?Se(S.children[qt],!1):"",P=[];return O(S.children,(H,q)=>{q!==qt&&P.push(`${q}:${Se(H,!1)}`)}),P.length>0?`${g}(${P.join("//")})`:g}{const g=function mt(S,w){let g=[];return O(S.children,(P,H)=>{H===qt&&(g=g.concat(w(P,H)))}),O(S.children,(P,H)=>{H!==qt&&(g=g.concat(w(P,H)))}),g}(S,(P,H)=>H===qt?[Se(S.children[qt],!1)]:[`${H}:${Se(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[qt]?`${se(S)}/${g[0]}`:`${se(S)}/(${g.join("//")})`}}function ft(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wt(S){return ft(S).replace(/%3B/gi,";")}function yn(S){return ft(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(S){return decodeURIComponent(S)}function Dt(S){return Lt(S.replace(/\+/g,"%20"))}function pn(S){return`${yn(S.path)}${function $n(S){return Object.keys(S).map(w=>`;${yn(w)}=${yn(S[w])}`).join("")}(S.parameters)}`}const lr=/^[^\/()?;=#]+/;function nr(S){const w=S.match(lr);return w?w[0]:""}const gr=/^[^=?&#]+/,Or=/^[^&#]+/;class Rn{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(w.length>0||Object.keys(g).length>0)&&(P[qt]=new K(w,g)),P}parseSegment(){const w=nr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new ae(Lt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const g=nr(this.remaining);if(!g)return;this.capture(g);let P="";if(this.consumeOptional("=")){const H=nr(this.remaining);H&&(P=H,this.capture(P))}w[Lt(g)]=Lt(P)}parseQueryParam(w){const g=function rr(S){const w=S.match(gr);return w?w[0]:""}(this.remaining);if(!g)return;this.capture(g);let P="";if(this.consumeOptional("=")){const Y=function Pr(S){const w=S.match(Or);return w?w[0]:""}(this.remaining);Y&&(P=Y,this.capture(P))}const H=Dt(g),q=Dt(P);if(w.hasOwnProperty(H)){let Y=w[H];Array.isArray(Y)||(Y=[Y],w[H]=Y),Y.push(q)}else w[H]=q}parseParens(w){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=nr(this.remaining),H=this.remaining[P.length];if("/"!==H&&")"!==H&&";"!==H)throw new Error(`Cannot parse url '${this.url}'`);let q;P.indexOf(":")>-1?(q=P.substr(0,P.indexOf(":")),this.capture(q),this.capture(":")):w&&(q=qt);const Y=this.parseChildren();g[q]=1===Object.keys(Y).length?Y[qt]:new K([],Y),this.consumeOptional("//")}return g}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class ai{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const g=this.pathFromRoot(w);return g.length>1?g[g.length-2]:null}children(w){const g=Sr(w,this._root);return g?g.children.map(P=>P.value):[]}firstChild(w){const g=Sr(w,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(w){const g=vi(w,this._root);return g.length<2?[]:g[g.length-2].children.map(H=>H.value).filter(H=>H!==w)}pathFromRoot(w){return vi(w,this._root).map(g=>g.value)}}function Sr(S,w){if(S===w.value)return w;for(const g of w.children){const P=Sr(S,g);if(P)return P}return null}function vi(S,w){if(S===w.value)return[w];for(const g of w.children){const P=vi(S,g);if(P.length)return P.unshift(w),P}return[]}class yr{constructor(w,g){this.value=w,this.children=g}toString(){return`TreeNode(${this.value})`}}function Ln(S){const w={};return S&&S.children.forEach(g=>w[g.value.outlet]=g),w}class Gr extends ai{constructor(w,g){super(w),this.snapshot=g,bi(this,w)}toString(){return this.snapshot.toString()}}function Di(S,w){const g=function Xn(S,w){const Y=new ir([],{},{},"",{},qt,w,null,S.root,-1,{});return new Ar("",new yr(Y,[]))}(S,w),P=new ke.X([new ae("",{})]),H=new ke.X({}),q=new ke.X({}),Y=new ke.X({}),ce=new ke.X(""),yt=new xn(P,H,Y,ce,q,qt,w,g.root);return yt.snapshot=g.root,new Gr(new yr(yt,[]),g)}class xn{constructor(w,g,P,H,q,Y,ce,yt){this.url=w,this.params=g,this.queryParams=P,this.fragment=H,this.data=q,this.outlet=Y,this.component=ce,this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(w=>At(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(w=>At(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zr(S,w="emptyOnly"){const g=S.pathFromRoot;let P=0;if("always"!==w)for(P=g.length-1;P>=1;){const H=g[P],q=g[P-1];if(H.routeConfig&&""===H.routeConfig.path)P--;else{if(q.component)break;P--}}return function Ii(S){return S.reduce((w,g)=>({params:Object.assign(Object.assign({},w.params),g.params),data:Object.assign(Object.assign({},w.data),g.data),resolve:Object.assign(Object.assign({},w.resolve),g._resolvedData)}),{params:{},data:{},resolve:{}})}(g.slice(P))}class ir{constructor(w,g,P,H,q,Y,ce,yt,hn,Yn,Cn){this.url=w,this.params=g,this.queryParams=P,this.fragment=H,this.data=q,this.outlet=Y,this.component=ce,this.routeConfig=yt,this._urlSegment=hn,this._lastPathIndex=Yn,this._resolve=Cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ar extends ai{constructor(w,g){super(g),this.url=w,bi(this,g)}toString(){return hs(this._root)}}function bi(S,w){w.value._routerState=S,w.children.forEach(g=>bi(S,g))}function hs(S){const w=S.children.length>0?` { ${S.children.map(hs).join(", ")} } `:"";return`${S.value}${w}`}function Br(S){if(S.snapshot){const w=S.snapshot,g=S._futureSnapshot;S.snapshot=g,Hn(w.queryParams,g.queryParams)||S.queryParams.next(g.queryParams),w.fragment!==g.fragment&&S.fragment.next(g.fragment),Hn(w.params,g.params)||S.params.next(g.params),function vn(S,w){if(S.length!==w.length)return!1;for(let g=0;g<S.length;++g)if(!Hn(S[g],w[g]))return!1;return!0}(w.url,g.url)||S.url.next(g.url),Hn(w.data,g.data)||S.data.next(g.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function xr(S,w){const g=Hn(S.params,w.params)&&function oe(S,w){return Le(S,w)&&S.every((g,P)=>Hn(g.parameters,w[P].parameters))}(S.url,w.url);return g&&!(!S.parent!=!w.parent)&&(!S.parent||xr(S.parent,w.parent))}function Nr(S,w,g){if(g&&S.shouldReuseRoute(w.value,g.value.snapshot)){const P=g.value;P._futureSnapshot=w.value;const H=function fi(S,w,g){return w.children.map(P=>{for(const H of g.children)if(S.shouldReuseRoute(P.value,H.value.snapshot))return Nr(S,P,H);return Nr(S,P)})}(S,w,g);return new yr(P,H)}{if(S.shouldAttach(w.value)){const q=S.retrieve(w.value);if(null!==q){const Y=q.route;return Y.value._futureSnapshot=w.value,Y.children=w.children.map(ce=>Nr(S,ce)),Y}}const P=function Cr(S){return new xn(new ke.X(S.url),new ke.X(S.params),new ke.X(S.queryParams),new ke.X(S.fragment),new ke.X(S.data),S.outlet,S.component,S)}(w.value),H=w.children.map(q=>Nr(S,q));return new yr(P,H)}}function fr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Ki(S){return"object"==typeof S&&null!=S&&S.outlets}function Dr(S,w,g,P,H){let q={};return P&&O(P,(Y,ce)=>{q[ce]=Array.isArray(Y)?Y.map(yt=>`${yt}`):`${Y}`}),new qe(g.root===S?w:Fi(g.root,S,w),q,H)}function Fi(S,w,g){const P={};return O(S.children,(H,q)=>{P[q]=H===w?g:Fi(H,w,g)}),new K(S.segments,P)}class Ti{constructor(w,g,P){if(this.isAbsolute=w,this.numberOfDoubleDots=g,this.commands=P,w&&P.length>0&&fr(P[0]))throw new Error("Root segment cannot have matrix parameters");const H=P.find(Ki);if(H&&H!==Ce(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ai{constructor(w,g,P){this.segmentGroup=w,this.processChildren=g,this.index=P}}function ni(S,w,g){if(S||(S=new K([],{})),0===S.segments.length&&S.hasChildren())return Zi(S,w,g);const P=function ps(S,w,g){let P=0,H=w;const q={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(P>=g.length)return q;const Y=S.segments[H],ce=g[P];if(Ki(ce))break;const yt=`${ce}`,hn=P<g.length-1?g[P+1]:null;if(H>0&&void 0===yt)break;if(yt&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!jr(yt,hn,Y))return q;P+=2}else{if(!jr(yt,{},Y))return q;P++}H++}return{match:!0,pathIndex:H,commandIndex:P}}(S,w,g),H=g.slice(P.commandIndex);if(P.match&&P.pathIndex<S.segments.length){const q=new K(S.segments.slice(0,P.pathIndex),{});return q.children[qt]=new K(S.segments.slice(P.pathIndex),S.children),Zi(q,0,H)}return P.match&&0===H.length?new K(S.segments,{}):P.match&&!S.hasChildren()?li(S,w,g):P.match?Zi(S,0,H):li(S,w,g)}function Zi(S,w,g){if(0===g.length)return new K(S.segments,{});{const P=function wi(S){return Ki(S[0])?S[0].outlets:{[qt]:S}}(g),H={};return O(P,(q,Y)=>{"string"==typeof q&&(q=[q]),null!==q&&(H[Y]=ni(S.children[Y],w,q))}),O(S.children,(q,Y)=>{void 0===P[Y]&&(H[Y]=q)}),new K(S.segments,H)}}function li(S,w,g){const P=S.segments.slice(0,w);let H=0;for(;H<g.length;){const q=g[H];if(Ki(q)){const yt=Ui(q.outlets);return new K(P,yt)}if(0===H&&fr(g[0])){P.push(new ae(S.segments[w].path,Vi(g[0]))),H++;continue}const Y=Ki(q)?q.outlets[qt]:`${q}`,ce=H<g.length-1?g[H+1]:null;Y&&ce&&fr(ce)?(P.push(new ae(Y,Vi(ce))),H+=2):(P.push(new ae(Y,{})),H++)}return new K(P,{})}function Ui(S){const w={};return O(S,(g,P)=>{"string"==typeof g&&(g=[g]),null!==g&&(w[P]=li(new K([],{}),0,g))}),w}function Vi(S){const w={};return O(S,(g,P)=>w[P]=`${g}`),w}function jr(S,w,g){return S==g.path&&Hn(w,g.parameters)}class Rr{constructor(w,g,P,H){this.routeReuseStrategy=w,this.futureState=g,this.currState=P,this.forwardEvent=H}activate(w){const g=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,P,w),Br(this.futureState.root),this.activateChildRoutes(g,P,w)}deactivateChildRoutes(w,g,P){const H=Ln(g);w.children.forEach(q=>{const Y=q.value.outlet;this.deactivateRoutes(q,H[Y],P),delete H[Y]}),O(H,(q,Y)=>{this.deactivateRouteAndItsChildren(q,P)})}deactivateRoutes(w,g,P){const H=w.value,q=g?g.value:null;if(H===q)if(H.component){const Y=P.getContext(H.outlet);Y&&this.deactivateChildRoutes(w,g,Y.children)}else this.deactivateChildRoutes(w,g,P);else q&&this.deactivateRouteAndItsChildren(g,P)}deactivateRouteAndItsChildren(w,g){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,g):this.deactivateRouteAndOutlet(w,g)}detachAndStoreRouteSubtree(w,g){const P=g.getContext(w.value.outlet),H=P&&w.value.component?P.children:g,q=Ln(w);for(const Y of Object.keys(q))this.deactivateRouteAndItsChildren(q[Y],H);if(P&&P.outlet){const Y=P.outlet.detach(),ce=P.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Y,route:w,contexts:ce})}}deactivateRouteAndOutlet(w,g){const P=g.getContext(w.value.outlet),H=P&&w.value.component?P.children:g,q=Ln(w);for(const Y of Object.keys(q))this.deactivateRouteAndItsChildren(q[Y],H);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(w,g,P){const H=Ln(g);w.children.forEach(q=>{this.activateRoutes(q,H[q.value.outlet],P),this.forwardEvent(new Qt(q.value.snapshot))}),w.children.length&&this.forwardEvent(new Fn(w.value.snapshot))}activateRoutes(w,g,P){const H=w.value,q=g?g.value:null;if(Br(H),H===q)if(H.component){const Y=P.getOrCreateContext(H.outlet);this.activateChildRoutes(w,g,Y.children)}else this.activateChildRoutes(w,g,P);else if(H.component){const Y=P.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const ce=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Y.children.onOutletReAttached(ce.contexts),Y.attachRef=ce.componentRef,Y.route=ce.route.value,Y.outlet&&Y.outlet.attach(ce.componentRef,ce.route.value),Br(ce.route.value),this.activateChildRoutes(w,null,Y.children)}else{const ce=function ji(S){for(let w=S.parent;w;w=w.parent){const g=w.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig;if(g&&g.component)return null}return null}(H.snapshot),yt=ce?ce.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=H,Y.resolver=yt,Y.outlet&&Y.outlet.activateWith(H,yt),this.activateChildRoutes(w,null,Y.children)}}else this.activateChildRoutes(w,null,P)}}class Mi{constructor(w,g){this.routes=w,this.module=g}}function ui(S){return"function"==typeof S}function ri(S){return S instanceof qe}const Yr=Symbol("INITIAL_VALUE");function Wn(){return(0,$e.w)(S=>function ie(...S){const w=(0,Ve.yG)(S),g=(0,Ve.jO)(S),{args:P,keys:H}=(0,W.D)(S);if(0===P.length)return(0,j.D)([],w);const q=new D.y(function be(S,w,g=Re.y){return P=>{ot(w,()=>{const{length:H}=S,q=new Array(H);let Y=H,ce=H;for(let yt=0;yt<H;yt++)ot(w,()=>{const hn=(0,j.D)(S[yt],w);let Yn=!1;hn.subscribe((0,Ae.x)(P,Cn=>{q[yt]=Cn,Yn||(Yn=!0,ce--),ce||P.next(g(q.slice()))},()=>{--Y||P.complete()}))},P)},P)}}(P,w,H?Y=>(0,me.n)(H,Y):Re.y));return g?q.pipe((0,Te.Z)(g)):q}(S.map(w=>w.pipe((0,Et.q)(1),(0,Nt.O)(Yr)))).pipe((0,Zt.R)((w,g)=>{let P=!1;return g.reduce((H,q,Y)=>H!==Yr?H:(q===Yr&&(P=!0),P||!1!==q&&Y!==g.length-1&&!ri(q)?H:q),w)},Yr),(0,Fe.h)(w=>w!==Yr),(0,Be.U)(w=>ri(w)?w:!0===w),(0,Et.q)(1)))}class Si{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new is,this.attachRef=null}}class is{constructor(){this.contexts=new Map}onChildOutletCreated(w,g){const P=this.getOrCreateContext(w);P.outlet=g,this.contexts.set(w,P)}onChildOutletDestroyed(w){const g=this.getContext(w);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let g=this.getContext(w);return g||(g=new Si,this.contexts.set(w,g)),g}getContext(w){return this.contexts.get(w)||null}}let Hi=(()=>{class S{constructor(g,P,H,q,Y){this.parentContexts=g,this.location=P,this.resolver=H,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=q||qt,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,P){this.activated=g,this._activatedRoute=P,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;const Y=(P=P||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),ce=this.parentContexts.getOrCreateContext(this.name).children,yt=new $i(g,ce,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,yt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(g){return new(g||S)(c.Y36(is),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},S.\u0275dir=c.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class $i{constructor(w,g,P){this.route=w,this.childContexts=g,this.parent=P}get(w,g){return w===xn?this.route:w===is?this.childContexts:this.parent.get(w,g)}}let ne=(()=>{class S{}return S.\u0275fac=function(g){return new(g||S)},S.\u0275cmp=c.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(g,P){1&g&&c._UZ(0,"router-outlet")},directives:[Hi],encapsulation:2}),S})();function y(S,w=""){for(let g=0;g<S.length;g++){const P=S[g];_(P,L(w,P))}}function _(S,w){S.children&&y(S.children,w)}function L(S,w){return w?S||w.path?S&&!w.path?`${S}/`:!S&&w.path?w.path:`${S}/${w.path}`:"":S}function Z(S){const w=S.children&&S.children.map(Z),g=w?Object.assign(Object.assign({},S),{children:w}):Object.assign({},S);return!g.component&&(w||g.loadChildren)&&g.outlet&&g.outlet!==qt&&(g.component=ne),g}function re(S){return S.outlet||qt}function E(S,w){const g=S.filter(P=>re(P)===w);return g.push(...S.filter(P=>re(P)!==w)),g}const F={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function I(S,w,g){var P;if(""===w.path)return"full"===w.pathMatch&&(S.hasChildren()||g.length>0)?Object.assign({},F):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const q=(w.matcher||fn)(g,S,w);if(!q)return Object.assign({},F);const Y={};O(q.posParams,(yt,hn)=>{Y[hn]=yt.path});const ce=q.consumed.length>0?Object.assign(Object.assign({},Y),q.consumed[q.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:q.consumed,lastChild:q.consumed.length,parameters:ce,positionalParamSegments:null!==(P=q.posParams)&&void 0!==P?P:{}}}function $(S,w,g,P,H="corrected"){if(g.length>0&&function ht(S,w,g){return g.some(P=>$t(S,w,P)&&re(P)!==qt)}(S,g,P)){const Y=new K(w,function Je(S,w,g,P){const H={};H[qt]=P,P._sourceSegment=S,P._segmentIndexShift=w.length;for(const q of g)if(""===q.path&&re(q)!==qt){const Y=new K([],{});Y._sourceSegment=S,Y._segmentIndexShift=w.length,H[re(q)]=Y}return H}(S,w,P,new K(g,S.children)));return Y._sourceSegment=S,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:[]}}if(0===g.length&&function Ot(S,w,g){return g.some(P=>$t(S,w,P))}(S,g,P)){const Y=new K(S.segments,function pe(S,w,g,P,H,q){const Y={};for(const ce of P)if($t(S,g,ce)&&!H[re(ce)]){const yt=new K([],{});yt._sourceSegment=S,yt._segmentIndexShift="legacy"===q?S.segments.length:w.length,Y[re(ce)]=yt}return Object.assign(Object.assign({},H),Y)}(S,w,g,P,S.children,H));return Y._sourceSegment=S,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:g}}const q=new K(S.segments,S.children);return q._sourceSegment=S,q._segmentIndexShift=w.length,{segmentGroup:q,slicedSegments:g}}function $t(S,w,g){return(!(S.hasChildren()||w.length>0)||"full"!==g.pathMatch)&&""===g.path}function Yt(S,w,g,P){return!!(re(S)===P||P!==qt&&$t(w,g,S))&&("**"===S.path||I(w,S,g).matched)}function sn(S,w,g){return 0===w.length&&!S.children[g]}class mn{constructor(w){this.segmentGroup=w||null}}class Vn{constructor(w){this.urlTree=w}}function V(S){return new D.y(w=>w.error(new mn(S)))}function k(S){return new D.y(w=>w.error(new Vn(S)))}function N(S){return new D.y(w=>w.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class Jt{constructor(w,g,P,H,q){this.configLoader=g,this.urlSerializer=P,this.urlTree=H,this.config=q,this.allowRedirects=!0,this.ngModule=w.get(c.h0i)}apply(){const w=$(this.urlTree.root,[],[],this.config).segmentGroup,g=new K(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,g,qt).pipe((0,Be.U)(q=>this.createUrlTree(dr(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,dt.K)(q=>{if(q instanceof Vn)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof mn?this.noMatchError(q):q}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,qt).pipe((0,Be.U)(H=>this.createUrlTree(dr(H),w.queryParams,w.fragment))).pipe((0,dt.K)(H=>{throw H instanceof mn?this.noMatchError(H):H}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,g,P){const H=w.segments.length>0?new K([],{[qt]:w}):w;return new qe(H,g,P)}expandSegmentGroup(w,g,P,H){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(w,g,P).pipe((0,Be.U)(q=>new K([],q))):this.expandSegment(w,P,g,P.segments,H,!0)}expandChildren(w,g,P){const H=[];for(const q of Object.keys(P.children))"primary"===q?H.unshift(q):H.push(q);return(0,j.D)(H).pipe((0,rt.b)(q=>{const Y=P.children[q],ce=E(g,q);return this.expandSegmentGroup(w,ce,Y,q).pipe((0,Be.U)(yt=>({segment:yt,outlet:q})))}),(0,Zt.R)((q,Y)=>(q[Y.outlet]=Y.segment,q),{}),function at(S,w){const g=arguments.length>=2;return P=>P.pipe(S?(0,Fe.h)((H,q)=>S(H,q,P)):Re.y,Me(1),g?(0,We.d)(w):(0,He.T)(()=>new ye.K))}())}expandSegment(w,g,P,H,q,Y){return(0,j.D)(P).pipe((0,rt.b)(ce=>this.expandSegmentAgainstRoute(w,g,P,ce,H,q,Y).pipe((0,dt.K)(hn=>{if(hn instanceof mn)return(0,tt.of)(null);throw hn}))),(0,Ct.P)(ce=>!!ce),(0,dt.K)((ce,yt)=>{if(ce instanceof ye.K||"EmptyError"===ce.name){if(sn(g,H,q))return(0,tt.of)(new K([],{}));throw new mn(g)}throw ce}))}expandSegmentAgainstRoute(w,g,P,H,q,Y,ce){return Yt(H,g,q,Y)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(w,g,H,q,Y):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,g,P,H,q,Y):V(g):V(g)}expandSegmentAgainstRouteUsingRedirect(w,g,P,H,q,Y){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,P,H,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(w,g,P,H,q,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,g,P,H){const q=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?k(q):this.lineralizeSegments(P,q).pipe((0,_t.z)(Y=>{const ce=new K(Y,{});return this.expandSegment(w,ce,g,Y,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,g,P,H,q,Y){const{matched:ce,consumedSegments:yt,lastChild:hn,positionalParamSegments:Yn}=I(g,H,q);if(!ce)return V(g);const Cn=this.applyRedirectCommands(yt,H.redirectTo,Yn);return H.redirectTo.startsWith("/")?k(Cn):this.lineralizeSegments(H,Cn).pipe((0,_t.z)(_r=>this.expandSegment(w,g,P,_r.concat(q.slice(hn)),Y,!1)))}matchSegmentAgainstRoute(w,g,P,H,q){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,tt.of)(P._loadedConfig):this.configLoader.load(w.injector,P)).pipe((0,Be.U)(_r=>(P._loadedConfig=_r,new K(H,{})))):(0,tt.of)(new K(H,{}));const{matched:Y,consumedSegments:ce,lastChild:yt}=I(g,P,H);if(!Y)return V(g);const hn=H.slice(yt);return this.getChildConfig(w,P,H).pipe((0,_t.z)(Cn=>{const _r=Cn.module,vr=Cn.routes,{segmentGroup:Ys,slicedSegments:Gi}=$(g,ce,hn,vr),Ds=new K(Ys.segments,Ys.children);if(0===Gi.length&&Ds.hasChildren())return this.expandChildren(_r,vr,Ds).pipe((0,Be.U)(zi=>new K(ce,zi)));if(0===vr.length&&0===Gi.length)return(0,tt.of)(new K(ce,{}));const Ns=re(P)===q;return this.expandSegment(_r,Ds,vr,Gi,Ns?qt:q,!0).pipe((0,Be.U)(Yi=>new K(ce.concat(Yi.segments),Yi.children)))}))}getChildConfig(w,g,P){return g.children?(0,tt.of)(new Mi(g.children,w)):g.loadChildren?void 0!==g._loadedConfig?(0,tt.of)(g._loadedConfig):this.runCanLoadGuards(w.injector,g,P).pipe((0,_t.z)(H=>H?this.configLoader.load(w.injector,g).pipe((0,Be.U)(q=>(g._loadedConfig=q,q))):function te(S){return new D.y(w=>w.error(it(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`)))}(g))):(0,tt.of)(new Mi([],w))}runCanLoadGuards(w,g,P){const H=g.canLoad;if(!H||0===H.length)return(0,tt.of)(!0);const q=H.map(Y=>{const ce=w.get(Y);let yt;if(function Es(S){return S&&ui(S.canLoad)}(ce))yt=ce.canLoad(g,P);else{if(!ui(ce))throw new Error("Invalid CanLoad guard");yt=ce(g,P)}return x(yt)});return(0,tt.of)(q).pipe(Wn(),(0,Ft.b)(Y=>{if(!ri(Y))return;const ce=it(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw ce.url=Y,ce}),(0,Be.U)(Y=>!0===Y))}lineralizeSegments(w,g){let P=[],H=g.root;for(;;){if(P=P.concat(H.segments),0===H.numberOfChildren)return(0,tt.of)(P);if(H.numberOfChildren>1||!H.children[qt])return N(w.redirectTo);H=H.children[qt]}}applyRedirectCommands(w,g,P){return this.applyRedirectCreatreUrlTree(g,this.urlSerializer.parse(g),w,P)}applyRedirectCreatreUrlTree(w,g,P,H){const q=this.createSegmentGroup(w,g.root,P,H);return new qe(q,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(w,g){const P={};return O(w,(H,q)=>{if("string"==typeof H&&H.startsWith(":")){const ce=H.substring(1);P[q]=g[ce]}else P[q]=H}),P}createSegmentGroup(w,g,P,H){const q=this.createSegments(w,g.segments,P,H);let Y={};return O(g.children,(ce,yt)=>{Y[yt]=this.createSegmentGroup(w,ce,P,H)}),new K(q,Y)}createSegments(w,g,P,H){return g.map(q=>q.path.startsWith(":")?this.findPosParam(w,q,H):this.findOrReturn(q,P))}findPosParam(w,g,P){const H=P[g.path.substring(1)];if(!H)throw new Error(`Cannot redirect to '${w}'. Cannot find '${g.path}'.`);return H}findOrReturn(w,g){let P=0;for(const H of g){if(H.path===w.path)return g.splice(P),H;P++}return w}}function dr(S){const w={};for(const P of Object.keys(S.children)){const q=dr(S.children[P]);(q.segments.length>0||q.hasChildren())&&(w[P]=q)}return function ur(S){if(1===S.numberOfChildren&&S.children[qt]){const w=S.children[qt];return new K(S.segments.concat(w.segments),w.children)}return S}(new K(S.segments,w))}class B{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class ue{constructor(w,g){this.component=w,this.route=g}}function Oe(S,w,g){const P=S._root;return bt(P,w?w._root:null,g,[P.value])}function Ue(S,w,g){const P=function gt(S){if(!S)return null;for(let w=S.parent;w;w=w.parent){const g=w.routeConfig;if(g&&g._loadedConfig)return g._loadedConfig}return null}(w);return(P?P.module.injector:g).get(S)}function bt(S,w,g,P,H={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ln(w);return S.children.forEach(Y=>{(function Mt(S,w,g,P,H={canDeactivateChecks:[],canActivateChecks:[]}){const q=S.value,Y=w?w.value:null,ce=g?g.getContext(S.value.outlet):null;if(Y&&q.routeConfig===Y.routeConfig){const yt=function gn(S,w,g){if("function"==typeof g)return g(S,w);switch(g){case"pathParamsChange":return!Le(S.url,w.url);case"pathParamsOrQueryParamsChange":return!Le(S.url,w.url)||!Hn(S.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(S,w)||!Hn(S.queryParams,w.queryParams);default:return!xr(S,w)}}(Y,q,q.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new B(P)):(q.data=Y.data,q._resolvedData=Y._resolvedData),bt(S,w,q.component?ce?ce.children:null:g,P,H),yt&&ce&&ce.outlet&&ce.outlet.isActivated&&H.canDeactivateChecks.push(new ue(ce.outlet.component,Y))}else Y&&bn(w,ce,H),H.canActivateChecks.push(new B(P)),bt(S,null,q.component?ce?ce.children:null:g,P,H)})(Y,q[Y.value.outlet],g,P.concat([Y.value]),H),delete q[Y.value.outlet]}),O(q,(Y,ce)=>bn(Y,g.getContext(ce),H)),H}function bn(S,w,g){const P=Ln(S),H=S.value;O(P,(q,Y)=>{bn(q,H.component?w?w.children.getContext(Y):null:w,g)}),g.canDeactivateChecks.push(new ue(H.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,H))}class mr{}function cr(S){return new D.y(w=>w.error(S))}class Ws{constructor(w,g,P,H,q,Y){this.rootComponentType=w,this.config=g,this.urlTree=P,this.url=H,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=Y}recognize(){const w=$(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,g=this.processSegmentGroup(this.config,w,qt);if(null===g)return null;const P=new ir([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new yr(P,g),q=new Ar(this.url,H);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(w){const g=w.value,P=zr(g,this.paramsInheritanceStrategy);g.params=Object.freeze(P.params),g.data=Object.freeze(P.data),w.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(w,g,P){return 0===g.segments.length&&g.hasChildren()?this.processChildren(w,g):this.processSegment(w,g,g.segments,P)}processChildren(w,g){const P=[];for(const q of Object.keys(g.children)){const Y=g.children[q],ce=E(w,q),yt=this.processSegmentGroup(ce,Y,q);if(null===yt)return null;P.push(...yt)}const H=Sa(P);return function Ir(S){S.sort((w,g)=>w.value.outlet===qt?-1:g.value.outlet===qt?1:w.value.outlet.localeCompare(g.value.outlet))}(H),H}processSegment(w,g,P,H){for(const q of w){const Y=this.processSegmentAgainstRoute(q,g,P,H);if(null!==Y)return Y}return sn(g,P,H)?[]:null}processSegmentAgainstRoute(w,g,P,H){if(w.redirectTo||!Yt(w,g,P,H))return null;let q,Y=[],ce=[];if("**"===w.path){const vr=P.length>0?Ce(P).parameters:{};q=new ir(P,vr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ra(w),re(w),w.component,w,yl(g),Qo(g)+P.length,No(w))}else{const vr=I(g,w,P);if(!vr.matched)return null;Y=vr.consumedSegments,ce=P.slice(vr.lastChild),q=new ir(Y,vr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ra(w),re(w),w.component,w,yl(g),Qo(g)+Y.length,No(w))}const yt=function qs(S){return S.children?S.children:S.loadChildren?S._loadedConfig.routes:[]}(w),{segmentGroup:hn,slicedSegments:Yn}=$(g,Y,ce,yt.filter(vr=>void 0===vr.redirectTo),this.relativeLinkResolution);if(0===Yn.length&&hn.hasChildren()){const vr=this.processChildren(yt,hn);return null===vr?null:[new yr(q,vr)]}if(0===yt.length&&0===Yn.length)return[new yr(q,[])];const Cn=re(w)===H,_r=this.processSegment(yt,hn,Yn,Cn?qt:H);return null===_r?null:[new yr(q,_r)]}}function co(S){const w=S.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Sa(S){const w=[],g=new Set;for(const P of S){if(!co(P)){w.push(P);continue}const H=w.find(q=>P.value.routeConfig===q.value.routeConfig);void 0!==H?(H.children.push(...P.children),g.add(H)):w.push(P)}for(const P of g){const H=Sa(P.children);w.push(new yr(P.value,H))}return w.filter(P=>!g.has(P))}function yl(S){let w=S;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Qo(S){let w=S,g=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,g+=w._segmentIndexShift?w._segmentIndexShift:0;return g-1}function Ra(S){return S.data||{}}function No(S){return S.resolve||{}}function vl(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function fo(S){return(0,$e.w)(w=>{const g=S(w);return g?(0,j.D)(g).pipe((0,Be.U)(()=>w)):(0,tt.of)(w)})}class xs extends class xi{shouldDetach(w){return!1}store(w,g){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,g){return w.routeConfig===g.routeConfig}}{}const Fr=new c.OlP("ROUTES");class Oa{constructor(w,g,P,H){this.injector=w,this.compiler=g,this.onLoadStartListener=P,this.onLoadEndListener=H}load(w,g){if(g._loader$)return g._loader$;this.onLoadStartListener&&this.onLoadStartListener(g);const H=this.loadModuleFactory(g.loadChildren).pipe((0,Be.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(g);const Y=q.create(w);return new Mi(In(Y.injector.get(Fr,void 0,c.XFs.Self|c.XFs.Optional)).map(Z),Y)}),(0,dt.K)(q=>{throw g._loader$=void 0,q}));return g._loader$=new De(H,()=>new we.x).pipe(ut()),g._loader$}loadModuleFactory(w){return x(w()).pipe((0,_t.z)(g=>g instanceof c.YKP?(0,tt.of)(g):(0,j.D)(this.compiler.compileModuleAsync(g))))}}class mu{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,g){return w}}function tc(S){throw S}function po(S,w,g){return w.parse("/")}function Vs(S,w){return(0,tt.of)(null)}const mo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class S{constructor(g,P,H,q,Y,ce,yt){this.rootComponentType=g,this.urlSerializer=P,this.rootContexts=H,this.location=q,this.config=yt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.x,this.errorHandler=tc,this.malformedUriErrorHandler=po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vs,afterPreactivation:Vs},this.urlHandlingStrategy=new mu,this.routeReuseStrategy=new xs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(c.h0i),this.console=Y.get(c.c2e);const Cn=Y.get(c.R0b);this.isNgZoneEnabled=Cn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(yt),this.currentUrlTree=function M(){return new qe(new K([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Oa(Y,ce,_r=>this.triggerEvent(new zn(_r)),_r=>this.triggerEvent(new kn(_r))),this.routerState=Di(this.currentUrlTree,this.rootComponentType),this.transitions=new ke.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var g;return null===(g=this.location.getState())||void 0===g?void 0:g.\u0275routerPageId}setupNavigations(g){const P=this.events;return g.pipe((0,Fe.h)(H=>0!==H.id),(0,Be.U)(H=>Object.assign(Object.assign({},H),{extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,$e.w)(H=>{let q=!1,Y=!1;return(0,tt.of)(H).pipe((0,Ft.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.currentRawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,$e.w)(ce=>{const yt=this.browserUrlTree.toString(),hn=!this.navigated||ce.extractedUrl.toString()!==yt||yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return Zs(ce.source)&&(this.browserUrlTree=ce.extractedUrl),(0,tt.of)(ce).pipe((0,$e.w)(Cn=>{const _r=this.transitions.getValue();return P.next(new Zn(Cn.id,this.serializeUrl(Cn.extractedUrl),Cn.source,Cn.restoredState)),_r!==this.transitions.getValue()?ze.E:Promise.resolve(Cn)}),function G(S,w,g,P){return(0,$e.w)(H=>function Qe(S,w,g,P,H){return new Jt(S,w,g,P,H).apply()}(S,w,g,H.extractedUrl,P).pipe((0,Be.U)(q=>Object.assign(Object.assign({},H),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ft.b)(Cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Cn.urlAfterRedirects})}),function ho(S,w,g,P,H){return(0,_t.z)(q=>function Wr(S,w,g,P,H="emptyOnly",q="legacy"){try{const Y=new Ws(S,w,g,P,H,q).recognize();return null===Y?cr(new mr):(0,tt.of)(Y)}catch(Y){return cr(Y)}}(S,w,q.urlAfterRedirects,g(q.urlAfterRedirects),P,H).pipe((0,Be.U)(Y=>Object.assign(Object.assign({},q),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,Cn=>this.serializeUrl(Cn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ft.b)(Cn=>{if("eager"===this.urlUpdateStrategy){if(!Cn.extras.skipLocationChange){const vr=this.urlHandlingStrategy.merge(Cn.urlAfterRedirects,Cn.rawUrl);this.setBrowserUrl(vr,Cn)}this.browserUrlTree=Cn.urlAfterRedirects}const _r=new Tn(Cn.id,this.serializeUrl(Cn.extractedUrl),this.serializeUrl(Cn.urlAfterRedirects),Cn.targetSnapshot);P.next(_r)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_r,extractedUrl:vr,source:Ys,restoredState:Gi,extras:Ds}=ce,Ns=new Zn(_r,this.serializeUrl(vr),Ys,Gi);P.next(Ns);const mi=Di(vr,this.rootComponentType).snapshot;return(0,tt.of)(Object.assign(Object.assign({},ce),{targetSnapshot:mi,urlAfterRedirects:vr,extras:Object.assign(Object.assign({},Ds),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ce.rawUrl,ce.resolve(null),ze.E}),fo(ce=>{const{targetSnapshot:yt,id:hn,extractedUrl:Yn,rawUrl:Cn,extras:{skipLocationChange:_r,replaceUrl:vr}}=ce;return this.hooks.beforePreactivation(yt,{navigationId:hn,appliedUrlTree:Yn,rawUrlTree:Cn,skipLocationChange:!!_r,replaceUrl:!!vr})}),(0,Ft.b)(ce=>{const yt=new An(ce.id,this.serializeUrl(ce.extractedUrl),this.serializeUrl(ce.urlAfterRedirects),ce.targetSnapshot);this.triggerEvent(yt)}),(0,Be.U)(ce=>Object.assign(Object.assign({},ce),{guards:Oe(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)})),function Gn(S,w){return(0,_t.z)(g=>{const{targetSnapshot:P,currentSnapshot:H,guards:{canActivateChecks:q,canDeactivateChecks:Y}}=g;return 0===Y.length&&0===q.length?(0,tt.of)(Object.assign(Object.assign({},g),{guardsResult:!0})):function er(S,w,g,P){return(0,j.D)(S).pipe((0,_t.z)(H=>function pr(S,w,g,P,H){const q=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,tt.of)(!0);const Y=q.map(ce=>{const yt=Ue(ce,w,H);let hn;if(function Zr(S){return S&&ui(S.canDeactivate)}(yt))hn=x(yt.canDeactivate(S,w,g,P));else{if(!ui(yt))throw new Error("Invalid CanDeactivate guard");hn=x(yt(S,w,g,P))}return hn.pipe((0,Ct.P)())});return(0,tt.of)(Y).pipe(Wn())}(H.component,H.route,g,w,P)),(0,Ct.P)(H=>!0!==H,!0))}(Y,P,H,S).pipe((0,_t.z)(ce=>ce&&function bs(S){return"boolean"==typeof S}(ce)?function qn(S,w,g,P){return(0,j.D)(w).pipe((0,rt.b)(H=>(0,he.z)(function kr(S,w){return null!==S&&w&&w(new Mn(S)),(0,tt.of)(!0)}(H.route.parent,P),function Qr(S,w){return null!==S&&w&&w(new Xt(S)),(0,tt.of)(!0)}(H.route,P),function sr(S,w,g){const P=w[w.length-1],q=w.slice(0,w.length-1).reverse().map(Y=>function ge(S){const w=S.routeConfig?S.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:S,guards:w}:null}(Y)).filter(Y=>null!==Y).map(Y=>Ge(()=>{const ce=Y.guards.map(yt=>{const hn=Ue(yt,Y.node,g);let Yn;if(function ws(S){return S&&ui(S.canActivateChild)}(hn))Yn=x(hn.canActivateChild(P,S));else{if(!ui(hn))throw new Error("Invalid CanActivateChild guard");Yn=x(hn(P,S))}return Yn.pipe((0,Ct.P)())});return(0,tt.of)(ce).pipe(Wn())}));return(0,tt.of)(q).pipe(Wn())}(S,H.path,g),function jn(S,w,g){const P=w.routeConfig?w.routeConfig.canActivate:null;if(!P||0===P.length)return(0,tt.of)(!0);const H=P.map(q=>Ge(()=>{const Y=Ue(q,w,g);let ce;if(function pi(S){return S&&ui(S.canActivate)}(Y))ce=x(Y.canActivate(w,S));else{if(!ui(Y))throw new Error("Invalid CanActivate guard");ce=x(Y(w,S))}return ce.pipe((0,Ct.P)())}));return(0,tt.of)(H).pipe(Wn())}(S,H.route,g))),(0,Ct.P)(H=>!0!==H,!0))}(P,q,S,w):(0,tt.of)(ce)),(0,Be.U)(ce=>Object.assign(Object.assign({},g),{guardsResult:ce})))})}(this.ngModule.injector,ce=>this.triggerEvent(ce)),(0,Ft.b)(ce=>{if(ri(ce.guardsResult)){const hn=it(`Redirecting to "${this.serializeUrl(ce.guardsResult)}"`);throw hn.url=ce.guardsResult,hn}const yt=new _n(ce.id,this.serializeUrl(ce.extractedUrl),this.serializeUrl(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.triggerEvent(yt)}),(0,Fe.h)(ce=>!!ce.guardsResult||(this.restoreHistory(ce),this.cancelNavigationTransition(ce,""),!1)),fo(ce=>{if(ce.guards.canActivateChecks.length)return(0,tt.of)(ce).pipe((0,Ft.b)(yt=>{const hn=new wn(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(hn)}),(0,$e.w)(yt=>{let hn=!1;return(0,tt.of)(yt).pipe(function Ks(S,w){return(0,_t.z)(g=>{const{targetSnapshot:P,guards:{canActivateChecks:H}}=g;if(!H.length)return(0,tt.of)(g);let q=0;return(0,j.D)(H).pipe((0,rt.b)(Y=>function Cs(S,w,g,P){return function _l(S,w,g,P){const H=vl(S);if(0===H.length)return(0,tt.of)({});const q={};return(0,j.D)(H).pipe((0,_t.z)(Y=>function ko(S,w,g,P){const H=Ue(S,w,P);return x(H.resolve?H.resolve(w,g):H(w,g))}(S[Y],w,g,P).pipe((0,Ft.b)(ce=>{q[Y]=ce}))),Me(1),(0,_t.z)(()=>vl(q).length===H.length?(0,tt.of)(q):ze.E))}(S._resolve,S,w,P).pipe((0,Be.U)(q=>(S._resolvedData=q,S.data=Object.assign(Object.assign({},S.data),zr(S,g).resolve),null)))}(Y.route,P,S,w)),(0,Ft.b)(()=>q++),Me(1),(0,_t.z)(Y=>q===H.length?(0,tt.of)(g):ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ft.b)({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"At least one route resolver didn't emit any value."))}}))}),(0,Ft.b)(yt=>{const hn=new Ht(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(hn)}))}),fo(ce=>{const{targetSnapshot:yt,id:hn,extractedUrl:Yn,rawUrl:Cn,extras:{skipLocationChange:_r,replaceUrl:vr}}=ce;return this.hooks.afterPreactivation(yt,{navigationId:hn,appliedUrlTree:Yn,rawUrlTree:Cn,skipLocationChange:!!_r,replaceUrl:!!vr})}),(0,Be.U)(ce=>{const yt=function Ei(S,w,g){const P=Nr(S,w._root,g?g._root:void 0);return new Gr(P,w)}(this.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return Object.assign(Object.assign({},ce),{targetRouterState:yt})}),(0,Ft.b)(ce=>{this.currentUrlTree=ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),this.routerState=ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ce),this.browserUrlTree=ce.urlAfterRedirects)}),((S,w,g)=>(0,Be.U)(P=>(new Rr(w,P.targetRouterState,P.currentRouterState,g).activate(S),P)))(this.rootContexts,this.routeReuseStrategy,ce=>this.triggerEvent(ce)),(0,Ft.b)({next(){q=!0},complete(){q=!0}}),(0,Wt.x)(()=>{var ce;q||Y||this.cancelNavigationTransition(H,`Navigation ID ${H.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id)===H.id&&(this.currentNavigation=null)}),(0,dt.K)(ce=>{if(Y=!0,function ln(S){return S&&S[je]}(ce)){const yt=ri(ce.url);yt||(this.navigated=!0,this.restoreHistory(H,!0));const hn=new Pn(H.id,this.serializeUrl(H.extractedUrl),ce.message);P.next(hn),yt?setTimeout(()=>{const Yn=this.urlHandlingStrategy.merge(ce.url,this.rawUrlTree),Cn={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zs(H.source)};this.scheduleNavigation(Yn,"imperative",null,Cn,{resolve:H.resolve,reject:H.reject,promise:H.promise})},0):H.resolve(!1)}else{this.restoreHistory(H,!0);const yt=new On(H.id,this.serializeUrl(H.extractedUrl),ce);P.next(yt);try{H.resolve(this.errorHandler(ce))}catch(hn){H.reject(hn)}}return ze.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),g))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const P="popstate"===g.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var H;const q={replaceUrl:!0},Y=(null===(H=g.state)||void 0===H?void 0:H.navigationId)?g.state:null;if(Y){const yt=Object.assign({},Y);delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(q.state=yt)}const ce=this.parseUrl(g.url);this.scheduleNavigation(ce,P,Y,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){y(g),this.config=g.map(Z),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,P={}){const{relativeTo:H,queryParams:q,fragment:Y,queryParamsHandling:ce,preserveFragment:yt}=P,hn=H||this.routerState.root,Yn=yt?this.currentUrlTree.fragment:Y;let Cn=null;switch(ce){case"merge":Cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":Cn=this.currentUrlTree.queryParams;break;default:Cn=q||null}return null!==Cn&&(Cn=this.removeEmptyProps(Cn)),function ti(S,w,g,P,H){if(0===g.length)return Dr(w.root,w.root,w,P,H);const q=function Li(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Ti(!0,0,S);let w=0,g=!1;const P=S.reduce((H,q,Y)=>{if("object"==typeof q&&null!=q){if(q.outlets){const ce={};return O(q.outlets,(yt,hn)=>{ce[hn]="string"==typeof yt?yt.split("/"):yt}),[...H,{outlets:ce}]}if(q.segmentPath)return[...H,q.segmentPath]}return"string"!=typeof q?[...H,q]:0===Y?(q.split("/").forEach((ce,yt)=>{0==yt&&"."===ce||(0==yt&&""===ce?g=!0:".."===ce?w++:""!=ce&&H.push(ce))}),H):[...H,q]},[]);return new Ti(g,w,P)}(g);if(q.toRoot())return Dr(w.root,new K([],{}),w,P,H);const Y=function fs(S,w,g){if(S.isAbsolute)return new Ai(w.root,!0,0);if(-1===g.snapshot._lastPathIndex){const q=g.snapshot._urlSegment;return new Ai(q,q===w.root,0)}const P=fr(S.commands[0])?0:1;return function Us(S,w,g){let P=S,H=w,q=g;for(;q>H;){if(q-=H,P=P.parent,!P)throw new Error("Invalid number of '../'");H=P.segments.length}return new Ai(P,!1,H-q)}(g.snapshot._urlSegment,g.snapshot._lastPathIndex+P,S.numberOfDoubleDots)}(q,w,S),ce=Y.processChildren?Zi(Y.segmentGroup,Y.index,q.commands):ni(Y.segmentGroup,Y.index,q.commands);return Dr(Y.segmentGroup,ce,w,P,H)}(hn,this.currentUrlTree,g,Cn,null!=Yn?Yn:null)}navigateByUrl(g,P={skipLocationChange:!1}){const H=ri(g)?g:this.parseUrl(g),q=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,P)}navigate(g,P={skipLocationChange:!1}){return function Pa(S){for(let w=0;w<S.length;w++){const g=S[w];if(null==g)throw new Error(`The requested path contains ${g} segment at index ${w}`)}}(g),this.navigateByUrl(this.createUrlTree(g,P),P)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let P;try{P=this.urlSerializer.parse(g)}catch(H){P=this.malformedUriErrorHandler(H,this.urlSerializer,g)}return P}isActive(g,P){let H;if(H=!0===P?Object.assign({},mo):!1===P?Object.assign({},Fo):P,ri(g))return pt(this.currentUrlTree,g,H);const q=this.parseUrl(g);return pt(this.currentUrlTree,q,H)}removeEmptyProps(g){return Object.keys(g).reduce((P,H)=>{const q=g[H];return null!=q&&(P[H]=q),P},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new Bn(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,P,H,q,Y){var ce,yt,hn;if(this.disposed)return Promise.resolve(!1);const Yn=this.transitions.value,Cn=Zs(P)&&Yn&&!Zs(Yn.source),_r=Yn.rawUrl.toString()===g.toString(),vr=Yn.id===(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id);if(Cn&&_r&&vr)return Promise.resolve(!0);let Gi,Ds,Ns;Y?(Gi=Y.resolve,Ds=Y.reject,Ns=Y.promise):Ns=new Promise((zi,Qn)=>{Gi=zi,Ds=Qn});const mi=++this.navigationId;let Yi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(H=this.location.getState()),Yi=H&&H.\u0275routerPageId?H.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(yt=this.browserPageId)&&void 0!==yt?yt:0:(null!==(hn=this.browserPageId)&&void 0!==hn?hn:0)+1):Yi=0,this.setTransition({id:mi,targetPageId:Yi,source:P,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:q,resolve:Gi,reject:Ds,promise:Ns,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ns.catch(zi=>Promise.reject(zi))}setBrowserUrl(g,P){const H=this.urlSerializer.serialize(g),q=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(H)||P.extras.replaceUrl?this.location.replaceState(H,"",q):this.location.go(H,"",q)}restoreHistory(g,P=!1){var H,q;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)||0===Y?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===Y&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,P){const H=new Pn(g.id,this.serializeUrl(g.extractedUrl),P);this.triggerEvent(H),g.resolve(!1)}generateNgRouterState(g,P){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:P}:{navigationId:g}}}return S.\u0275fac=function(g){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function Zs(S){return"imperative"!==S}let go=(()=>{class S{constructor(g,P,H,q,Y){this.router=g,this.route=P,this.tabIndexAttribute=H,this.renderer=q,this.el=Y,this.commands=null,this.onChanges=new we.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(g){if(null!=this.tabIndexAttribute)return;const P=this.renderer,H=this.el.nativeElement;null!==g?P.setAttribute(H,"tabindex",g):P.removeAttribute(H,"tabindex")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const g={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return S.\u0275fac=function(g){return new(g||S)(c.Y36(ci),c.Y36(xn),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},S.\u0275dir=c.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,P){1&g&&c.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),S})();function Ri(S){return""===S||!!S}class yo{}class Xo{preload(w,g){return(0,tt.of)(null)}}let os=(()=>{class S{constructor(g,P,H,q){this.router=g,this.injector=H,this.preloadingStrategy=q,this.loader=new Oa(H,P,yt=>g.triggerEvent(new zn(yt)),yt=>g.triggerEvent(new kn(yt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.h)(g=>g instanceof Bn),(0,rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const g=this.injector.get(c.h0i);return this.processRoutes(g,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,P){const H=[];for(const q of P)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const Y=q._loadedConfig;H.push(this.processRoutes(Y.module,Y.routes))}else q.loadChildren&&!q.canLoad?H.push(this.preloadConfig(g,q)):q.children&&H.push(this.processRoutes(g,q.children));return(0,j.D)(H).pipe((0,tn.J)(),(0,Be.U)(q=>{}))}preloadConfig(g,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,tt.of)(P._loadedConfig):this.loader.load(g.injector,P)).pipe((0,_t.z)(q=>(P._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return S.\u0275fac=function(g){return new(g||S)(c.LFG(ci),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(yo))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),ka=(()=>{class S{constructor(g,P,H={}){this.router=g,this.viewportScroller=P,this.options=H,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},H.scrollPositionRestoration=H.scrollPositionRestoration||"disabled",H.anchorScrolling=H.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Bn&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Dn&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,P){this.router.triggerEvent(new Dn(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(g){c.$Z()},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();const Ci=new c.OlP("ROUTER_CONFIGURATION"),wl=new c.OlP("ROUTER_FORROOT_GUARD"),Cl=[on.Ye,{provide:Ut,useClass:Xe},{provide:ci,useFactory:function ea(S,w,g,P,H,q,Y={},ce,yt){const hn=new ci(null,S,w,g,P,H,In(q));return ce&&(hn.urlHandlingStrategy=ce),yt&&(hn.routeReuseStrategy=yt),function ta(S,w){S.errorHandler&&(w.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(w.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(w.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(w.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(w.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(w.canceledNavigationResolution=S.canceledNavigationResolution)}(Y,hn),Y.enableTracing&&hn.events.subscribe(Yn=>{var Cn,_r;null===(Cn=console.group)||void 0===Cn||Cn.call(console,`Router Event: ${Yn.constructor.name}`),console.log(Yn.toString()),console.log(Yn),null===(_r=console.groupEnd)||void 0===_r||_r.call(console)}),hn},deps:[Ut,is,on.Ye,c.zs3,c.Sil,Fr,Ci,[class bl{},new c.FiY],[class pu{},new c.FiY]]},is,{provide:xn,useFactory:function Oi(S){return S.routerState.root},deps:[ci]},os,Xo,class Na{preload(w,g){return g().pipe((0,dt.K)(()=>(0,tt.of)(null)))}},{provide:Ci,useValue:{enableTracing:!1}}];function Rs(){return new c.PXZ("Router",ci)}let gu=(()=>{class S{constructor(g,P){}static forRoot(g,P){return{ngModule:S,providers:[Cl,Os(g),{provide:wl,useFactory:Dl,deps:[[ci,new c.FiY,new c.tp0]]},{provide:Ci,useValue:P||{}},{provide:on.S$,useFactory:_o,deps:[on.lw,[new c.tBr(on.mr),new c.FiY],Ci]},{provide:ka,useFactory:ii,deps:[ci,on.EM,Ci]},{provide:yo,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Xo},{provide:c.PXZ,multi:!0,useFactory:Rs},[Ps,{provide:c.ip1,multi:!0,useFactory:Bs,deps:[Ps]},{provide:Il,useFactory:Lo,deps:[Ps]},{provide:c.tb,multi:!0,useExisting:Il}]]}}static forChild(g){return{ngModule:S,providers:[Os(g)]}}}return S.\u0275fac=function(g){return new(g||S)(c.LFG(wl,8),c.LFG(ci,8))},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();function ii(S,w,g){return g.scrollOffset&&w.setOffset(g.scrollOffset),new ka(S,w,g)}function _o(S,w,g={}){return g.useHash?new on.Do(S,w):new on.b0(S,w)}function Dl(S){return"guarded"}function Os(S){return[{provide:c.deG,multi:!0,useValue:S},{provide:Fr,multi:!0,useValue:S}]}let Ps=(()=>{class S{constructor(g){this.injector=g,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we.x}appInitializer(){return this.injector.get(on.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const H=new Promise(ce=>P=ce),q=this.injector.get(ci),Y=this.injector.get(Ci);return"disabled"===Y.initialNavigation?(q.setUpLocationChangeListener(),P(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,tt.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),q.initialNavigation()):P(!0),H})}bootstrapListener(g){const P=this.injector.get(Ci),H=this.injector.get(os),q=this.injector.get(ka),Y=this.injector.get(ci),ce=this.injector.get(c.z2F);g===ce.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&Y.initialNavigation(),H.setUpPreloading(),q.init(),Y.resetRootComponentType(ce.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(g){return new(g||S)(c.LFG(c.zs3))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})();function Bs(S){return S.appInitializer.bind(S)}function Lo(S){return S.bootstrapListener.bind(S)}const Il=new c.OlP("Router Initializer")},3942:(xt,Ye,A)=>{A.d(Ye,{Z:()=>Ge});var c=A(2090),D=A(4859),W=A(9681),j=A(1877);class Re{constructor(xe,ut){this._delegate=xe,this.firebase=ut,(0,W._addComponent)(xe,new D.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(xe,ut=W._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(xe);return!tt.isInitialized()&&"EXPLICIT"===(null===(De=tt.getComponent())||void 0===De?void 0:De.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ut})}_removeServiceInstance(xe,ut=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(ut)}_addComponent(xe){(0,W._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,W._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ae(){const Ze=function me(Ze){const xe={},ut={__esModule:!0,initializeApp:function ke(we,Fe={}){const Me=W.initializeApp(we,Fe);if((0,c.r3)(xe,Me.name))return xe[Me.name];const He=new Ze(Me,ut);return xe[Me.name]=He,He},app:tt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function he(we){const Fe=we.name,Me=Fe.replace("-compat","");if(W._registerComponent(we)&&"PUBLIC"===we.type){const He=(We=tt())=>{if("function"!=typeof We[Me])throw Ve.create("invalid-app-argument",{appName:Fe});return We[Me]()};void 0!==we.serviceProps&&(0,c.ZB)(He,we.serviceProps),ut[Me]=He,Ze.prototype[Me]=function(...We){return this._getService.bind(this,Fe).apply(this,we.multipleInstances?We:[])}}return"PUBLIC"===we.type?ut[Me]:null},removeApp:function De(we){delete xe[we]},useAsService:function ze(we,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:W}};function tt(we){if(!(0,c.r3)(xe,we=we||W._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:we});return xe[we]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function ye(){return Object.keys(xe).map(we=>xe[we])}}),tt.App=Ze,ut}(Re);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function xe(ut){(0,c.ZB)(Ze,ut)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ze}(),ie=new j.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=de;!function Ne(Ze){(0,W.registerVersion)("@firebase/app-compat","0.1.17",Ze)}()},9681:(xt,Ye,A)=>{A.r(Ye),A.d(Ye,{FirebaseError:()=>j.ZR,SDK_VERSION:()=>On,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>_t,_addOrOverwriteComponent:()=>Ft,_apps:()=>rt,_clearComponents:()=>an,_components:()=>Ct,_getProvider:()=>tn,_registerComponent:()=>Wt,_removeServiceInstance:()=>on,deleteApp:()=>wn,getApp:()=>An,getApps:()=>_n,initializeApp:()=>Tn,onLog:()=>kn,registerVersion:()=>zn,setLogLevel:()=>Mn});var c=A(5861),D=A(4859),W=A(1877),j=A(2090);class Re{constructor(Qt){this.container=Qt}getPlatformInfoString(){return this.container.getProviders().map(Dn=>{if(function Te(Xt){const Qt=Xt.getComponent();return"VERSION"===(null==Qt?void 0:Qt.type)}(Dn)){const qt=Dn.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(Dn=>Dn).join(" ")}}const Ve="@firebase/app",Ae=new W.Yd("@firebase/app"),Zt="[DEFAULT]",dt={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Ct=new Map;function _t(Xt,Qt){try{Xt.container.addComponent(Qt)}catch(Dn){Ae.debug(`Component ${Qt.name} failed to register with FirebaseApp ${Xt.name}`,Dn)}}function Ft(Xt,Qt){Xt.container.addOrOverwriteComponent(Qt)}function Wt(Xt){const Qt=Xt.name;if(Ct.has(Qt))return Ae.debug(`There were multiple attempts to register component ${Qt}.`),!1;Ct.set(Qt,Xt);for(const Dn of rt.values())_t(Dn,Xt);return!0}function tn(Xt,Qt){return Xt.container.getProvider(Qt)}function on(Xt,Qt,Dn=Zt){tn(Xt,Qt).clearInstance(Dn)}function an(){Ct.clear()}const Bn=new j.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Pn{constructor(Qt,Dn,qt){this._isDeleted=!1,this._options=Object.assign({},Qt),this._config=Object.assign({},Dn),this._name=Dn.name,this._automaticDataCollectionEnabled=Dn.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new D.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qt){this._isDeleted=Qt}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const On="9.6.6";function Tn(Xt,Qt={}){"object"!=typeof Qt&&(Qt={name:Qt});const Dn=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Qt),qt=Dn.name;if("string"!=typeof qt||!qt)throw Bn.create("bad-app-name",{appName:String(qt)});const vt=rt.get(qt);if(vt){if((0,j.vZ)(Xt,vt.options)&&(0,j.vZ)(Dn,vt.config))return vt;throw Bn.create("duplicate-app",{appName:qt})}const At=new D.H0(qt);for(const it of Ct.values())At.addComponent(it);const je=new Pn(Xt,Dn,At);return rt.set(qt,je),je}function An(Xt=Zt){const Qt=rt.get(Xt);if(!Qt)throw Bn.create("no-app",{appName:Xt});return Qt}function _n(){return Array.from(rt.values())}function wn(Xt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(Xt){const Qt=Xt.name;rt.has(Qt)&&(rt.delete(Qt),yield Promise.all(Xt.container.getProviders().map(Dn=>Dn.delete())),Xt.isDeleted=!0)})).apply(this,arguments)}function zn(Xt,Qt,Dn){var qt;let vt=null!==(qt=dt[Xt])&&void 0!==qt?qt:Xt;Dn&&(vt+=`-${Dn}`);const At=vt.match(/\s|\//),je=Qt.match(/\s|\//);if(At||je){const it=[`Unable to register library "${vt}" with version "${Qt}":`];return At&&it.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),At&&je&&it.push("and"),je&&it.push(`version name "${Qt}" contains illegal characters (whitespace or "/")`),void Ae.warn(it.join(" "))}Wt(new D.wA(`${vt}-version`,()=>({library:vt,version:Qt}),"VERSION"))}function kn(Xt,Qt){if(null!==Xt&&"function"!=typeof Xt)throw Bn.create("invalid-log-argument");(0,W.Am)(Xt,Qt)}function Mn(Xt){(0,W.Ub)(Xt)}!function Fn(Xt){Wt(new D.wA("platform-logger",Qt=>new Re(Qt),"PRIVATE")),zn(Ve,"0.7.16",Xt),zn(Ve,"0.7.16","esm2017"),zn("fire-js","")}("")},4859:(xt,Ye,A)=>{A.d(Ye,{wA:()=>W,H0:()=>me});var c=A(5861),D=A(2090);class W{constructor(de,ie,be){this.name=de,this.instanceFactory=ie,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const j="[DEFAULT]";class Re{constructor(de,ie){this.name=de,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const ie=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(ie)){const be=new D.BH;if(this.instancesDeferred.set(ie,be),this.isInitialized(ie)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ie});ot&&be.resolve(ot)}catch(ot){}}return this.instancesDeferred.get(ie).promise}getImmediate(de){var ie;const be=this.normalizeInstanceIdentifier(null==de?void 0:de.identifier),ot=null!==(ie=null==de?void 0:de.optional)&&void 0!==ie&&ie;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ne){if(ot)return null;throw Ne}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Ve(Ae){return"EAGER"===Ae.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:j})}catch(ie){}for(const[ie,be]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ie);try{const Ne=this.getOrInitializeService({instanceIdentifier:ot});be.resolve(Ne)}catch(Ne){}}}}clearInstance(de=j){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,c.Z)(function*(){const ie=Array.from(de.instances.values());yield Promise.all([...ie.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ie.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=j){return this.instances.has(de)}getOptions(de=j){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:ie={}}=de,be=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:be,options:ie});for(const[Ne,Ge]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ne)&&Ge.resolve(ot);return ot}onInit(de,ie){var be;const ot=this.normalizeInstanceIdentifier(ie),Ne=null!==(be=this.onInitCallbacks.get(ot))&&void 0!==be?be:new Set;Ne.add(de),this.onInitCallbacks.set(ot,Ne);const Ge=this.instances.get(ot);return Ge&&de(Ge,ot),()=>{Ne.delete(de)}}invokeOnInitCallbacks(de,ie){const be=this.onInitCallbacks.get(ie);if(be)for(const ot of be)try{ot(de,ie)}catch(Ne){}}getOrInitializeService({instanceIdentifier:de,options:ie={}}){let be=this.instances.get(de);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=de,Ae===j?void 0:Ae),options:ie}),this.instances.set(de,be),this.instancesOptions.set(de,ie),this.invokeOnInitCallbacks(be,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,be)}catch(ot){}var Ae;return be||null}normalizeInstanceIdentifier(de=j){return this.component?this.component.multipleInstances?de:j:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const ie=this.getProvider(de.name);if(ie.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);ie.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const ie=new Re(de,this);return this.providers.set(de,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ye,A)=>{A.d(Ye,{in:()=>D,Yd:()=>Ve,Ub:()=>me,Am:()=>Ae});const c=[];var D=(()=>{return(de=D||(D={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",D;var de})();const W={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},j=D.INFO,Re={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},Te=(de,ie,...be)=>{if(ie<de.logLevel)return;const ot=(new Date).toISOString(),Ne=Re[ie];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ne](`[${ot}]  ${de.name}:`,...be)};class Ve{constructor(ie){this.name=ie,this._logLevel=j,this._logHandler=Te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in D))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?W[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...ie),this._logHandler(this,D.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...ie),this._logHandler(this,D.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,D.INFO,...ie),this._logHandler(this,D.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,D.WARN,...ie),this._logHandler(this,D.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...ie),this._logHandler(this,D.ERROR,...ie)}}function me(de){c.forEach(ie=>{ie.setLogLevel(de)})}function Ae(de,ie){for(const be of c){let ot=null;ie&&ie.level&&(ot=W[ie.level]),be.userLogHandler=null===de?null:(Ne,Ge,...Ze)=>{const xe=Ze.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch(De){return null}}).filter(ut=>ut).join(" ");Ge>=(null!=ot?ot:Ne.logLevel)&&de({level:D[Ge].toLowerCase(),message:xe,args:Ze,type:Ne.name})}}}},5861:(xt,Ye,A)=>{function c(W,j,Re,Te,Ve,me,Ae){try{var de=W[me](Ae),ie=de.value}catch(be){return void Re(be)}de.done?j(ie):Promise.resolve(ie).then(Te,Ve)}function D(W){return function(){var j=this,Re=arguments;return new Promise(function(Te,Ve){var me=W.apply(j,Re);function Ae(ie){c(me,Te,Ve,Ae,de,"next",ie)}function de(ie){c(me,Te,Ve,Ae,de,"throw",ie)}Ae(void 0)})}}A.d(Ye,{Z:()=>D})}},xt=>{xt(xt.s=6281)}]);